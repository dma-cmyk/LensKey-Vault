(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const E of document.querySelectorAll('link[rel="modulepreload"]'))y(E);new MutationObserver(E=>{for(const v of E)if(v.type==="childList")for(const T of v.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&y(T)}).observe(document,{childList:!0,subtree:!0});function m(E){const v={};return E.integrity&&(v.integrity=E.integrity),E.referrerPolicy&&(v.referrerPolicy=E.referrerPolicy),E.crossOrigin==="use-credentials"?v.credentials="include":E.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function y(E){if(E.ep)return;E.ep=!0;const v=m(E);fetch(E.href,v)}})();var wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function D0(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var Lf={exports:{}},xo={};var Qh;function Fx(){if(Qh)return xo;Qh=1;var h=Symbol.for("react.transitional.element"),g=Symbol.for("react.fragment");function m(y,E,v){var T=null;if(v!==void 0&&(T=""+v),E.key!==void 0&&(T=""+E.key),"key"in E){v={};for(var O in E)O!=="key"&&(v[O]=E[O])}else v=E;return E=v.ref,{$$typeof:h,type:y,key:T,ref:E!==void 0?E:null,props:v}}return xo.Fragment=g,xo.jsx=m,xo.jsxs=m,xo}var Wh;function Px(){return Wh||(Wh=1,Lf.exports=Fx()),Lf.exports}var H=Px(),zf={exports:{}},Tt={};var Jh;function jx(){if(Jh)return Tt;Jh=1;var h=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),T=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),W=Symbol.iterator;function K(Y){return Y===null||typeof Y!="object"?null:(Y=W&&Y[W]||Y["@@iterator"],typeof Y=="function"?Y:null)}var Ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},le=Object.assign,Se={};function Te(Y,ue,ze){this.props=Y,this.context=ue,this.refs=Se,this.updater=ze||Ee}Te.prototype.isReactComponent={},Te.prototype.setState=function(Y,ue){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ue,"setState")},Te.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function Ce(){}Ce.prototype=Te.prototype;function se(Y,ue,ze){this.props=Y,this.context=ue,this.refs=Se,this.updater=ze||Ee}var me=se.prototype=new Ce;me.constructor=se,le(me,Te.prototype),me.isPureReactComponent=!0;var Xe=Array.isArray;function he(){}var X={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function Q(Y,ue,ze){var _e=ze.ref;return{$$typeof:h,type:Y,key:ue,ref:_e!==void 0?_e:null,props:ze}}function je(Y,ue){return Q(Y.type,ue,Y.props)}function Me(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===h}function we(Y){var ue={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(ze){return ue[ze]})}var ae=/\/+/g;function Re(Y,ue){return typeof Y=="object"&&Y!==null&&Y.key!=null?we(""+Y.key):ue.toString(36)}function $(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(he,he):(Y.status="pending",Y.then(function(ue){Y.status==="pending"&&(Y.status="fulfilled",Y.value=ue)},function(ue){Y.status==="pending"&&(Y.status="rejected",Y.reason=ue)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function re(Y,ue,ze,_e,He){var Ae=typeof Y;(Ae==="undefined"||Ae==="boolean")&&(Y=null);var Je=!1;if(Y===null)Je=!0;else switch(Ae){case"bigint":case"string":case"number":Je=!0;break;case"object":switch(Y.$$typeof){case h:case g:Je=!0;break;case j:return Je=Y._init,re(Je(Y._payload),ue,ze,_e,He)}}if(Je)return He=He(Y),Je=_e===""?"."+Re(Y,0):_e,Xe(He)?(ze="",Je!=null&&(ze=Je.replace(ae,"$&/")+"/"),re(He,ue,ze,"",function(Ue){return Ue})):He!=null&&(Me(He)&&(He=je(He,ze+(He.key==null||Y&&Y.key===He.key?"":(""+He.key).replace(ae,"$&/")+"/")+Je)),ue.push(He)),1;Je=0;var We=_e===""?".":_e+":";if(Xe(Y))for(var it=0;it<Y.length;it++)_e=Y[it],Ae=We+Re(_e,it),Je+=re(_e,ue,ze,Ae,He);else if(it=K(Y),typeof it=="function")for(Y=it.call(Y),it=0;!(_e=Y.next()).done;)_e=_e.value,Ae=We+Re(_e,it++),Je+=re(_e,ue,ze,Ae,He);else if(Ae==="object"){if(typeof Y.then=="function")return re($(Y),ue,ze,_e,He);throw ue=String(Y),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Je}function pe(Y,ue,ze){if(Y==null)return Y;var _e=[],He=0;return re(Y,_e,"","",function(Ae){return ue.call(ze,Ae,He++)}),_e}function qe(Y){if(Y._status===-1){var ue=Y._result;ue=ue(),ue.then(function(ze){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=ze)},function(ze){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=ze)}),Y._status===-1&&(Y._status=0,Y._result=ue)}if(Y._status===1)return Y._result.default;throw Y._result}var tt=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},be={map:pe,forEach:function(Y,ue,ze){pe(Y,function(){ue.apply(this,arguments)},ze)},count:function(Y){var ue=0;return pe(Y,function(){ue++}),ue},toArray:function(Y){return pe(Y,function(ue){return ue})||[]},only:function(Y){if(!Me(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return Tt.Activity=L,Tt.Children=be,Tt.Component=Te,Tt.Fragment=m,Tt.Profiler=E,Tt.PureComponent=se,Tt.StrictMode=y,Tt.Suspense=R,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return X.H.useMemoCache(Y)}},Tt.cache=function(Y){return function(){return Y.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(Y,ue,ze){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var _e=le({},Y.props),He=Y.key;if(ue!=null)for(Ae in ue.key!==void 0&&(He=""+ue.key),ue)!ee.call(ue,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ue.ref===void 0||(_e[Ae]=ue[Ae]);var Ae=arguments.length-2;if(Ae===1)_e.children=ze;else if(1<Ae){for(var Je=Array(Ae),We=0;We<Ae;We++)Je[We]=arguments[We+2];_e.children=Je}return Q(Y.type,He,_e)},Tt.createContext=function(Y){return Y={$$typeof:T,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:v,_context:Y},Y},Tt.createElement=function(Y,ue,ze){var _e,He={},Ae=null;if(ue!=null)for(_e in ue.key!==void 0&&(Ae=""+ue.key),ue)ee.call(ue,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(He[_e]=ue[_e]);var Je=arguments.length-2;if(Je===1)He.children=ze;else if(1<Je){for(var We=Array(Je),it=0;it<Je;it++)We[it]=arguments[it+2];He.children=We}if(Y&&Y.defaultProps)for(_e in Je=Y.defaultProps,Je)He[_e]===void 0&&(He[_e]=Je[_e]);return Q(Y,Ae,He)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(Y){return{$$typeof:O,render:Y}},Tt.isValidElement=Me,Tt.lazy=function(Y){return{$$typeof:j,_payload:{_status:-1,_result:Y},_init:qe}},Tt.memo=function(Y,ue){return{$$typeof:S,type:Y,compare:ue===void 0?null:ue}},Tt.startTransition=function(Y){var ue=X.T,ze={};X.T=ze;try{var _e=Y(),He=X.S;He!==null&&He(ze,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(he,tt)}catch(Ae){tt(Ae)}finally{ue!==null&&ze.types!==null&&(ue.types=ze.types),X.T=ue}},Tt.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Tt.use=function(Y){return X.H.use(Y)},Tt.useActionState=function(Y,ue,ze){return X.H.useActionState(Y,ue,ze)},Tt.useCallback=function(Y,ue){return X.H.useCallback(Y,ue)},Tt.useContext=function(Y){return X.H.useContext(Y)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(Y,ue){return X.H.useDeferredValue(Y,ue)},Tt.useEffect=function(Y,ue){return X.H.useEffect(Y,ue)},Tt.useEffectEvent=function(Y){return X.H.useEffectEvent(Y)},Tt.useId=function(){return X.H.useId()},Tt.useImperativeHandle=function(Y,ue,ze){return X.H.useImperativeHandle(Y,ue,ze)},Tt.useInsertionEffect=function(Y,ue){return X.H.useInsertionEffect(Y,ue)},Tt.useLayoutEffect=function(Y,ue){return X.H.useLayoutEffect(Y,ue)},Tt.useMemo=function(Y,ue){return X.H.useMemo(Y,ue)},Tt.useOptimistic=function(Y,ue){return X.H.useOptimistic(Y,ue)},Tt.useReducer=function(Y,ue,ze){return X.H.useReducer(Y,ue,ze)},Tt.useRef=function(Y){return X.H.useRef(Y)},Tt.useState=function(Y){return X.H.useState(Y)},Tt.useSyncExternalStore=function(Y,ue,ze){return X.H.useSyncExternalStore(Y,ue,ze)},Tt.useTransition=function(){return X.H.useTransition()},Tt.version="19.2.4",Tt}var $h;function I0(){return $h||($h=1,zf.exports=jx()),zf.exports}var J=I0();const mi=D0(J);var Uf={exports:{}},po={},Ff={exports:{}},Pf={};var eg;function Hx(){return eg||(eg=1,(function(h){function g(re,pe){var qe=re.length;re.push(pe);e:for(;0<qe;){var tt=qe-1>>>1,be=re[tt];if(0<E(be,pe))re[tt]=pe,re[qe]=be,qe=tt;else break e}}function m(re){return re.length===0?null:re[0]}function y(re){if(re.length===0)return null;var pe=re[0],qe=re.pop();if(qe!==pe){re[0]=qe;e:for(var tt=0,be=re.length,Y=be>>>1;tt<Y;){var ue=2*(tt+1)-1,ze=re[ue],_e=ue+1,He=re[_e];if(0>E(ze,qe))_e<be&&0>E(He,ze)?(re[tt]=He,re[_e]=qe,tt=_e):(re[tt]=ze,re[ue]=qe,tt=ue);else if(_e<be&&0>E(He,qe))re[tt]=He,re[_e]=qe,tt=_e;else break e}}return pe}function E(re,pe){var qe=re.sortIndex-pe.sortIndex;return qe!==0?qe:re.id-pe.id}if(h.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var v=performance;h.unstable_now=function(){return v.now()}}else{var T=Date,O=T.now();h.unstable_now=function(){return T.now()-O}}var R=[],S=[],j=1,L=null,W=3,K=!1,Ee=!1,le=!1,Se=!1,Te=typeof setTimeout=="function"?setTimeout:null,Ce=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function me(re){for(var pe=m(S);pe!==null;){if(pe.callback===null)y(S);else if(pe.startTime<=re)y(S),pe.sortIndex=pe.expirationTime,g(R,pe);else break;pe=m(S)}}function Xe(re){if(le=!1,me(re),!Ee)if(m(R)!==null)Ee=!0,he||(he=!0,we());else{var pe=m(S);pe!==null&&$(Xe,pe.startTime-re)}}var he=!1,X=-1,ee=5,Q=-1;function je(){return Se?!0:!(h.unstable_now()-Q<ee)}function Me(){if(Se=!1,he){var re=h.unstable_now();Q=re;var pe=!0;try{e:{Ee=!1,le&&(le=!1,Ce(X),X=-1),K=!0;var qe=W;try{t:{for(me(re),L=m(R);L!==null&&!(L.expirationTime>re&&je());){var tt=L.callback;if(typeof tt=="function"){L.callback=null,W=L.priorityLevel;var be=tt(L.expirationTime<=re);if(re=h.unstable_now(),typeof be=="function"){L.callback=be,me(re),pe=!0;break t}L===m(R)&&y(R),me(re)}else y(R);L=m(R)}if(L!==null)pe=!0;else{var Y=m(S);Y!==null&&$(Xe,Y.startTime-re),pe=!1}}break e}finally{L=null,W=qe,K=!1}pe=void 0}}finally{pe?we():he=!1}}}var we;if(typeof se=="function")we=function(){se(Me)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Re=ae.port2;ae.port1.onmessage=Me,we=function(){Re.postMessage(null)}}else we=function(){Te(Me,0)};function $(re,pe){X=Te(function(){re(h.unstable_now())},pe)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(re){re.callback=null},h.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<re?Math.floor(1e3/re):5},h.unstable_getCurrentPriorityLevel=function(){return W},h.unstable_next=function(re){switch(W){case 1:case 2:case 3:var pe=3;break;default:pe=W}var qe=W;W=pe;try{return re()}finally{W=qe}},h.unstable_requestPaint=function(){Se=!0},h.unstable_runWithPriority=function(re,pe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var qe=W;W=re;try{return pe()}finally{W=qe}},h.unstable_scheduleCallback=function(re,pe,qe){var tt=h.unstable_now();switch(typeof qe=="object"&&qe!==null?(qe=qe.delay,qe=typeof qe=="number"&&0<qe?tt+qe:tt):qe=tt,re){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=qe+be,re={id:j++,callback:pe,priorityLevel:re,startTime:qe,expirationTime:be,sortIndex:-1},qe>tt?(re.sortIndex=qe,g(S,re),m(R)===null&&re===m(S)&&(le?(Ce(X),X=-1):le=!0,$(Xe,qe-tt))):(re.sortIndex=be,g(R,re),Ee||K||(Ee=!0,he||(he=!0,we()))),re},h.unstable_shouldYield=je,h.unstable_wrapCallback=function(re){var pe=W;return function(){var qe=W;W=pe;try{return re.apply(this,arguments)}finally{W=qe}}}})(Pf)),Pf}var tg;function Vx(){return tg||(tg=1,Ff.exports=Hx()),Ff.exports}var jf={exports:{}},Kr={};var ng;function Gx(){if(ng)return Kr;ng=1;var h=I0();function g(R){var S="https://react.dev/errors/"+R;if(1<arguments.length){S+="?args[]="+encodeURIComponent(arguments[1]);for(var j=2;j<arguments.length;j++)S+="&args[]="+encodeURIComponent(arguments[j])}return"Minified React error #"+R+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(){}var y={d:{f:m,r:function(){throw Error(g(522))},D:m,C:m,L:m,m,X:m,S:m,M:m},p:0,findDOMNode:null},E=Symbol.for("react.portal");function v(R,S,j){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:L==null?null:""+L,children:R,containerInfo:S,implementation:j}}var T=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function O(R,S){if(R==="font")return"";if(typeof S=="string")return S==="use-credentials"?S:""}return Kr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=y,Kr.createPortal=function(R,S){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S||S.nodeType!==1&&S.nodeType!==9&&S.nodeType!==11)throw Error(g(299));return v(R,S,null,j)},Kr.flushSync=function(R){var S=T.T,j=y.p;try{if(T.T=null,y.p=2,R)return R()}finally{T.T=S,y.p=j,y.d.f()}},Kr.preconnect=function(R,S){typeof R=="string"&&(S?(S=S.crossOrigin,S=typeof S=="string"?S==="use-credentials"?S:"":void 0):S=null,y.d.C(R,S))},Kr.prefetchDNS=function(R){typeof R=="string"&&y.d.D(R)},Kr.preinit=function(R,S){if(typeof R=="string"&&S&&typeof S.as=="string"){var j=S.as,L=O(j,S.crossOrigin),W=typeof S.integrity=="string"?S.integrity:void 0,K=typeof S.fetchPriority=="string"?S.fetchPriority:void 0;j==="style"?y.d.S(R,typeof S.precedence=="string"?S.precedence:void 0,{crossOrigin:L,integrity:W,fetchPriority:K}):j==="script"&&y.d.X(R,{crossOrigin:L,integrity:W,fetchPriority:K,nonce:typeof S.nonce=="string"?S.nonce:void 0})}},Kr.preinitModule=function(R,S){if(typeof R=="string")if(typeof S=="object"&&S!==null){if(S.as==null||S.as==="script"){var j=O(S.as,S.crossOrigin);y.d.M(R,{crossOrigin:j,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0})}}else S==null&&y.d.M(R)},Kr.preload=function(R,S){if(typeof R=="string"&&typeof S=="object"&&S!==null&&typeof S.as=="string"){var j=S.as,L=O(j,S.crossOrigin);y.d.L(R,j,{crossOrigin:L,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0,type:typeof S.type=="string"?S.type:void 0,fetchPriority:typeof S.fetchPriority=="string"?S.fetchPriority:void 0,referrerPolicy:typeof S.referrerPolicy=="string"?S.referrerPolicy:void 0,imageSrcSet:typeof S.imageSrcSet=="string"?S.imageSrcSet:void 0,imageSizes:typeof S.imageSizes=="string"?S.imageSizes:void 0,media:typeof S.media=="string"?S.media:void 0})}},Kr.preloadModule=function(R,S){if(typeof R=="string")if(S){var j=O(S.as,S.crossOrigin);y.d.m(R,{as:typeof S.as=="string"&&S.as!=="script"?S.as:void 0,crossOrigin:j,integrity:typeof S.integrity=="string"?S.integrity:void 0})}else y.d.m(R)},Kr.requestFormReset=function(R){y.d.r(R)},Kr.unstable_batchedUpdates=function(R,S){return R(S)},Kr.useFormState=function(R,S,j){return T.H.useFormState(R,S,j)},Kr.useFormStatus=function(){return T.H.useHostTransitionStatus()},Kr.version="19.2.4",Kr}var rg;function v2(){if(rg)return jf.exports;rg=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(g){console.error(g)}}return h(),jf.exports=Gx(),jf.exports}var ig;function Xx(){if(ig)return po;ig=1;var h=Vx(),g=I0(),m=v2();function y(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function E(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function v(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function T(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function O(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function R(e){if(v(e)!==e)throw Error(y(188))}function S(e){var n=e.alternate;if(!n){if(n=v(e),n===null)throw Error(y(188));return n!==e?null:e}for(var l=e,u=n;;){var p=l.return;if(p===null)break;var w=p.alternate;if(w===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===w.child){for(w=p.child;w;){if(w===l)return R(p),e;if(w===u)return R(p),n;w=w.sibling}throw Error(y(188))}if(l.return!==u.return)l=p,u=w;else{for(var _=!1,M=p.child;M;){if(M===l){_=!0,l=p,u=w;break}if(M===u){_=!0,u=p,l=w;break}M=M.sibling}if(!_){for(M=w.child;M;){if(M===l){_=!0,l=w,u=p;break}if(M===u){_=!0,u=w,l=p;break}M=M.sibling}if(!_)throw Error(y(189))}}if(l.alternate!==u)throw Error(y(190))}if(l.tag!==3)throw Error(y(188));return l.stateNode.current===l?e:n}function j(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=j(e),n!==null)return n;e=e.sibling}return null}var L=Object.assign,W=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),Ee=Symbol.for("react.portal"),le=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),Te=Symbol.for("react.profiler"),Ce=Symbol.for("react.consumer"),se=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),Xe=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),je=Symbol.for("react.memo_cache_sentinel"),Me=Symbol.iterator;function we(e){return e===null||typeof e!="object"?null:(e=Me&&e[Me]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Symbol.for("react.client.reference");function Re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ae?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case le:return"Fragment";case Te:return"Profiler";case Se:return"StrictMode";case Xe:return"Suspense";case he:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ee:return"Portal";case se:return e.displayName||"Context";case Ce:return(e._context.displayName||"Context")+".Consumer";case me:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return n=e.displayName||null,n!==null?n:Re(e.type)||"Memo";case ee:n=e._payload,e=e._init;try{return Re(e(n))}catch{}}return null}var $=Array.isArray,re=g.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,qe={pending:!1,data:null,method:null,action:null},tt=[],be=-1;function Y(e){return{current:e}}function ue(e){0>be||(e.current=tt[be],tt[be]=null,be--)}function ze(e,n){be++,tt[be]=e.current,e.current=n}var _e=Y(null),He=Y(null),Ae=Y(null),Je=Y(null);function We(e,n){switch(ze(Ae,n),ze(He,e),ze(_e,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?bh(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=bh(n),e=wh(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ue(_e),ze(_e,e)}function it(){ue(_e),ue(He),ue(Ae)}function Ue(e){e.memoizedState!==null&&ze(Je,e);var n=_e.current,l=wh(n,e.type);n!==l&&(ze(He,e),ze(_e,l))}function en(e){He.current===e&&(ue(_e),ue(He)),Je.current===e&&(ue(Je),fo._currentValue=qe)}var gt,xt;function cn(e){if(gt===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);gt=n&&n[1]||"",xt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gt+e+xt}var pn=!1;function Tr(e,n){if(!e||pn)return"";pn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(ve){var xe=ve}Reflect.construct(e,[],Be)}else{try{Be.call()}catch(ve){xe=ve}e.call(Be.prototype)}}else{try{throw Error()}catch(ve){xe=ve}(Be=e())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(ve){if(ve&&xe&&typeof ve.stack=="string")return[ve.stack,xe.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=u.DetermineComponentFrameRoot(),_=w[0],M=w[1];if(_&&M){var q=_.split(`
`),de=M.split(`
`);for(p=u=0;u<q.length&&!q[u].includes("DetermineComponentFrameRoot");)u++;for(;p<de.length&&!de[p].includes("DetermineComponentFrameRoot");)p++;if(u===q.length||p===de.length)for(u=q.length-1,p=de.length-1;1<=u&&0<=p&&q[u]!==de[p];)p--;for(;1<=u&&0<=p;u--,p--)if(q[u]!==de[p]){if(u!==1||p!==1)do if(u--,p--,0>p||q[u]!==de[p]){var Ne=`
`+q[u].replace(" at new "," at ");return e.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",e.displayName)),Ne}while(1<=u&&0<=p);break}}}finally{pn=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?cn(l):""}function Gn(e,n){switch(e.tag){case 26:case 27:case 5:return cn(e.type);case 16:return cn("Lazy");case 13:return e.child!==n&&n!==null?cn("Suspense Fallback"):cn("Suspense");case 19:return cn("SuspenseList");case 0:case 15:return Tr(e.type,!1);case 11:return Tr(e.type.render,!1);case 1:return Tr(e.type,!0);case 31:return cn("Activity");default:return""}}function Wt(e){try{var n="",l=null;do n+=Gn(e,l),l=e,e=e.return;while(e);return n}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var _t=Object.prototype.hasOwnProperty,ir=h.unstable_scheduleCallback,Ke=h.unstable_cancelCallback,ti=h.unstable_shouldYield,pi=h.unstable_requestPaint,yn=h.unstable_now,yi=h.unstable_getCurrentPriorityLevel,dn=h.unstable_ImmediatePriority,dr=h.unstable_UserBlockingPriority,Xn=h.unstable_NormalPriority,bn=h.unstable_LowPriority,ki=h.unstable_IdlePriority,hr=h.log,ni=h.unstable_setDisableYieldValue,tn=null,Fe=null;function Dt(e){if(typeof hr=="function"&&ni(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(tn,e)}catch{}}var Le=Math.clz32?Math.clz32:Li,an=Math.log,_r=Math.LN2;function Li(e){return e>>>=0,e===0?32:31-(an(e)/_r|0)|0}var Ye=256,Rt=262144,ln=4194304;function Sn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qn(e,n,l){var u=e.pendingLanes;if(u===0)return 0;var p=0,w=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var M=u&134217727;return M!==0?(u=M&~w,u!==0?p=Sn(u):(_&=M,_!==0?p=Sn(_):l||(l=M&~e,l!==0&&(p=Sn(l))))):(M=u&~w,M!==0?p=Sn(M):_!==0?p=Sn(_):l||(l=u&~e,l!==0&&(p=Sn(l)))),p===0?0:n!==0&&n!==p&&(n&w)===0&&(w=p&-p,l=n&-n,w>=l||w===32&&(l&4194048)!==0)?n:p}function hn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function gr(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xt(){var e=ln;return ln<<=1,(ln&62914560)===0&&(ln=4194304),e}function Tn(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function Yn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jt(e,n,l,u,p,w){var _=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var M=e.entanglements,q=e.expirationTimes,de=e.hiddenUpdates;for(l=_&~l;0<l;){var Ne=31-Le(l),Be=1<<Ne;M[Ne]=0,q[Ne]=-1;var xe=de[Ne];if(xe!==null)for(de[Ne]=null,Ne=0;Ne<xe.length;Ne++){var ve=xe[Ne];ve!==null&&(ve.lane&=-536870913)}l&=~Be}u!==0&&Nr(e,u,0),w!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=w&~(_&~n))}function Nr(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var u=31-Le(n);e.entangledLanes|=n,e.entanglements[u]=e.entanglements[u]|1073741824|l&261930}function vt(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var u=31-Le(l),p=1<<u;p&n|e[u]&n&&(e[u]|=n),l&=~p}}function qt(e,n){var l=n&-n;return l=(l&42)!==0?1:zn(l),(l&(e.suspendedLanes|n))!==0?0:l}function zn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Wn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function wn(){var e=pe.p;return e!==0?e:(e=window.event,e===void 0?32:Vh(e.type))}function Ze(e,n){var l=pe.p;try{return pe.p=e,n()}finally{pe.p=l}}var ar=Math.random().toString(36).slice(2),gn="__reactFiber$"+ar,Pt="__reactProps$"+ar,Jn="__reactContainer$"+ar,bi="__reactEvents$"+ar,ja="__reactListeners$"+ar,lr="__reactHandles$"+ar,Tl="__reactResources$"+ar,Zr="__reactMarker$"+ar;function Mr(e){delete e[gn],delete e[Pt],delete e[bi],delete e[ja],delete e[lr]}function Un(e){var n=e[gn];if(n)return n;for(var l=e.parentNode;l;){if(n=l[Jn]||l[gn]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=_h(e);e!==null;){if(l=e[gn])return l;e=_h(e)}return n}e=l,l=e.parentNode}return null}function mt(e){if(e=e[gn]||e[Jn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Hr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(y(33))}function Pn(e){var n=e[Tl];return n||(n=e[Tl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function jn(e){e[Zr]=!0}var Ie=new Set,xa={};function $t(e,n){Br(e,n),Br(e+"Capture",n)}function Br(e,n){for(xa[e]=n,e=0;e<n.length;e++)Ie.add(n[e])}var Yi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jt={},Bt={};function Mt(e){return _t.call(Bt,e)?!0:_t.call(jt,e)?!1:Yi.test(e)?Bt[e]=!0:(jt[e]=!0,!1)}function Et(e,n,l){if(Mt(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function Ki(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function Vr(e,n,l,u){if(u===null)e.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+u)}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Jl(e,n,l){var u=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,w=u.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(_){l=""+_,w.call(this,_)}}),Object.defineProperty(e,n,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function _n(e){if(!e._valueTracker){var n=kr(e)?"checked":"value";e._valueTracker=Jl(e,n,""+e[n])}}function ri(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),u="";return e&&(u=kr(e)?e.checked?"true":"false":e.value),e=u,e!==l?(n.setValue(e),!0):!1}function nn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ii=/[\n"\\]/g;function At(e){return e.replace(ii,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Mn(e,n,l,u,p,w,_,M){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+zt(n)):e.value!==""+zt(n)&&(e.value=""+zt(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?F(e,_,zt(n)):l!=null?F(e,_,zt(l)):u!=null&&e.removeAttribute("value"),p==null&&w!=null&&(e.defaultChecked=!!w),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?e.name=""+zt(M):e.removeAttribute("name")}function oe(e,n,l,u,p,w,_,M){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.type=w),n!=null||l!=null){if(!(w!=="submit"&&w!=="reset"||n!=null)){_n(e);return}l=l!=null?""+zt(l):"",n=n!=null?""+zt(n):l,M||n===e.value||(e.value=n),e.defaultValue=n}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=M?e.checked:!!u,e.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),_n(e)}function F(e,n,l){n==="number"&&nn(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function nt(e,n,l,u){if(e=e.options,n){n={};for(var p=0;p<l.length;p++)n["$"+l[p]]=!0;for(l=0;l<e.length;l++)p=n.hasOwnProperty("$"+e[l].value),e[l].selected!==p&&(e[l].selected=p),p&&u&&(e[l].defaultSelected=!0)}else{for(l=""+zt(l),n=null,p=0;p<e.length;p++){if(e[p].value===l){e[p].selected=!0,u&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function Kn(e,n,l){if(n!=null&&(n=""+zt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+zt(l):""}function mr(e,n,l,u){if(n==null){if(u!=null){if(l!=null)throw Error(y(92));if($(u)){if(1<u.length)throw Error(y(93));u=u[0]}l=u}l==null&&(l=""),n=l}l=zt(n),e.defaultValue=l,u=e.textContent,u===l&&u!==""&&u!==null&&(e.value=u),_n(e)}function Zi(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var _l=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bt(e,n,l){var u=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":u?e.setProperty(n,l):typeof l!="number"||l===0||_l.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function ct(e,n,l){if(n!=null&&typeof n!="object")throw Error(y(62));if(e=e.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var p in n)u=n[p],n.hasOwnProperty(p)&&l[p]!==u&&bt(e,p,u)}else for(var w in n)n.hasOwnProperty(w)&&bt(e,w,n[w])}function vn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $l=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qr(e){return Lr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function vr(){}var Gr=null;function Ha(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nn=null,un=null;function $n(e){var n=mt(e);if(n&&(e=n.stateNode)){var l=e[Pt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Mn(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+At(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var u=l[n];if(u!==e&&u.form===e.form){var p=u[Pt]||null;if(!p)throw Error(y(90));Mn(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<l.length;n++)u=l[n],u.form===e.form&&ri(u)}break e;case"textarea":Kn(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&nt(e,!!l.multiple,n,!1)}}}var ut=!1;function ra(e,n,l){if(ut)return e(n,l);ut=!0;try{var u=e(n);return u}finally{if(ut=!1,(Nn!==null||un!==null)&&(cc(),Nn&&(n=Nn,e=un,un=Nn=null,$n(n),e)))for(n=0;n<e.length;n++)$n(e[n])}}function yt(e,n){var l=e.stateNode;if(l===null)return null;var u=l[Pt]||null;if(u===null)return null;l=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(y(231,n,typeof l));return l}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nl=!1;if(Ht)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){Nl=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{Nl=!1}var Wr=null,ai=null,ia=null;function li(){if(ia)return ia;var e,n=ai,l=n.length,u,p="value"in Wr?Wr.value:Wr.textContent,w=p.length;for(e=0;e<l&&n[e]===p[e];e++);var _=l-e;for(u=1;u<=_&&n[l-u]===p[w-u];u++);return ia=p.slice(e,1<u?1-u:void 0)}function si(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function wi(){return!0}function Rl(){return!1}function Fn(e){function n(l,u,p,w,_){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=w,this.target=_,this.currentTarget=null;for(var M in e)e.hasOwnProperty(M)&&(l=e[M],this[M]=l?l(w):w[M]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?wi:Rl,this.isPropagationStopped=Rl,this}return L(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),n}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sr=Fn(Jr),vi=L({},Jr,{view:0,detail:0}),pa=Fn(vi),aa,Ol,ya,Va=L({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ei,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ya&&(ya&&e.type==="mousemove"?(aa=e.screenX-ya.screenX,Ol=e.screenY-ya.screenY):Ol=aa=0,ya=e),aa)},movementY:function(e){return"movementY"in e?e.movementY:Ol}}),Yt=Fn(Va),Ga=L({},Va,{dataTransfer:0}),ba=Fn(Ga),$r=L({},vi,{relatedTarget:0}),la=Fn($r),ye=L({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ct=Fn(ye),or=L({},Jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ai=Fn(or),Xa=L({},Jr,{data:0}),qa=Fn(Xa),Dl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Il={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bn(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=er[e])?!!n[e]:!1}function Ei(){return Bn}var kn=L({},vi,{key:function(e){if(e.key){var n=Dl[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Il[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ei,charCode:function(e){return e.type==="keypress"?si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qi=Fn(kn),zi=L({},Va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rn=Fn(zi),ft=L({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ei}),Ml=Fn(ft),Kt=L({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ci=Fn(Kt),Ui=L({},Va,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ya=Fn(Ui),Xr=L({},Jr,{newState:0,oldState:0}),Ka=Fn(Xr),es=[9,13,27,32],Wi=Ht&&"CompositionEvent"in window,Si=null;Ht&&"documentMode"in document&&(Si=document.documentMode);var ts=Ht&&"TextEvent"in window&&!Si,Za=Ht&&(!Wi||Si&&8<Si&&11>=Si),Ti=" ",Qa=!1;function Bl(e,n){switch(e){case"keyup":return es.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ji=!1;function _i(e,n){switch(e){case"compositionend":return sa(n);case"keypress":return n.which!==32?null:(Qa=!0,Ti);case"textInput":return e=n.data,e===Ti&&Qa?null:e;default:return null}}function Wa(e,n){if(Ji)return e==="compositionend"||!Wi&&Bl(e,n)?(e=li(),ia=ai=Wr=null,Ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Za&&n.locale!=="ko"?null:n.data;default:return null}}var zr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!zr[e.type]:n==="textarea"}function qr(e,n,l,u){Nn?un?un.push(u):un=[u]:Nn=u,n=xc(n,"onChange"),0<n.length&&(l=new sr("onChange","change",null,l,u),e.push({event:l,listeners:n}))}var oa=null,$i=null;function Ls(e){hh(e,0)}function va(e){var n=Hr(e);if(ri(n))return e}function Rr(e,n){if(e==="change")return n}var oi=!1;if(Ht){var An;if(Ht){var ci="oninput"in document;if(!ci){var Nt=document.createElement("div");Nt.setAttribute("oninput","return;"),ci=typeof Nt.oninput=="function"}An=ci}else An=!1;oi=An&&(!document.documentMode||9<document.documentMode)}function Aa(){oa&&(oa.detachEvent("onpropertychange",D),$i=oa=null)}function D(e){if(e.propertyName==="value"&&va($i)){var n=[];qr(n,$i,e,Ha(e)),ra(Ls,n)}}function t(e,n,l){e==="focusin"?(Aa(),oa=n,$i=l,oa.attachEvent("onpropertychange",D)):e==="focusout"&&Aa()}function r(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return va($i)}function a(e,n){if(e==="click")return va(n)}function s(e,n){if(e==="input"||e==="change")return va(n)}function c(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var f=typeof Object.is=="function"?Object.is:c;function i(e,n){if(f(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),u=Object.keys(n);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!_t.call(n,p)||!f(e[p],n[p]))return!1}return!0}function o(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function d(e,n){var l=o(e);e=0;for(var u;l;){if(l.nodeType===3){if(u=e+l.textContent.length,e<=n&&u>=n)return{node:l,offset:n-e};e=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=o(l)}}function x(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?x(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function b(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=nn(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=nn(e.document)}return n}function A(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var C=Ht&&"documentMode"in document&&11>=document.documentMode,N=null,I=null,k=null,B=!1;function z(e,n,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;B||N==null||N!==nn(u)||(u=N,"selectionStart"in u&&A(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),k&&i(k,u)||(k=u,u=xc(I,"onSelect"),0<u.length&&(n=new sr("onSelect","select",null,n,l),e.push({event:n,listeners:u}),n.target=N)))}function P(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var U={animationend:P("Animation","AnimationEnd"),animationiteration:P("Animation","AnimationIteration"),animationstart:P("Animation","AnimationStart"),transitionrun:P("Transition","TransitionRun"),transitionstart:P("Transition","TransitionStart"),transitioncancel:P("Transition","TransitionCancel"),transitionend:P("Transition","TransitionEnd")},G={},V={};Ht&&(V=document.createElement("div").style,"AnimationEvent"in window||(delete U.animationend.animation,delete U.animationiteration.animation,delete U.animationstart.animation),"TransitionEvent"in window||delete U.transitionend.transition);function ne(e){if(G[e])return G[e];if(!U[e])return e;var n=U[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in V)return G[e]=n[l];return e}var ce=ne("animationend"),te=ne("animationiteration"),ge=ne("animationstart"),Oe=ne("transitionrun"),Ve=ne("transitionstart"),Ge=ne("transitioncancel"),ke=ne("transitionend"),$e=new Map,Qe="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qe.push("scrollEnd");function Pe(e,n){$e.set(e,n),$t(n,[e])}var et=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wt=[],kt=0,dt=0;function St(){for(var e=kt,n=dt=kt=0;n<e;){var l=wt[n];wt[n++]=null;var u=wt[n];wt[n++]=null;var p=wt[n];wt[n++]=null;var w=wt[n];if(wt[n++]=null,u!==null&&p!==null){var _=u.pending;_===null?p.next=p:(p.next=_.next,_.next=p),u.pending=p}w!==0&&ca(l,p,w)}}function Rn(e,n,l,u){wt[kt++]=e,wt[kt++]=n,wt[kt++]=l,wt[kt++]=u,dt|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Yr(e,n,l,u){return Rn(e,n,l,u),Ja(e)}function mn(e,n){return Rn(e,null,null,n),Ja(e)}function ca(e,n,l){e.lanes|=l;var u=e.alternate;u!==null&&(u.lanes|=l);for(var p=!1,w=e.return;w!==null;)w.childLanes|=l,u=w.alternate,u!==null&&(u.childLanes|=l),w.tag===22&&(e=w.stateNode,e===null||e._visibility&1||(p=!0)),e=w,w=w.return;return e.tag===3?(w=e.stateNode,p&&n!==null&&(p=31-Le(l),e=w.hiddenUpdates,u=e[p],u===null?e[p]=[n]:u.push(n),n.lane=l|536870912),w):null}function Ja(e){if(50<io)throw io=0,lf=null,Error(y(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ns={};function Am(e,n,l,u){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(e,n,l,u){return new Am(e,n,l,u)}function Wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ea(e,n){var l=e.alternate;return l===null?(l=Ni(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Z0(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Mo(e,n,l,u,p,w){var _=0;if(u=e,typeof e=="function")Wc(e)&&(_=1);else if(typeof e=="string")_=_x(e,l,_e.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=Ni(31,l,n,p),e.elementType=Q,e.lanes=w,e;case le:return kl(l.children,p,w,n);case Se:_=8,p|=24;break;case Te:return e=Ni(12,l,n,p|2),e.elementType=Te,e.lanes=w,e;case Xe:return e=Ni(13,l,n,p),e.elementType=Xe,e.lanes=w,e;case he:return e=Ni(19,l,n,p),e.elementType=he,e.lanes=w,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:_=10;break e;case Ce:_=9;break e;case me:_=11;break e;case X:_=14;break e;case ee:_=16,u=null;break e}_=29,l=Error(y(130,e===null?"null":typeof e,"")),u=null}return n=Ni(_,l,n,p),n.elementType=e,n.type=u,n.lanes=w,n}function kl(e,n,l,u){return e=Ni(7,e,u,n),e.lanes=l,e}function Jc(e,n,l){return e=Ni(6,e,null,n),e.lanes=l,e}function Q0(e){var n=Ni(18,null,null,0);return n.stateNode=e,n}function $c(e,n,l){return n=Ni(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var W0=new WeakMap;function Fi(e,n){if(typeof e=="object"&&e!==null){var l=W0.get(e);return l!==void 0?l:(n={value:e,source:n,stack:Wt(n)},W0.set(e,n),n)}return{value:e,source:n,stack:Wt(n)}}var rs=[],is=0,Bo=null,zs=0,Pi=[],ji=0,$a=null,ua=1,fa="";function Ca(e,n){rs[is++]=zs,rs[is++]=Bo,Bo=e,zs=n}function J0(e,n,l){Pi[ji++]=ua,Pi[ji++]=fa,Pi[ji++]=$a,$a=e;var u=ua;e=fa;var p=32-Le(u)-1;u&=~(1<<p),l+=1;var w=32-Le(n)+p;if(30<w){var _=p-p%5;w=(u&(1<<_)-1).toString(32),u>>=_,p-=_,ua=1<<32-Le(n)+p|l<<p|u,fa=w+e}else ua=1<<w|l<<p|u,fa=e}function eu(e){e.return!==null&&(Ca(e,1),J0(e,1,0))}function tu(e){for(;e===Bo;)Bo=rs[--is],rs[is]=null,zs=rs[--is],rs[is]=null;for(;e===$a;)$a=Pi[--ji],Pi[ji]=null,fa=Pi[--ji],Pi[ji]=null,ua=Pi[--ji],Pi[ji]=null}function $0(e,n){Pi[ji++]=ua,Pi[ji++]=fa,Pi[ji++]=$a,ua=n.id,fa=n.overflow,$a=e}var Ur=null,Hn=null,Zt=!1,el=null,Hi=!1,nu=Error(y(519));function tl(e){var n=Error(y(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Us(Fi(n,e)),nu}function e1(e){var n=e.stateNode,l=e.type,u=e.memoizedProps;switch(n[gn]=e,n[Pt]=u,l){case"dialog":Ft("cancel",n),Ft("close",n);break;case"iframe":case"object":case"embed":Ft("load",n);break;case"video":case"audio":for(l=0;l<lo.length;l++)Ft(lo[l],n);break;case"source":Ft("error",n);break;case"img":case"image":case"link":Ft("error",n),Ft("load",n);break;case"details":Ft("toggle",n);break;case"input":Ft("invalid",n),oe(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ft("invalid",n);break;case"textarea":Ft("invalid",n),mr(n,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||u.suppressHydrationWarning===!0||ph(n.textContent,l)?(u.popover!=null&&(Ft("beforetoggle",n),Ft("toggle",n)),u.onScroll!=null&&Ft("scroll",n),u.onScrollEnd!=null&&Ft("scrollend",n),u.onClick!=null&&(n.onclick=vr),n=!0):n=!1,n||tl(e,!0)}function t1(e){for(Ur=e.return;Ur;)switch(Ur.tag){case 5:case 31:case 13:Hi=!1;return;case 27:case 3:Hi=!0;return;default:Ur=Ur.return}}function as(e){if(e!==Ur)return!1;if(!Zt)return t1(e),Zt=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||vf(e.type,e.memoizedProps)),l=!l),l&&Hn&&tl(e),t1(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(317));Hn=Th(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(317));Hn=Th(e)}else n===27?(n=Hn,ml(e.type)?(e=Tf,Tf=null,Hn=e):Hn=n):Hn=Ur?Gi(e.stateNode.nextSibling):null;return!0}function Ll(){Hn=Ur=null,Zt=!1}function ru(){var e=el;return e!==null&&(hi===null?hi=e:hi.push.apply(hi,e),el=null),e}function Us(e){el===null?el=[e]:el.push(e)}var iu=Y(null),zl=null,Sa=null;function nl(e,n,l){ze(iu,n._currentValue),n._currentValue=l}function Ta(e){e._currentValue=iu.current,ue(iu)}function au(e,n,l){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===l)break;e=e.return}}function lu(e,n,l,u){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var w=p.dependencies;if(w!==null){var _=p.child;w=w.firstContext;e:for(;w!==null;){var M=w;w=p;for(var q=0;q<n.length;q++)if(M.context===n[q]){w.lanes|=l,M=w.alternate,M!==null&&(M.lanes|=l),au(w.return,l,e),u||(_=null);break e}w=M.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(y(341));_.lanes|=l,w=_.alternate,w!==null&&(w.lanes|=l),au(_,l,e),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===e){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function ls(e,n,l,u){e=null;for(var p=n,w=!1;p!==null;){if(!w){if((p.flags&524288)!==0)w=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(y(387));if(_=_.memoizedProps,_!==null){var M=p.type;f(p.pendingProps.value,_.value)||(e!==null?e.push(M):e=[M])}}else if(p===Je.current){if(_=p.alternate,_===null)throw Error(y(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(fo):e=[fo])}p=p.return}e!==null&&lu(n,e,l,u),n.flags|=262144}function ko(e){for(e=e.firstContext;e!==null;){if(!f(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ul(e){zl=e,Sa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fr(e){return n1(zl,e)}function Lo(e,n){return zl===null&&Ul(e),n1(e,n)}function n1(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},Sa===null){if(e===null)throw Error(y(308));Sa=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Sa=Sa.next=n;return l}var Em=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,u){e.push(u)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},Cm=h.unstable_scheduleCallback,Sm=h.unstable_NormalPriority,pr={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function su(){return{controller:new Em,data:new Map,refCount:0}}function Fs(e){e.refCount--,e.refCount===0&&Cm(Sm,function(){e.controller.abort()})}var Ps=null,ou=0,ss=0,os=null;function Tm(e,n){if(Ps===null){var l=Ps=[];ou=0,ss=df(),os={status:"pending",value:void 0,then:function(u){l.push(u)}}}return ou++,n.then(r1,r1),n}function r1(){if(--ou===0&&Ps!==null){os!==null&&(os.status="fulfilled");var e=Ps;Ps=null,ss=0,os=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function _m(e,n){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return e.then(function(){u.status="fulfilled",u.value=n;for(var p=0;p<l.length;p++)(0,l[p])(n)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var i1=re.S;re.S=function(e,n){jd=yn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Tm(e,n),i1!==null&&i1(e,n)};var Fl=Y(null);function cu(){var e=Fl.current;return e!==null?e:Ln.pooledCache}function zo(e,n){n===null?ze(Fl,Fl.current):ze(Fl,n.pool)}function a1(){var e=cu();return e===null?null:{parent:pr._currentValue,pool:e}}var cs=Error(y(460)),uu=Error(y(474)),Uo=Error(y(542)),Fo={then:function(){}};function l1(e){return e=e.status,e==="fulfilled"||e==="rejected"}function s1(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(vr,vr),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,c1(e),e;default:if(typeof n.status=="string")n.then(vr,vr);else{if(e=Ln,e!==null&&100<e.shellSuspendCounter)throw Error(y(482));e=n,e.status="pending",e.then(function(u){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=u}},function(u){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,c1(e),e}throw jl=n,cs}}function Pl(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(jl=l,cs):l}}var jl=null;function o1(){if(jl===null)throw Error(y(459));var e=jl;return jl=null,e}function c1(e){if(e===cs||e===Uo)throw Error(y(483))}var us=null,js=0;function Po(e){var n=js;return js+=1,us===null&&(us=[]),s1(us,e,n)}function Hs(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function jo(e,n){throw n.$$typeof===W?Error(y(525)):(e=Object.prototype.toString.call(n),Error(y(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function u1(e){function n(ie,Z){if(e){var fe=ie.deletions;fe===null?(ie.deletions=[Z],ie.flags|=16):fe.push(Z)}}function l(ie,Z){if(!e)return null;for(;Z!==null;)n(ie,Z),Z=Z.sibling;return null}function u(ie){for(var Z=new Map;ie!==null;)ie.key!==null?Z.set(ie.key,ie):Z.set(ie.index,ie),ie=ie.sibling;return Z}function p(ie,Z){return ie=Ea(ie,Z),ie.index=0,ie.sibling=null,ie}function w(ie,Z,fe){return ie.index=fe,e?(fe=ie.alternate,fe!==null?(fe=fe.index,fe<Z?(ie.flags|=67108866,Z):fe):(ie.flags|=67108866,Z)):(ie.flags|=1048576,Z)}function _(ie){return e&&ie.alternate===null&&(ie.flags|=67108866),ie}function M(ie,Z,fe,De){return Z===null||Z.tag!==6?(Z=Jc(fe,ie.mode,De),Z.return=ie,Z):(Z=p(Z,fe),Z.return=ie,Z)}function q(ie,Z,fe,De){var ht=fe.type;return ht===le?Ne(ie,Z,fe.props.children,De,fe.key):Z!==null&&(Z.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===ee&&Pl(ht)===Z.type)?(Z=p(Z,fe.props),Hs(Z,fe),Z.return=ie,Z):(Z=Mo(fe.type,fe.key,fe.props,null,ie.mode,De),Hs(Z,fe),Z.return=ie,Z)}function de(ie,Z,fe,De){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==fe.containerInfo||Z.stateNode.implementation!==fe.implementation?(Z=$c(fe,ie.mode,De),Z.return=ie,Z):(Z=p(Z,fe.children||[]),Z.return=ie,Z)}function Ne(ie,Z,fe,De,ht){return Z===null||Z.tag!==7?(Z=kl(fe,ie.mode,De,ht),Z.return=ie,Z):(Z=p(Z,fe),Z.return=ie,Z)}function Be(ie,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=Jc(""+Z,ie.mode,fe),Z.return=ie,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case K:return fe=Mo(Z.type,Z.key,Z.props,null,ie.mode,fe),Hs(fe,Z),fe.return=ie,fe;case Ee:return Z=$c(Z,ie.mode,fe),Z.return=ie,Z;case ee:return Z=Pl(Z),Be(ie,Z,fe)}if($(Z)||we(Z))return Z=kl(Z,ie.mode,fe,null),Z.return=ie,Z;if(typeof Z.then=="function")return Be(ie,Po(Z),fe);if(Z.$$typeof===se)return Be(ie,Lo(ie,Z),fe);jo(ie,Z)}return null}function xe(ie,Z,fe,De){var ht=Z!==null?Z.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return ht!==null?null:M(ie,Z,""+fe,De);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case K:return fe.key===ht?q(ie,Z,fe,De):null;case Ee:return fe.key===ht?de(ie,Z,fe,De):null;case ee:return fe=Pl(fe),xe(ie,Z,fe,De)}if($(fe)||we(fe))return ht!==null?null:Ne(ie,Z,fe,De,null);if(typeof fe.then=="function")return xe(ie,Z,Po(fe),De);if(fe.$$typeof===se)return xe(ie,Z,Lo(ie,fe),De);jo(ie,fe)}return null}function ve(ie,Z,fe,De,ht){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return ie=ie.get(fe)||null,M(Z,ie,""+De,ht);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case K:return ie=ie.get(De.key===null?fe:De.key)||null,q(Z,ie,De,ht);case Ee:return ie=ie.get(De.key===null?fe:De.key)||null,de(Z,ie,De,ht);case ee:return De=Pl(De),ve(ie,Z,fe,De,ht)}if($(De)||we(De))return ie=ie.get(fe)||null,Ne(Z,ie,De,ht,null);if(typeof De.then=="function")return ve(ie,Z,fe,Po(De),ht);if(De.$$typeof===se)return ve(ie,Z,fe,Lo(Z,De),ht);jo(Z,De)}return null}function at(ie,Z,fe,De){for(var ht=null,sn=null,ot=Z,It=Z=0,Gt=null;ot!==null&&It<fe.length;It++){ot.index>It?(Gt=ot,ot=null):Gt=ot.sibling;var on=xe(ie,ot,fe[It],De);if(on===null){ot===null&&(ot=Gt);break}e&&ot&&on.alternate===null&&n(ie,ot),Z=w(on,Z,It),sn===null?ht=on:sn.sibling=on,sn=on,ot=Gt}if(It===fe.length)return l(ie,ot),Zt&&Ca(ie,It),ht;if(ot===null){for(;It<fe.length;It++)ot=Be(ie,fe[It],De),ot!==null&&(Z=w(ot,Z,It),sn===null?ht=ot:sn.sibling=ot,sn=ot);return Zt&&Ca(ie,It),ht}for(ot=u(ot);It<fe.length;It++)Gt=ve(ot,ie,It,fe[It],De),Gt!==null&&(e&&Gt.alternate!==null&&ot.delete(Gt.key===null?It:Gt.key),Z=w(Gt,Z,It),sn===null?ht=Gt:sn.sibling=Gt,sn=Gt);return e&&ot.forEach(function(wl){return n(ie,wl)}),Zt&&Ca(ie,It),ht}function pt(ie,Z,fe,De){if(fe==null)throw Error(y(151));for(var ht=null,sn=null,ot=Z,It=Z=0,Gt=null,on=fe.next();ot!==null&&!on.done;It++,on=fe.next()){ot.index>It?(Gt=ot,ot=null):Gt=ot.sibling;var wl=xe(ie,ot,on.value,De);if(wl===null){ot===null&&(ot=Gt);break}e&&ot&&wl.alternate===null&&n(ie,ot),Z=w(wl,Z,It),sn===null?ht=wl:sn.sibling=wl,sn=wl,ot=Gt}if(on.done)return l(ie,ot),Zt&&Ca(ie,It),ht;if(ot===null){for(;!on.done;It++,on=fe.next())on=Be(ie,on.value,De),on!==null&&(Z=w(on,Z,It),sn===null?ht=on:sn.sibling=on,sn=on);return Zt&&Ca(ie,It),ht}for(ot=u(ot);!on.done;It++,on=fe.next())on=ve(ot,ie,It,on.value,De),on!==null&&(e&&on.alternate!==null&&ot.delete(on.key===null?It:on.key),Z=w(on,Z,It),sn===null?ht=on:sn.sibling=on,sn=on);return e&&ot.forEach(function(Ux){return n(ie,Ux)}),Zt&&Ca(ie,It),ht}function In(ie,Z,fe,De){if(typeof fe=="object"&&fe!==null&&fe.type===le&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case K:e:{for(var ht=fe.key;Z!==null;){if(Z.key===ht){if(ht=fe.type,ht===le){if(Z.tag===7){l(ie,Z.sibling),De=p(Z,fe.props.children),De.return=ie,ie=De;break e}}else if(Z.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===ee&&Pl(ht)===Z.type){l(ie,Z.sibling),De=p(Z,fe.props),Hs(De,fe),De.return=ie,ie=De;break e}l(ie,Z);break}else n(ie,Z);Z=Z.sibling}fe.type===le?(De=kl(fe.props.children,ie.mode,De,fe.key),De.return=ie,ie=De):(De=Mo(fe.type,fe.key,fe.props,null,ie.mode,De),Hs(De,fe),De.return=ie,ie=De)}return _(ie);case Ee:e:{for(ht=fe.key;Z!==null;){if(Z.key===ht)if(Z.tag===4&&Z.stateNode.containerInfo===fe.containerInfo&&Z.stateNode.implementation===fe.implementation){l(ie,Z.sibling),De=p(Z,fe.children||[]),De.return=ie,ie=De;break e}else{l(ie,Z);break}else n(ie,Z);Z=Z.sibling}De=$c(fe,ie.mode,De),De.return=ie,ie=De}return _(ie);case ee:return fe=Pl(fe),In(ie,Z,fe,De)}if($(fe))return at(ie,Z,fe,De);if(we(fe)){if(ht=we(fe),typeof ht!="function")throw Error(y(150));return fe=ht.call(fe),pt(ie,Z,fe,De)}if(typeof fe.then=="function")return In(ie,Z,Po(fe),De);if(fe.$$typeof===se)return In(ie,Z,Lo(ie,fe),De);jo(ie,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,Z!==null&&Z.tag===6?(l(ie,Z.sibling),De=p(Z,fe),De.return=ie,ie=De):(l(ie,Z),De=Jc(fe,ie.mode,De),De.return=ie,ie=De),_(ie)):l(ie,Z)}return function(ie,Z,fe,De){try{js=0;var ht=In(ie,Z,fe,De);return us=null,ht}catch(ot){if(ot===cs||ot===Uo)throw ot;var sn=Ni(29,ot,null,ie.mode);return sn.lanes=De,sn.return=ie,sn}}}var Hl=u1(!0),f1=u1(!1),rl=!1;function fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function du(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function il(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function al(e,n,l){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(fn&2)!==0){var p=u.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),u.pending=n,n=Ja(e),ca(e,null,l),n}return Rn(e,u,n,l),Ja(e)}function Vs(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var u=n.lanes;u&=e.pendingLanes,l|=u,n.lanes=l,vt(e,l)}}function hu(e,n){var l=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};w===null?p=w=_:w=w.next=_,l=l.next}while(l!==null);w===null?p=w=n:w=w.next=n}else p=w=n;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:w,shared:u.shared,callbacks:u.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var gu=!1;function Gs(){if(gu){var e=os;if(e!==null)throw e}}function Xs(e,n,l,u){gu=!1;var p=e.updateQueue;rl=!1;var w=p.firstBaseUpdate,_=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var q=M,de=q.next;q.next=null,_===null?w=de:_.next=de,_=q;var Ne=e.alternate;Ne!==null&&(Ne=Ne.updateQueue,M=Ne.lastBaseUpdate,M!==_&&(M===null?Ne.firstBaseUpdate=de:M.next=de,Ne.lastBaseUpdate=q))}if(w!==null){var Be=p.baseState;_=0,Ne=de=q=null,M=w;do{var xe=M.lane&-536870913,ve=xe!==M.lane;if(ve?(Vt&xe)===xe:(u&xe)===xe){xe!==0&&xe===ss&&(gu=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var at=e,pt=M;xe=n;var In=l;switch(pt.tag){case 1:if(at=pt.payload,typeof at=="function"){Be=at.call(In,Be,xe);break e}Be=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=pt.payload,xe=typeof at=="function"?at.call(In,Be,xe):at,xe==null)break e;Be=L({},Be,xe);break e;case 2:rl=!0}}xe=M.callback,xe!==null&&(e.flags|=64,ve&&(e.flags|=8192),ve=p.callbacks,ve===null?p.callbacks=[xe]:ve.push(xe))}else ve={lane:xe,tag:M.tag,payload:M.payload,callback:M.callback,next:null},Ne===null?(de=Ne=ve,q=Be):Ne=Ne.next=ve,_|=xe;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;ve=M,M=ve.next,ve.next=null,p.lastBaseUpdate=ve,p.shared.pending=null}}while(!0);Ne===null&&(q=Be),p.baseState=q,p.firstBaseUpdate=de,p.lastBaseUpdate=Ne,w===null&&(p.shared.lanes=0),ul|=_,e.lanes=_,e.memoizedState=Be}}function d1(e,n){if(typeof e!="function")throw Error(y(191,e));e.call(n)}function h1(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)d1(l[e],n)}var fs=Y(null),Ho=Y(0);function g1(e,n){e=ka,ze(Ho,e),ze(fs,n),ka=e|n.baseLanes}function mu(){ze(Ho,ka),ze(fs,fs.current)}function xu(){ka=Ho.current,ue(fs),ue(Ho)}var Ri=Y(null),Vi=null;function ll(e){var n=e.alternate;ze(cr,cr.current&1),ze(Ri,e),Vi===null&&(n===null||fs.current!==null||n.memoizedState!==null)&&(Vi=e)}function pu(e){ze(cr,cr.current),ze(Ri,e),Vi===null&&(Vi=e)}function m1(e){e.tag===22?(ze(cr,cr.current),ze(Ri,e),Vi===null&&(Vi=e)):sl()}function sl(){ze(cr,cr.current),ze(Ri,Ri.current)}function Oi(e){ue(Ri),Vi===e&&(Vi=null),ue(cr)}var cr=Y(0);function Vo(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Cf(l)||Sf(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var _a=0,Ot=null,On=null,yr=null,Go=!1,ds=!1,Vl=!1,Xo=0,qs=0,hs=null,Nm=0;function tr(){throw Error(y(321))}function yu(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!f(e[l],n[l]))return!1;return!0}function bu(e,n,l,u,p,w){return _a=w,Ot=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,re.H=e===null||e.memoizedState===null?J1:Bu,Vl=!1,w=l(u,p),Vl=!1,ds&&(w=p1(n,l,u,p)),x1(e),w}function x1(e){re.H=Zs;var n=On!==null&&On.next!==null;if(_a=0,yr=On=Ot=null,Go=!1,qs=0,hs=null,n)throw Error(y(300));e===null||br||(e=e.dependencies,e!==null&&ko(e)&&(br=!0))}function p1(e,n,l,u){Ot=e;var p=0;do{if(ds&&(hs=null),qs=0,ds=!1,25<=p)throw Error(y(301));if(p+=1,yr=On=null,e.updateQueue!=null){var w=e.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}re.H=$1,w=n(l,u)}while(ds);return w}function Rm(){var e=re.H,n=e.useState()[0];return n=typeof n.then=="function"?Ys(n):n,e=e.useState()[0],(On!==null?On.memoizedState:null)!==e&&(Ot.flags|=1024),n}function wu(){var e=Xo!==0;return Xo=0,e}function vu(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function Au(e){if(Go){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Go=!1}_a=0,yr=On=Ot=null,ds=!1,qs=Xo=0,hs=null}function ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?Ot.memoizedState=yr=e:yr=yr.next=e,yr}function ur(){if(On===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=On.next;var n=yr===null?Ot.memoizedState:yr.next;if(n!==null)yr=n,On=e;else{if(e===null)throw Ot.alternate===null?Error(y(467)):Error(y(310));On=e,e={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},yr===null?Ot.memoizedState=yr=e:yr=yr.next=e}return yr}function qo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ys(e){var n=qs;return qs+=1,hs===null&&(hs=[]),e=s1(hs,e,n),n=Ot,(yr===null?n.memoizedState:yr.next)===null&&(n=n.alternate,re.H=n===null||n.memoizedState===null?J1:Bu),e}function Yo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ys(e);if(e.$$typeof===se)return Fr(e)}throw Error(y(438,String(e)))}function Eu(e){var n=null,l=Ot.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var u=Ot.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=qo(),Ot.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),u=0;u<e;u++)l[u]=je;return n.index++,l}function Na(e,n){return typeof n=="function"?n(e):n}function Ko(e){var n=ur();return Cu(n,On,e)}function Cu(e,n,l){var u=e.queue;if(u===null)throw Error(y(311));u.lastRenderedReducer=l;var p=e.baseQueue,w=u.pending;if(w!==null){if(p!==null){var _=p.next;p.next=w.next,w.next=_}n.baseQueue=p=w,u.pending=null}if(w=e.baseState,p===null)e.memoizedState=w;else{n=p.next;var M=_=null,q=null,de=n,Ne=!1;do{var Be=de.lane&-536870913;if(Be!==de.lane?(Vt&Be)===Be:(_a&Be)===Be){var xe=de.revertLane;if(xe===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),Be===ss&&(Ne=!0);else if((_a&xe)===xe){de=de.next,xe===ss&&(Ne=!0);continue}else Be={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},q===null?(M=q=Be,_=w):q=q.next=Be,Ot.lanes|=xe,ul|=xe;Be=de.action,Vl&&l(w,Be),w=de.hasEagerState?de.eagerState:l(w,Be)}else xe={lane:Be,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},q===null?(M=q=xe,_=w):q=q.next=xe,Ot.lanes|=Be,ul|=Be;de=de.next}while(de!==null&&de!==n);if(q===null?_=w:q.next=M,!f(w,e.memoizedState)&&(br=!0,Ne&&(l=os,l!==null)))throw l;e.memoizedState=w,e.baseState=_,e.baseQueue=q,u.lastRenderedState=w}return p===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function Su(e){var n=ur(),l=n.queue;if(l===null)throw Error(y(311));l.lastRenderedReducer=e;var u=l.dispatch,p=l.pending,w=n.memoizedState;if(p!==null){l.pending=null;var _=p=p.next;do w=e(w,_.action),_=_.next;while(_!==p);f(w,n.memoizedState)||(br=!0),n.memoizedState=w,n.baseQueue===null&&(n.baseState=w),l.lastRenderedState=w}return[w,u]}function y1(e,n,l){var u=Ot,p=ur(),w=Zt;if(w){if(l===void 0)throw Error(y(407));l=l()}else l=n();var _=!f((On||p).memoizedState,l);if(_&&(p.memoizedState=l,br=!0),p=p.queue,Nu(v1.bind(null,u,p,e),[e]),p.getSnapshot!==n||_||yr!==null&&yr.memoizedState.tag&1){if(u.flags|=2048,gs(9,{destroy:void 0},w1.bind(null,u,p,l,n),null),Ln===null)throw Error(y(349));w||(_a&127)!==0||b1(u,n,l)}return l}function b1(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=Ot.updateQueue,n===null?(n=qo(),Ot.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function w1(e,n,l,u){n.value=l,n.getSnapshot=u,A1(n)&&E1(e)}function v1(e,n,l){return l(function(){A1(n)&&E1(e)})}function A1(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!f(e,l)}catch{return!0}}function E1(e){var n=mn(e,2);n!==null&&gi(n,e,2)}function Tu(e){var n=ei();if(typeof e=="function"){var l=e;if(e=l(),Vl){Dt(!0);try{l()}finally{Dt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},n}function C1(e,n,l,u){return e.baseState=l,Cu(e,On,typeof u=="function"?u:Na)}function Om(e,n,l,u,p){if(Wo(e))throw Error(y(485));if(e=n.action,e!==null){var w={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){w.listeners.push(_)}};re.T!==null?l(!0):w.isTransition=!1,u(w),l=n.pending,l===null?(w.next=n.pending=w,S1(n,w)):(w.next=l.next,n.pending=l.next=w)}}function S1(e,n){var l=n.action,u=n.payload,p=e.state;if(n.isTransition){var w=re.T,_={};re.T=_;try{var M=l(p,u),q=re.S;q!==null&&q(_,M),T1(e,n,M)}catch(de){_u(e,n,de)}finally{w!==null&&_.types!==null&&(w.types=_.types),re.T=w}}else try{w=l(p,u),T1(e,n,w)}catch(de){_u(e,n,de)}}function T1(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){_1(e,n,u)},function(u){return _u(e,n,u)}):_1(e,n,l)}function _1(e,n,l){n.status="fulfilled",n.value=l,N1(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,S1(e,l)))}function _u(e,n,l){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=l,N1(n),n=n.next;while(n!==u)}e.action=null}function N1(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function R1(e,n){return n}function O1(e,n){if(Zt){var l=Ln.formState;if(l!==null){e:{var u=Ot;if(Zt){if(Hn){t:{for(var p=Hn,w=Hi;p.nodeType!==8;){if(!w){p=null;break t}if(p=Gi(p.nextSibling),p===null){p=null;break t}}w=p.data,p=w==="F!"||w==="F"?p:null}if(p){Hn=Gi(p.nextSibling),u=p.data==="F!";break e}}tl(u)}u=!1}u&&(n=l[0])}}return l=ei(),l.memoizedState=l.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R1,lastRenderedState:n},l.queue=u,l=Z1.bind(null,Ot,u),u.dispatch=l,u=Tu(!1),w=Mu.bind(null,Ot,!1,u.queue),u=ei(),p={state:n,dispatch:null,action:e,pending:null},u.queue=p,l=Om.bind(null,Ot,p,w,l),p.dispatch=l,u.memoizedState=e,[n,l,!1]}function D1(e){var n=ur();return I1(n,On,e)}function I1(e,n,l){if(n=Cu(e,n,R1)[0],e=Ko(Na)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=Ys(n)}catch(_){throw _===cs?Uo:_}else u=n;n=ur();var p=n.queue,w=p.dispatch;return l!==n.memoizedState&&(Ot.flags|=2048,gs(9,{destroy:void 0},Dm.bind(null,p,l),null)),[u,w,e]}function Dm(e,n){e.action=n}function M1(e){var n=ur(),l=On;if(l!==null)return I1(n,l,e);ur(),n=n.memoizedState,l=ur();var u=l.queue.dispatch;return l.memoizedState=e,[n,u,!1]}function gs(e,n,l,u){return e={tag:e,create:l,deps:u,inst:n,next:null},n=Ot.updateQueue,n===null&&(n=qo(),Ot.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(u=l.next,l.next=e,e.next=u,n.lastEffect=e),e}function B1(){return ur().memoizedState}function Zo(e,n,l,u){var p=ei();Ot.flags|=e,p.memoizedState=gs(1|n,{destroy:void 0},l,u===void 0?null:u)}function Qo(e,n,l,u){var p=ur();u=u===void 0?null:u;var w=p.memoizedState.inst;On!==null&&u!==null&&yu(u,On.memoizedState.deps)?p.memoizedState=gs(n,w,l,u):(Ot.flags|=e,p.memoizedState=gs(1|n,w,l,u))}function k1(e,n){Zo(8390656,8,e,n)}function Nu(e,n){Qo(2048,8,e,n)}function Im(e){Ot.flags|=4;var n=Ot.updateQueue;if(n===null)n=qo(),Ot.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function L1(e){var n=ur().memoizedState;return Im({ref:n,nextImpl:e}),function(){if((fn&2)!==0)throw Error(y(440));return n.impl.apply(void 0,arguments)}}function z1(e,n){return Qo(4,2,e,n)}function U1(e,n){return Qo(4,4,e,n)}function F1(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function P1(e,n,l){l=l!=null?l.concat([e]):null,Qo(4,4,F1.bind(null,n,e),l)}function Ru(){}function j1(e,n){var l=ur();n=n===void 0?null:n;var u=l.memoizedState;return n!==null&&yu(n,u[1])?u[0]:(l.memoizedState=[e,n],e)}function H1(e,n){var l=ur();n=n===void 0?null:n;var u=l.memoizedState;if(n!==null&&yu(n,u[1]))return u[0];if(u=e(),Vl){Dt(!0);try{e()}finally{Dt(!1)}}return l.memoizedState=[u,n],u}function Ou(e,n,l){return l===void 0||(_a&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=Vd(),Ot.lanes|=e,ul|=e,l)}function V1(e,n,l,u){return f(l,n)?l:fs.current!==null?(e=Ou(e,l,u),f(e,n)||(br=!0),e):(_a&42)===0||(_a&1073741824)!==0&&(Vt&261930)===0?(br=!0,e.memoizedState=l):(e=Vd(),Ot.lanes|=e,ul|=e,n)}function G1(e,n,l,u,p){var w=pe.p;pe.p=w!==0&&8>w?w:8;var _=re.T,M={};re.T=M,Mu(e,!1,n,l);try{var q=p(),de=re.S;if(de!==null&&de(M,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var Ne=_m(q,u);Ks(e,n,Ne,Mi(e))}else Ks(e,n,u,Mi(e))}catch(Be){Ks(e,n,{then:function(){},status:"rejected",reason:Be},Mi())}finally{pe.p=w,_!==null&&M.types!==null&&(_.types=M.types),re.T=_}}function Mm(){}function Du(e,n,l,u){if(e.tag!==5)throw Error(y(476));var p=X1(e).queue;G1(e,p,n,qe,l===null?Mm:function(){return q1(e),l(u)})}function X1(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:qe,baseState:qe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:qe},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function q1(e){var n=X1(e);n.next===null&&(n=e.alternate.memoizedState),Ks(e,n.next.queue,{},Mi())}function Iu(){return Fr(fo)}function Y1(){return ur().memoizedState}function K1(){return ur().memoizedState}function Bm(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Mi();e=il(l);var u=al(n,e,l);u!==null&&(gi(u,n,l),Vs(u,n,l)),n={cache:su()},e.payload=n;return}n=n.return}}function km(e,n,l){var u=Mi();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Wo(e)?Q1(n,l):(l=Yr(e,n,l,u),l!==null&&(gi(l,e,u),W1(l,n,u)))}function Z1(e,n,l){var u=Mi();Ks(e,n,l,u)}function Ks(e,n,l,u){var p={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Wo(e))Q1(n,p);else{var w=e.alternate;if(e.lanes===0&&(w===null||w.lanes===0)&&(w=n.lastRenderedReducer,w!==null))try{var _=n.lastRenderedState,M=w(_,l);if(p.hasEagerState=!0,p.eagerState=M,f(M,_))return Rn(e,n,p,0),Ln===null&&St(),!1}catch{}if(l=Yr(e,n,p,u),l!==null)return gi(l,e,u),W1(l,n,u),!0}return!1}function Mu(e,n,l,u){if(u={lane:2,revertLane:df(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Wo(e)){if(n)throw Error(y(479))}else n=Yr(e,l,u,2),n!==null&&gi(n,e,2)}function Wo(e){var n=e.alternate;return e===Ot||n!==null&&n===Ot}function Q1(e,n){ds=Go=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function W1(e,n,l){if((l&4194048)!==0){var u=n.lanes;u&=e.pendingLanes,l|=u,n.lanes=l,vt(e,l)}}var Zs={readContext:Fr,use:Yo,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useLayoutEffect:tr,useInsertionEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useSyncExternalStore:tr,useId:tr,useHostTransitionStatus:tr,useFormState:tr,useActionState:tr,useOptimistic:tr,useMemoCache:tr,useCacheRefresh:tr};Zs.useEffectEvent=tr;var J1={readContext:Fr,use:Yo,useCallback:function(e,n){return ei().memoizedState=[e,n===void 0?null:n],e},useContext:Fr,useEffect:k1,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,Zo(4194308,4,F1.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Zo(4194308,4,e,n)},useInsertionEffect:function(e,n){Zo(4,2,e,n)},useMemo:function(e,n){var l=ei();n=n===void 0?null:n;var u=e();if(Vl){Dt(!0);try{e()}finally{Dt(!1)}}return l.memoizedState=[u,n],u},useReducer:function(e,n,l){var u=ei();if(l!==void 0){var p=l(n);if(Vl){Dt(!0);try{l(n)}finally{Dt(!1)}}}else p=n;return u.memoizedState=u.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},u.queue=e,e=e.dispatch=km.bind(null,Ot,e),[u.memoizedState,e]},useRef:function(e){var n=ei();return e={current:e},n.memoizedState=e},useState:function(e){e=Tu(e);var n=e.queue,l=Z1.bind(null,Ot,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:Ru,useDeferredValue:function(e,n){var l=ei();return Ou(l,e,n)},useTransition:function(){var e=Tu(!1);return e=G1.bind(null,Ot,e.queue,!0,!1),ei().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var u=Ot,p=ei();if(Zt){if(l===void 0)throw Error(y(407));l=l()}else{if(l=n(),Ln===null)throw Error(y(349));(Vt&127)!==0||b1(u,n,l)}p.memoizedState=l;var w={value:l,getSnapshot:n};return p.queue=w,k1(v1.bind(null,u,w,e),[e]),u.flags|=2048,gs(9,{destroy:void 0},w1.bind(null,u,w,l,n),null),l},useId:function(){var e=ei(),n=Ln.identifierPrefix;if(Zt){var l=fa,u=ua;l=(u&~(1<<32-Le(u)-1)).toString(32)+l,n="_"+n+"R_"+l,l=Xo++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=Nm++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Iu,useFormState:O1,useActionState:O1,useOptimistic:function(e){var n=ei();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=Mu.bind(null,Ot,!0,l),l.dispatch=n,[e,n]},useMemoCache:Eu,useCacheRefresh:function(){return ei().memoizedState=Bm.bind(null,Ot)},useEffectEvent:function(e){var n=ei(),l={impl:e};return n.memoizedState=l,function(){if((fn&2)!==0)throw Error(y(440));return l.impl.apply(void 0,arguments)}}},Bu={readContext:Fr,use:Yo,useCallback:j1,useContext:Fr,useEffect:Nu,useImperativeHandle:P1,useInsertionEffect:z1,useLayoutEffect:U1,useMemo:H1,useReducer:Ko,useRef:B1,useState:function(){return Ko(Na)},useDebugValue:Ru,useDeferredValue:function(e,n){var l=ur();return V1(l,On.memoizedState,e,n)},useTransition:function(){var e=Ko(Na)[0],n=ur().memoizedState;return[typeof e=="boolean"?e:Ys(e),n]},useSyncExternalStore:y1,useId:Y1,useHostTransitionStatus:Iu,useFormState:D1,useActionState:D1,useOptimistic:function(e,n){var l=ur();return C1(l,On,e,n)},useMemoCache:Eu,useCacheRefresh:K1};Bu.useEffectEvent=L1;var $1={readContext:Fr,use:Yo,useCallback:j1,useContext:Fr,useEffect:Nu,useImperativeHandle:P1,useInsertionEffect:z1,useLayoutEffect:U1,useMemo:H1,useReducer:Su,useRef:B1,useState:function(){return Su(Na)},useDebugValue:Ru,useDeferredValue:function(e,n){var l=ur();return On===null?Ou(l,e,n):V1(l,On.memoizedState,e,n)},useTransition:function(){var e=Su(Na)[0],n=ur().memoizedState;return[typeof e=="boolean"?e:Ys(e),n]},useSyncExternalStore:y1,useId:Y1,useHostTransitionStatus:Iu,useFormState:M1,useActionState:M1,useOptimistic:function(e,n){var l=ur();return On!==null?C1(l,On,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Eu,useCacheRefresh:K1};$1.useEffectEvent=L1;function ku(e,n,l,u){n=e.memoizedState,l=l(u,n),l=l==null?n:L({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Lu={enqueueSetState:function(e,n,l){e=e._reactInternals;var u=Mi(),p=il(u);p.payload=n,l!=null&&(p.callback=l),n=al(e,p,u),n!==null&&(gi(n,e,u),Vs(n,e,u))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var u=Mi(),p=il(u);p.tag=1,p.payload=n,l!=null&&(p.callback=l),n=al(e,p,u),n!==null&&(gi(n,e,u),Vs(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Mi(),u=il(l);u.tag=2,n!=null&&(u.callback=n),n=al(e,u,l),n!==null&&(gi(n,e,l),Vs(n,e,l))}};function ed(e,n,l,u,p,w,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,w,_):n.prototype&&n.prototype.isPureReactComponent?!i(l,u)||!i(p,w):!0}function td(e,n,l,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,u),n.state!==e&&Lu.enqueueReplaceState(n,n.state,null)}function Gl(e,n){var l=n;if("ref"in n){l={};for(var u in n)u!=="ref"&&(l[u]=n[u])}if(e=e.defaultProps){l===n&&(l=L({},l));for(var p in e)l[p]===void 0&&(l[p]=e[p])}return l}function nd(e){et(e)}function rd(e){console.error(e)}function id(e){et(e)}function Jo(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function ad(e,n,l){try{var u=e.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function zu(e,n,l){return l=il(l),l.tag=3,l.payload={element:null},l.callback=function(){Jo(e,n)},l}function ld(e){return e=il(e),e.tag=3,e}function sd(e,n,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var w=u.value;e.payload=function(){return p(w)},e.callback=function(){ad(n,l,u)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){ad(n,l,u),typeof p!="function"&&(fl===null?fl=new Set([this]):fl.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})})}function Lm(e,n,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=l.alternate,n!==null&&ls(n,l,p,!0),l=Ri.current,l!==null){switch(l.tag){case 31:case 13:return Vi===null?uc():l.alternate===null&&nr===0&&(nr=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===Fo?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([u]):n.add(u),cf(e,u,p)),!1;case 22:return l.flags|=65536,u===Fo?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([u]):l.add(u)),cf(e,u,p)),!1}throw Error(y(435,l.tag))}return cf(e,u,p),uc(),!1}if(Zt)return n=Ri.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,u!==nu&&(e=Error(y(422),{cause:u}),Us(Fi(e,l)))):(u!==nu&&(n=Error(y(423),{cause:u}),Us(Fi(n,l))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,u=Fi(u,l),p=zu(e.stateNode,u,p),hu(e,p),nr!==4&&(nr=2)),!1;var w=Error(y(520),{cause:u});if(w=Fi(w,l),ro===null?ro=[w]:ro.push(w),nr!==4&&(nr=2),n===null)return!0;u=Fi(u,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=p&-p,l.lanes|=e,e=zu(l.stateNode,u,e),hu(l,e),!1;case 1:if(n=l.type,w=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(fl===null||!fl.has(w))))return l.flags|=65536,p&=-p,l.lanes|=p,p=ld(p),sd(p,e,l,u),hu(l,p),!1}l=l.return}while(l!==null);return!1}var Uu=Error(y(461)),br=!1;function Pr(e,n,l,u){n.child=e===null?f1(n,null,l,u):Hl(n,e.child,l,u)}function od(e,n,l,u,p){l=l.render;var w=n.ref;if("ref"in u){var _={};for(var M in u)M!=="ref"&&(_[M]=u[M])}else _=u;return Ul(n),u=bu(e,n,l,_,w,p),M=wu(),e!==null&&!br?(vu(e,n,p),Ra(e,n,p)):(Zt&&M&&eu(n),n.flags|=1,Pr(e,n,u,p),n.child)}function cd(e,n,l,u,p){if(e===null){var w=l.type;return typeof w=="function"&&!Wc(w)&&w.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=w,ud(e,n,w,u,p)):(e=Mo(l.type,null,u,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(w=e.child,!qu(e,p)){var _=w.memoizedProps;if(l=l.compare,l=l!==null?l:i,l(_,u)&&e.ref===n.ref)return Ra(e,n,p)}return n.flags|=1,e=Ea(w,u),e.ref=n.ref,e.return=n,n.child=e}function ud(e,n,l,u,p){if(e!==null){var w=e.memoizedProps;if(i(w,u)&&e.ref===n.ref)if(br=!1,n.pendingProps=u=w,qu(e,p))(e.flags&131072)!==0&&(br=!0);else return n.lanes=e.lanes,Ra(e,n,p)}return Fu(e,n,l,u,p)}function fd(e,n,l,u){var p=u.children,w=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((n.flags&128)!==0){if(w=w!==null?w.baseLanes|l:l,e!==null){for(u=n.child=e.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~w}else u=0,n.child=null;return dd(e,n,w,l,u)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&zo(n,w!==null?w.cachePool:null),w!==null?g1(n,w):mu(),m1(n);else return u=n.lanes=536870912,dd(e,n,w!==null?w.baseLanes|l:l,l,u)}else w!==null?(zo(n,w.cachePool),g1(n,w),sl(),n.memoizedState=null):(e!==null&&zo(n,null),mu(),sl());return Pr(e,n,p,l),n.child}function Qs(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function dd(e,n,l,u,p){var w=cu();return w=w===null?null:{parent:pr._currentValue,pool:w},n.memoizedState={baseLanes:l,cachePool:w},e!==null&&zo(n,null),mu(),m1(n),e!==null&&ls(e,n,u,!0),n.childLanes=p,null}function $o(e,n){return n=tc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function hd(e,n,l){return Hl(n,e.child,null,l),e=$o(n,n.pendingProps),e.flags|=2,Oi(n),n.memoizedState=null,e}function zm(e,n,l){var u=n.pendingProps,p=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Zt){if(u.mode==="hidden")return e=$o(n,u),n.lanes=536870912,Qs(null,e);if(pu(n),(e=Hn)?(e=Sh(e,Hi),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:$a!==null?{id:ua,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},l=Q0(e),l.return=n,n.child=l,Ur=n,Hn=null)):e=null,e===null)throw tl(n);return n.lanes=536870912,null}return $o(n,u)}var w=e.memoizedState;if(w!==null){var _=w.dehydrated;if(pu(n),p)if(n.flags&256)n.flags&=-257,n=hd(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(y(558));else if(br||ls(e,n,l,!1),p=(l&e.childLanes)!==0,br||p){if(u=Ln,u!==null&&(_=qt(u,l),_!==0&&_!==w.retryLane))throw w.retryLane=_,mn(e,_),gi(u,e,_),Uu;uc(),n=hd(e,n,l)}else e=w.treeContext,Hn=Gi(_.nextSibling),Ur=n,Zt=!0,el=null,Hi=!1,e!==null&&$0(n,e),n=$o(n,u),n.flags|=4096;return n}return e=Ea(e.child,{mode:u.mode,children:u.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ec(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(y(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function Fu(e,n,l,u,p){return Ul(n),l=bu(e,n,l,u,void 0,p),u=wu(),e!==null&&!br?(vu(e,n,p),Ra(e,n,p)):(Zt&&u&&eu(n),n.flags|=1,Pr(e,n,l,p),n.child)}function gd(e,n,l,u,p,w){return Ul(n),n.updateQueue=null,l=p1(n,u,l,p),x1(e),u=wu(),e!==null&&!br?(vu(e,n,w),Ra(e,n,w)):(Zt&&u&&eu(n),n.flags|=1,Pr(e,n,l,w),n.child)}function md(e,n,l,u,p){if(Ul(n),n.stateNode===null){var w=ns,_=l.contextType;typeof _=="object"&&_!==null&&(w=Fr(_)),w=new l(u,w),n.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Lu,n.stateNode=w,w._reactInternals=n,w=n.stateNode,w.props=u,w.state=n.memoizedState,w.refs={},fu(n),_=l.contextType,w.context=typeof _=="object"&&_!==null?Fr(_):ns,w.state=n.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(ku(n,l,_,u),w.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(_=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),_!==w.state&&Lu.enqueueReplaceState(w,w.state,null),Xs(n,u,w,p),Gs(),w.state=n.memoizedState),typeof w.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(e===null){w=n.stateNode;var M=n.memoizedProps,q=Gl(l,M);w.props=q;var de=w.context,Ne=l.contextType;_=ns,typeof Ne=="object"&&Ne!==null&&(_=Fr(Ne));var Be=l.getDerivedStateFromProps;Ne=typeof Be=="function"||typeof w.getSnapshotBeforeUpdate=="function",M=n.pendingProps!==M,Ne||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M||de!==_)&&td(n,w,u,_),rl=!1;var xe=n.memoizedState;w.state=xe,Xs(n,u,w,p),Gs(),de=n.memoizedState,M||xe!==de||rl?(typeof Be=="function"&&(ku(n,l,Be,u),de=n.memoizedState),(q=rl||ed(n,l,q,u,xe,de,_))?(Ne||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=de),w.props=u,w.state=de,w.context=_,u=q):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{w=n.stateNode,du(e,n),_=n.memoizedProps,Ne=Gl(l,_),w.props=Ne,Be=n.pendingProps,xe=w.context,de=l.contextType,q=ns,typeof de=="object"&&de!==null&&(q=Fr(de)),M=l.getDerivedStateFromProps,(de=typeof M=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(_!==Be||xe!==q)&&td(n,w,u,q),rl=!1,xe=n.memoizedState,w.state=xe,Xs(n,u,w,p),Gs();var ve=n.memoizedState;_!==Be||xe!==ve||rl||e!==null&&e.dependencies!==null&&ko(e.dependencies)?(typeof M=="function"&&(ku(n,l,M,u),ve=n.memoizedState),(Ne=rl||ed(n,l,Ne,u,xe,ve,q)||e!==null&&e.dependencies!==null&&ko(e.dependencies))?(de||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(u,ve,q),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(u,ve,q)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||_===e.memoizedProps&&xe===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&xe===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=ve),w.props=u,w.state=ve,w.context=q,u=Ne):(typeof w.componentDidUpdate!="function"||_===e.memoizedProps&&xe===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&xe===e.memoizedState||(n.flags|=1024),u=!1)}return w=u,ec(e,n),u=(n.flags&128)!==0,w||u?(w=n.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:w.render(),n.flags|=1,e!==null&&u?(n.child=Hl(n,e.child,null,p),n.child=Hl(n,null,l,p)):Pr(e,n,l,p),n.memoizedState=w.state,e=n.child):e=Ra(e,n,p),e}function xd(e,n,l,u){return Ll(),n.flags|=256,Pr(e,n,l,u),n.child}var Pu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ju(e){return{baseLanes:e,cachePool:a1()}}function Hu(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Ii),e}function pd(e,n,l){var u=n.pendingProps,p=!1,w=(n.flags&128)!==0,_;if((_=w)||(_=e!==null&&e.memoizedState===null?!1:(cr.current&2)!==0),_&&(p=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Zt){if(p?ll(n):sl(),(e=Hn)?(e=Sh(e,Hi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:$a!==null?{id:ua,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},l=Q0(e),l.return=n,n.child=l,Ur=n,Hn=null)):e=null,e===null)throw tl(n);return Sf(e)?n.lanes=32:n.lanes=536870912,null}var M=u.children;return u=u.fallback,p?(sl(),p=n.mode,M=tc({mode:"hidden",children:M},p),u=kl(u,p,l,null),M.return=n,u.return=n,M.sibling=u,n.child=M,u=n.child,u.memoizedState=ju(l),u.childLanes=Hu(e,_,l),n.memoizedState=Pu,Qs(null,u)):(ll(n),Vu(n,M))}var q=e.memoizedState;if(q!==null&&(M=q.dehydrated,M!==null)){if(w)n.flags&256?(ll(n),n.flags&=-257,n=Gu(e,n,l)):n.memoizedState!==null?(sl(),n.child=e.child,n.flags|=128,n=null):(sl(),M=u.fallback,p=n.mode,u=tc({mode:"visible",children:u.children},p),M=kl(M,p,l,null),M.flags|=2,u.return=n,M.return=n,u.sibling=M,n.child=u,Hl(n,e.child,null,l),u=n.child,u.memoizedState=ju(l),u.childLanes=Hu(e,_,l),n.memoizedState=Pu,n=Qs(null,u));else if(ll(n),Sf(M)){if(_=M.nextSibling&&M.nextSibling.dataset,_)var de=_.dgst;_=de,u=Error(y(419)),u.stack="",u.digest=_,Us({value:u,source:null,stack:null}),n=Gu(e,n,l)}else if(br||ls(e,n,l,!1),_=(l&e.childLanes)!==0,br||_){if(_=Ln,_!==null&&(u=qt(_,l),u!==0&&u!==q.retryLane))throw q.retryLane=u,mn(e,u),gi(_,e,u),Uu;Cf(M)||uc(),n=Gu(e,n,l)}else Cf(M)?(n.flags|=192,n.child=e.child,n=null):(e=q.treeContext,Hn=Gi(M.nextSibling),Ur=n,Zt=!0,el=null,Hi=!1,e!==null&&$0(n,e),n=Vu(n,u.children),n.flags|=4096);return n}return p?(sl(),M=u.fallback,p=n.mode,q=e.child,de=q.sibling,u=Ea(q,{mode:"hidden",children:u.children}),u.subtreeFlags=q.subtreeFlags&65011712,de!==null?M=Ea(de,M):(M=kl(M,p,l,null),M.flags|=2),M.return=n,u.return=n,u.sibling=M,n.child=u,Qs(null,u),u=n.child,M=e.child.memoizedState,M===null?M=ju(l):(p=M.cachePool,p!==null?(q=pr._currentValue,p=p.parent!==q?{parent:q,pool:q}:p):p=a1(),M={baseLanes:M.baseLanes|l,cachePool:p}),u.memoizedState=M,u.childLanes=Hu(e,_,l),n.memoizedState=Pu,Qs(e.child,u)):(ll(n),l=e.child,e=l.sibling,l=Ea(l,{mode:"visible",children:u.children}),l.return=n,l.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=l,n.memoizedState=null,l)}function Vu(e,n){return n=tc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function tc(e,n){return e=Ni(22,e,null,n),e.lanes=0,e}function Gu(e,n,l){return Hl(n,e.child,null,l),e=Vu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function yd(e,n,l){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),au(e.return,n,l)}function Xu(e,n,l,u,p,w){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p,treeForkCount:w}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=l,_.tailMode=p,_.treeForkCount=w)}function bd(e,n,l){var u=n.pendingProps,p=u.revealOrder,w=u.tail;u=u.children;var _=cr.current,M=(_&2)!==0;if(M?(_=_&1|2,n.flags|=128):_&=1,ze(cr,_),Pr(e,n,u,l),u=Zt?zs:0,!M&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yd(e,l,n);else if(e.tag===19)yd(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(l=n.child,p=null;l!==null;)e=l.alternate,e!==null&&Vo(e)===null&&(p=l),l=l.sibling;l=p,l===null?(p=n.child,n.child=null):(p=l.sibling,l.sibling=null),Xu(n,!1,p,l,w,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&Vo(e)===null){n.child=p;break}e=p.sibling,p.sibling=l,l=p,p=e}Xu(n,!0,l,null,w,u);break;case"together":Xu(n,!1,null,null,void 0,u);break;default:n.memoizedState=null}return n.child}function Ra(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),ul|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(ls(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(y(153));if(n.child!==null){for(e=n.child,l=Ea(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Ea(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function qu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ko(e)))}function Um(e,n,l){switch(n.tag){case 3:We(n,n.stateNode.containerInfo),nl(n,pr,e.memoizedState.cache),Ll();break;case 27:case 5:Ue(n);break;case 4:We(n,n.stateNode.containerInfo);break;case 10:nl(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pu(n),null;break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(ll(n),n.flags|=128,null):(l&n.child.childLanes)!==0?pd(e,n,l):(ll(n),e=Ra(e,n,l),e!==null?e.sibling:null);ll(n);break;case 19:var p=(e.flags&128)!==0;if(u=(l&n.childLanes)!==0,u||(ls(e,n,l,!1),u=(l&n.childLanes)!==0),p){if(u)return bd(e,n,l);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ze(cr,cr.current),u)break;return null;case 22:return n.lanes=0,fd(e,n,l,n.pendingProps);case 24:nl(n,pr,e.memoizedState.cache)}return Ra(e,n,l)}function wd(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)br=!0;else{if(!qu(e,l)&&(n.flags&128)===0)return br=!1,Um(e,n,l);br=(e.flags&131072)!==0}else br=!1,Zt&&(n.flags&1048576)!==0&&J0(n,zs,n.index);switch(n.lanes=0,n.tag){case 16:e:{var u=n.pendingProps;if(e=Pl(n.elementType),n.type=e,typeof e=="function")Wc(e)?(u=Gl(e,u),n.tag=1,n=md(null,n,e,u,l)):(n.tag=0,n=Fu(null,n,e,u,l));else{if(e!=null){var p=e.$$typeof;if(p===me){n.tag=11,n=od(null,n,e,u,l);break e}else if(p===X){n.tag=14,n=cd(null,n,e,u,l);break e}}throw n=Re(e)||e,Error(y(306,n,""))}}return n;case 0:return Fu(e,n,n.type,n.pendingProps,l);case 1:return u=n.type,p=Gl(u,n.pendingProps),md(e,n,u,p,l);case 3:e:{if(We(n,n.stateNode.containerInfo),e===null)throw Error(y(387));u=n.pendingProps;var w=n.memoizedState;p=w.element,du(e,n),Xs(n,u,null,l);var _=n.memoizedState;if(u=_.cache,nl(n,pr,u),u!==w.cache&&lu(n,[pr],l,!0),Gs(),u=_.element,w.isDehydrated)if(w={element:u,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=w,n.memoizedState=w,n.flags&256){n=xd(e,n,u,l);break e}else if(u!==p){p=Fi(Error(y(424)),n),Us(p),n=xd(e,n,u,l);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Hn=Gi(e.firstChild),Ur=n,Zt=!0,el=null,Hi=!0,l=f1(n,null,u,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ll(),u===p){n=Ra(e,n,l);break e}Pr(e,n,u,l)}n=n.child}return n;case 26:return ec(e,n),e===null?(l=Dh(n.type,null,n.pendingProps,null))?n.memoizedState=l:Zt||(l=n.type,e=n.pendingProps,u=pc(Ae.current).createElement(l),u[gn]=n,u[Pt]=e,jr(u,l,e),jn(u),n.stateNode=u):n.memoizedState=Dh(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ue(n),e===null&&Zt&&(u=n.stateNode=Nh(n.type,n.pendingProps,Ae.current),Ur=n,Hi=!0,p=Hn,ml(n.type)?(Tf=p,Hn=Gi(u.firstChild)):Hn=p),Pr(e,n,n.pendingProps.children,l),ec(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Zt&&((p=u=Hn)&&(u=gx(u,n.type,n.pendingProps,Hi),u!==null?(n.stateNode=u,Ur=n,Hn=Gi(u.firstChild),Hi=!1,p=!0):p=!1),p||tl(n)),Ue(n),p=n.type,w=n.pendingProps,_=e!==null?e.memoizedProps:null,u=w.children,vf(p,w)?u=null:_!==null&&vf(p,_)&&(n.flags|=32),n.memoizedState!==null&&(p=bu(e,n,Rm,null,null,l),fo._currentValue=p),ec(e,n),Pr(e,n,u,l),n.child;case 6:return e===null&&Zt&&((e=l=Hn)&&(l=mx(l,n.pendingProps,Hi),l!==null?(n.stateNode=l,Ur=n,Hn=null,e=!0):e=!1),e||tl(n)),null;case 13:return pd(e,n,l);case 4:return We(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=Hl(n,null,u,l):Pr(e,n,u,l),n.child;case 11:return od(e,n,n.type,n.pendingProps,l);case 7:return Pr(e,n,n.pendingProps,l),n.child;case 8:return Pr(e,n,n.pendingProps.children,l),n.child;case 12:return Pr(e,n,n.pendingProps.children,l),n.child;case 10:return u=n.pendingProps,nl(n,n.type,u.value),Pr(e,n,u.children,l),n.child;case 9:return p=n.type._context,u=n.pendingProps.children,Ul(n),p=Fr(p),u=u(p),n.flags|=1,Pr(e,n,u,l),n.child;case 14:return cd(e,n,n.type,n.pendingProps,l);case 15:return ud(e,n,n.type,n.pendingProps,l);case 19:return bd(e,n,l);case 31:return zm(e,n,l);case 22:return fd(e,n,l,n.pendingProps);case 24:return Ul(n),u=Fr(pr),e===null?(p=cu(),p===null&&(p=Ln,w=su(),p.pooledCache=w,w.refCount++,w!==null&&(p.pooledCacheLanes|=l),p=w),n.memoizedState={parent:u,cache:p},fu(n),nl(n,pr,p)):((e.lanes&l)!==0&&(du(e,n),Xs(n,null,null,l),Gs()),p=e.memoizedState,w=n.memoizedState,p.parent!==u?(p={parent:u,cache:u},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),nl(n,pr,u)):(u=w.cache,nl(n,pr,u),u!==p.cache&&lu(n,[pr],l,!0))),Pr(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(y(156,n.tag))}function Oa(e){e.flags|=4}function Yu(e,n,l,u,p){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(Yd())e.flags|=8192;else throw jl=Fo,uu}else e.flags&=-16777217}function vd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Lh(n))if(Yd())e.flags|=8192;else throw jl=Fo,uu}function nc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Xt():536870912,e.lanes|=n,ys|=n)}function Ws(e,n){if(!Zt)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Vn(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,u=0;if(n)for(var p=e.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=u,e.childLanes=l,n}function Fm(e,n,l){var u=n.pendingProps;switch(tu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(n),null;case 1:return Vn(n),null;case 3:return l=n.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),Ta(pr),it(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(as(n)?Oa(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ru())),Vn(n),null;case 26:var p=n.type,w=n.memoizedState;return e===null?(Oa(n),w!==null?(Vn(n),vd(n,w)):(Vn(n),Yu(n,p,null,u,l))):w?w!==e.memoizedState?(Oa(n),Vn(n),vd(n,w)):(Vn(n),n.flags&=-16777217):(e=e.memoizedProps,e!==u&&Oa(n),Vn(n),Yu(n,p,e,u,l)),null;case 27:if(en(n),l=Ae.current,p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==u&&Oa(n);else{if(!u){if(n.stateNode===null)throw Error(y(166));return Vn(n),null}e=_e.current,as(n)?e1(n):(e=Nh(p,u,l),n.stateNode=e,Oa(n))}return Vn(n),null;case 5:if(en(n),p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==u&&Oa(n);else{if(!u){if(n.stateNode===null)throw Error(y(166));return Vn(n),null}if(w=_e.current,as(n))e1(n);else{var _=pc(Ae.current);switch(w){case 1:w=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:w=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":w=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":w=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":w=_.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?w.multiple=!0:u.size&&(w.size=u.size);break;default:w=typeof u.is=="string"?_.createElement(p,{is:u.is}):_.createElement(p)}}w[gn]=n,w[Pt]=u;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)w.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=w;e:switch(jr(w,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Oa(n)}}return Vn(n),Yu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==u&&Oa(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(y(166));if(e=Ae.current,as(n)){if(e=n.stateNode,l=n.memoizedProps,u=null,p=Ur,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}e[gn]=n,e=!!(e.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||ph(e.nodeValue,l)),e||tl(n,!0)}else e=pc(e).createTextNode(u),e[gn]=n,n.stateNode=e}return Vn(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(u=as(n),l!==null){if(e===null){if(!u)throw Error(y(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(557));e[gn]=n}else Ll(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Vn(n),e=!1}else l=ru(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(Oi(n),n):(Oi(n),null);if((n.flags&128)!==0)throw Error(y(558))}return Vn(n),null;case 13:if(u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=as(n),u!==null&&u.dehydrated!==null){if(e===null){if(!p)throw Error(y(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(y(317));p[gn]=n}else Ll(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Vn(n),p=!1}else p=ru(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(Oi(n),n):(Oi(n),null)}return Oi(n),(n.flags&128)!==0?(n.lanes=l,n):(l=u!==null,e=e!==null&&e.memoizedState!==null,l&&(u=n.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),w=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(w=u.memoizedState.cachePool.pool),w!==p&&(u.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),nc(n,n.updateQueue),Vn(n),null);case 4:return it(),e===null&&xf(n.stateNode.containerInfo),Vn(n),null;case 10:return Ta(n.type),Vn(n),null;case 19:if(ue(cr),u=n.memoizedState,u===null)return Vn(n),null;if(p=(n.flags&128)!==0,w=u.rendering,w===null)if(p)Ws(u,!1);else{if(nr!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(w=Vo(e),w!==null){for(n.flags|=128,Ws(u,!1),e=w.updateQueue,n.updateQueue=e,nc(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)Z0(l,e),l=l.sibling;return ze(cr,cr.current&1|2),Zt&&Ca(n,u.treeForkCount),n.child}e=e.sibling}u.tail!==null&&yn()>sc&&(n.flags|=128,p=!0,Ws(u,!1),n.lanes=4194304)}else{if(!p)if(e=Vo(w),e!==null){if(n.flags|=128,p=!0,e=e.updateQueue,n.updateQueue=e,nc(n,e),Ws(u,!0),u.tail===null&&u.tailMode==="hidden"&&!w.alternate&&!Zt)return Vn(n),null}else 2*yn()-u.renderingStartTime>sc&&l!==536870912&&(n.flags|=128,p=!0,Ws(u,!1),n.lanes=4194304);u.isBackwards?(w.sibling=n.child,n.child=w):(e=u.last,e!==null?e.sibling=w:n.child=w,u.last=w)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=yn(),e.sibling=null,l=cr.current,ze(cr,p?l&1|2:l&1),Zt&&Ca(n,u.treeForkCount),e):(Vn(n),null);case 22:case 23:return Oi(n),xu(),u=n.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(l&536870912)!==0&&(n.flags&128)===0&&(Vn(n),n.subtreeFlags&6&&(n.flags|=8192)):Vn(n),l=n.updateQueue,l!==null&&nc(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==l&&(n.flags|=2048),e!==null&&ue(Fl),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ta(pr),Vn(n),null;case 25:return null;case 30:return null}throw Error(y(156,n.tag))}function Pm(e,n){switch(tu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ta(pr),it(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return en(n),null;case 31:if(n.memoizedState!==null){if(Oi(n),n.alternate===null)throw Error(y(340));Ll()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Oi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(y(340));Ll()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ue(cr),null;case 4:return it(),null;case 10:return Ta(n.type),null;case 22:case 23:return Oi(n),xu(),e!==null&&ue(Fl),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ta(pr),null;case 25:return null;default:return null}}function Ad(e,n){switch(tu(n),n.tag){case 3:Ta(pr),it();break;case 26:case 27:case 5:en(n);break;case 4:it();break;case 31:n.memoizedState!==null&&Oi(n);break;case 13:Oi(n);break;case 19:ue(cr);break;case 10:Ta(n.type);break;case 22:case 23:Oi(n),xu(),e!==null&&ue(Fl);break;case 24:Ta(pr)}}function Js(e,n){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&e)===e){u=void 0;var w=l.create,_=l.inst;u=w(),_.destroy=u}l=l.next}while(l!==p)}}catch(M){Cn(n,n.return,M)}}function ol(e,n,l){try{var u=n.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var w=p.next;u=w;do{if((u.tag&e)===e){var _=u.inst,M=_.destroy;if(M!==void 0){_.destroy=void 0,p=n;var q=l,de=M;try{de()}catch(Ne){Cn(p,q,Ne)}}}u=u.next}while(u!==w)}}catch(Ne){Cn(n,n.return,Ne)}}function Ed(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{h1(n,l)}catch(u){Cn(e,e.return,u)}}}function Cd(e,n,l){l.props=Gl(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(u){Cn(e,n,u)}}function $s(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof l=="function"?e.refCleanup=l(u):l.current=u}}catch(p){Cn(e,n,p)}}function da(e,n){var l=e.ref,u=e.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){Cn(e,n,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Cn(e,n,p)}else l.current=null}function Sd(e){var n=e.type,l=e.memoizedProps,u=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){Cn(e,e.return,p)}}function Ku(e,n,l){try{var u=e.stateNode;ox(u,e.type,l,n),u[Pt]=n}catch(p){Cn(e,e.return,p)}}function Td(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ml(e.type)||e.tag===4}function Zu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Td(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ml(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qu(e,n,l){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=vr));else if(u!==4&&(u===27&&ml(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Qu(e,n,l),e=e.sibling;e!==null;)Qu(e,n,l),e=e.sibling}function rc(e,n,l){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(u!==4&&(u===27&&ml(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(rc(e,n,l),e=e.sibling;e!==null;)rc(e,n,l),e=e.sibling}function _d(e){var n=e.stateNode,l=e.memoizedProps;try{for(var u=e.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);jr(n,u,l),n[gn]=e,n[Pt]=l}catch(w){Cn(e,e.return,w)}}var Da=!1,wr=!1,Wu=!1,Nd=typeof WeakSet=="function"?WeakSet:Set,Or=null;function jm(e,n){if(e=e.containerInfo,bf=Cc,e=b(e),A(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,w=u.focusNode;u=u.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var _=0,M=-1,q=-1,de=0,Ne=0,Be=e,xe=null;t:for(;;){for(var ve;Be!==l||p!==0&&Be.nodeType!==3||(M=_+p),Be!==w||u!==0&&Be.nodeType!==3||(q=_+u),Be.nodeType===3&&(_+=Be.nodeValue.length),(ve=Be.firstChild)!==null;)xe=Be,Be=ve;for(;;){if(Be===e)break t;if(xe===l&&++de===p&&(M=_),xe===w&&++Ne===u&&(q=_),(ve=Be.nextSibling)!==null)break;Be=xe,xe=Be.parentNode}Be=ve}l=M===-1||q===-1?null:{start:M,end:q}}else l=null}l=l||{start:0,end:0}}else l=null;for(wf={focusedElem:e,selectionRange:l},Cc=!1,Or=n;Or!==null;)if(n=Or,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Or=e;else for(;Or!==null;){switch(n=Or,w=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)p=e[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&w!==null){e=void 0,l=n,p=w.memoizedProps,w=w.memoizedState,u=l.stateNode;try{var at=Gl(l.type,p);e=u.getSnapshotBeforeUpdate(at,w),u.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Cn(l,l.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)Ef(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ef(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(y(163))}if(e=n.sibling,e!==null){e.return=n.return,Or=e;break}Or=n.return}}function Rd(e,n,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Ma(e,l),u&4&&Js(5,l);break;case 1:if(Ma(e,l),u&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(_){Cn(l,l.return,_)}else{var p=Gl(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(p,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Cn(l,l.return,_)}}u&64&&Ed(l),u&512&&$s(l,l.return);break;case 3:if(Ma(e,l),u&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{h1(e,n)}catch(_){Cn(l,l.return,_)}}break;case 27:n===null&&u&4&&_d(l);case 26:case 5:Ma(e,l),n===null&&u&4&&Sd(l),u&512&&$s(l,l.return);break;case 12:Ma(e,l);break;case 31:Ma(e,l),u&4&&Id(e,l);break;case 13:Ma(e,l),u&4&&Md(e,l),u&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Qm.bind(null,l),xx(e,l))));break;case 22:if(u=l.memoizedState!==null||Da,!u){n=n!==null&&n.memoizedState!==null||wr,p=Da;var w=wr;Da=u,(wr=n)&&!w?Ba(e,l,(l.subtreeFlags&8772)!==0):Ma(e,l),Da=p,wr=w}break;case 30:break;default:Ma(e,l)}}function Od(e){var n=e.alternate;n!==null&&(e.alternate=null,Od(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Mr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Zn=null,ui=!1;function Ia(e,n,l){for(l=l.child;l!==null;)Dd(e,n,l),l=l.sibling}function Dd(e,n,l){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(tn,l)}catch{}switch(l.tag){case 26:wr||da(l,n),Ia(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:wr||da(l,n);var u=Zn,p=ui;ml(l.type)&&(Zn=l.stateNode,ui=!1),Ia(e,n,l),oo(l.stateNode),Zn=u,ui=p;break;case 5:wr||da(l,n);case 6:if(u=Zn,p=ui,Zn=null,Ia(e,n,l),Zn=u,ui=p,Zn!==null)if(ui)try{(Zn.nodeType===9?Zn.body:Zn.nodeName==="HTML"?Zn.ownerDocument.body:Zn).removeChild(l.stateNode)}catch(w){Cn(l,n,w)}else try{Zn.removeChild(l.stateNode)}catch(w){Cn(l,n,w)}break;case 18:Zn!==null&&(ui?(e=Zn,Eh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Ts(e)):Eh(Zn,l.stateNode));break;case 4:u=Zn,p=ui,Zn=l.stateNode.containerInfo,ui=!0,Ia(e,n,l),Zn=u,ui=p;break;case 0:case 11:case 14:case 15:ol(2,l,n),wr||ol(4,l,n),Ia(e,n,l);break;case 1:wr||(da(l,n),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Cd(l,n,u)),Ia(e,n,l);break;case 21:Ia(e,n,l);break;case 22:wr=(u=wr)||l.memoizedState!==null,Ia(e,n,l),wr=u;break;default:Ia(e,n,l)}}function Id(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ts(e)}catch(l){Cn(n,n.return,l)}}}function Md(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ts(e)}catch(l){Cn(n,n.return,l)}}function Hm(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Nd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Nd),n;default:throw Error(y(435,e.tag))}}function ic(e,n){var l=Hm(e);n.forEach(function(u){if(!l.has(u)){l.add(u);var p=Wm.bind(null,e,u);u.then(p,p)}})}function fi(e,n){var l=n.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],w=e,_=n,M=_;e:for(;M!==null;){switch(M.tag){case 27:if(ml(M.type)){Zn=M.stateNode,ui=!1;break e}break;case 5:Zn=M.stateNode,ui=!1;break e;case 3:case 4:Zn=M.stateNode.containerInfo,ui=!0;break e}M=M.return}if(Zn===null)throw Error(y(160));Dd(w,_,p),Zn=null,ui=!1,w=p.alternate,w!==null&&(w.return=null),p.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Bd(n,e),n=n.sibling}var ea=null;function Bd(e,n){var l=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fi(n,e),di(e),u&4&&(ol(3,e,e.return),Js(3,e),ol(5,e,e.return));break;case 1:fi(n,e),di(e),u&512&&(wr||l===null||da(l,l.return)),u&64&&Da&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=ea;if(fi(n,e),di(e),u&512&&(wr||l===null||da(l,l.return)),u&4){var w=l!==null?l.memoizedState:null;if(u=e.memoizedState,l===null)if(u===null)if(e.stateNode===null){e:{u=e.type,l=e.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":w=p.getElementsByTagName("title")[0],(!w||w[Zr]||w[gn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=p.createElement(u),p.head.insertBefore(w,p.querySelector("head > title"))),jr(w,u,l),w[gn]=e,jn(w),u=w;break e;case"link":var _=Bh("link","href",p).get(u+(l.href||""));if(_){for(var M=0;M<_.length;M++)if(w=_[M],w.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&w.getAttribute("rel")===(l.rel==null?null:l.rel)&&w.getAttribute("title")===(l.title==null?null:l.title)&&w.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(M,1);break t}}w=p.createElement(u),jr(w,u,l),p.head.appendChild(w);break;case"meta":if(_=Bh("meta","content",p).get(u+(l.content||""))){for(M=0;M<_.length;M++)if(w=_[M],w.getAttribute("content")===(l.content==null?null:""+l.content)&&w.getAttribute("name")===(l.name==null?null:l.name)&&w.getAttribute("property")===(l.property==null?null:l.property)&&w.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&w.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(M,1);break t}}w=p.createElement(u),jr(w,u,l),p.head.appendChild(w);break;default:throw Error(y(468,u))}w[gn]=e,jn(w),u=w}e.stateNode=u}else kh(p,e.type,e.stateNode);else e.stateNode=Mh(p,u,e.memoizedProps);else w!==u?(w===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):w.count--,u===null?kh(p,e.type,e.stateNode):Mh(p,u,e.memoizedProps)):u===null&&e.stateNode!==null&&Ku(e,e.memoizedProps,l.memoizedProps)}break;case 27:fi(n,e),di(e),u&512&&(wr||l===null||da(l,l.return)),l!==null&&u&4&&Ku(e,e.memoizedProps,l.memoizedProps);break;case 5:if(fi(n,e),di(e),u&512&&(wr||l===null||da(l,l.return)),e.flags&32){p=e.stateNode;try{Zi(p,"")}catch(at){Cn(e,e.return,at)}}u&4&&e.stateNode!=null&&(p=e.memoizedProps,Ku(e,p,l!==null?l.memoizedProps:p)),u&1024&&(Wu=!0);break;case 6:if(fi(n,e),di(e),u&4){if(e.stateNode===null)throw Error(y(162));u=e.memoizedProps,l=e.stateNode;try{l.nodeValue=u}catch(at){Cn(e,e.return,at)}}break;case 3:if(wc=null,p=ea,ea=yc(n.containerInfo),fi(n,e),ea=p,di(e),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Ts(n.containerInfo)}catch(at){Cn(e,e.return,at)}Wu&&(Wu=!1,kd(e));break;case 4:u=ea,ea=yc(e.stateNode.containerInfo),fi(n,e),di(e),ea=u;break;case 12:fi(n,e),di(e);break;case 31:fi(n,e),di(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,ic(e,u)));break;case 13:fi(n,e),di(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(lc=yn()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,ic(e,u)));break;case 22:p=e.memoizedState!==null;var q=l!==null&&l.memoizedState!==null,de=Da,Ne=wr;if(Da=de||p,wr=Ne||q,fi(n,e),wr=Ne,Da=de,di(e),u&8192)e:for(n=e.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(l===null||q||Da||wr||Xl(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){q=l=n;try{if(w=q.stateNode,p)_=w.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{M=q.stateNode;var Be=q.memoizedProps.style,xe=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;M.style.display=xe==null||typeof xe=="boolean"?"":(""+xe).trim()}}catch(at){Cn(q,q.return,at)}}}else if(n.tag===6){if(l===null){q=n;try{q.stateNode.nodeValue=p?"":q.memoizedProps}catch(at){Cn(q,q.return,at)}}}else if(n.tag===18){if(l===null){q=n;try{var ve=q.stateNode;p?Ch(ve,!0):Ch(q.stateNode,!1)}catch(at){Cn(q,q.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=e.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,ic(e,l))));break;case 19:fi(n,e),di(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,ic(e,u)));break;case 30:break;case 21:break;default:fi(n,e),di(e)}}function di(e){var n=e.flags;if(n&2){try{for(var l,u=e.return;u!==null;){if(Td(u)){l=u;break}u=u.return}if(l==null)throw Error(y(160));switch(l.tag){case 27:var p=l.stateNode,w=Zu(e);rc(e,w,p);break;case 5:var _=l.stateNode;l.flags&32&&(Zi(_,""),l.flags&=-33);var M=Zu(e);rc(e,M,_);break;case 3:case 4:var q=l.stateNode.containerInfo,de=Zu(e);Qu(e,de,q);break;default:throw Error(y(161))}}catch(Ne){Cn(e,e.return,Ne)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function kd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;kd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ma(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Rd(e,n.alternate,n),n=n.sibling}function Xl(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ol(4,n,n.return),Xl(n);break;case 1:da(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Cd(n,n.return,l),Xl(n);break;case 27:oo(n.stateNode);case 26:case 5:da(n,n.return),Xl(n);break;case 22:n.memoizedState===null&&Xl(n);break;case 30:Xl(n);break;default:Xl(n)}e=e.sibling}}function Ba(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,p=e,w=n,_=w.flags;switch(w.tag){case 0:case 11:case 15:Ba(p,w,l),Js(4,w);break;case 1:if(Ba(p,w,l),u=w,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(de){Cn(u,u.return,de)}if(u=w,p=u.updateQueue,p!==null){var M=u.stateNode;try{var q=p.shared.hiddenCallbacks;if(q!==null)for(p.shared.hiddenCallbacks=null,p=0;p<q.length;p++)d1(q[p],M)}catch(de){Cn(u,u.return,de)}}l&&_&64&&Ed(w),$s(w,w.return);break;case 27:_d(w);case 26:case 5:Ba(p,w,l),l&&u===null&&_&4&&Sd(w),$s(w,w.return);break;case 12:Ba(p,w,l);break;case 31:Ba(p,w,l),l&&_&4&&Id(p,w);break;case 13:Ba(p,w,l),l&&_&4&&Md(p,w);break;case 22:w.memoizedState===null&&Ba(p,w,l),$s(w,w.return);break;case 30:break;default:Ba(p,w,l)}n=n.sibling}}function Ju(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Fs(l))}function $u(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fs(e))}function ta(e,n,l,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ld(e,n,l,u),n=n.sibling}function Ld(e,n,l,u){var p=n.flags;switch(n.tag){case 0:case 11:case 15:ta(e,n,l,u),p&2048&&Js(9,n);break;case 1:ta(e,n,l,u);break;case 3:ta(e,n,l,u),p&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fs(e)));break;case 12:if(p&2048){ta(e,n,l,u),e=n.stateNode;try{var w=n.memoizedProps,_=w.id,M=w.onPostCommit;typeof M=="function"&&M(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(q){Cn(n,n.return,q)}}else ta(e,n,l,u);break;case 31:ta(e,n,l,u);break;case 13:ta(e,n,l,u);break;case 23:break;case 22:w=n.stateNode,_=n.alternate,n.memoizedState!==null?w._visibility&2?ta(e,n,l,u):eo(e,n):w._visibility&2?ta(e,n,l,u):(w._visibility|=2,ms(e,n,l,u,(n.subtreeFlags&10256)!==0||!1)),p&2048&&Ju(_,n);break;case 24:ta(e,n,l,u),p&2048&&$u(n.alternate,n);break;default:ta(e,n,l,u)}}function ms(e,n,l,u,p){for(p=p&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var w=e,_=n,M=l,q=u,de=_.flags;switch(_.tag){case 0:case 11:case 15:ms(w,_,M,q,p),Js(8,_);break;case 23:break;case 22:var Ne=_.stateNode;_.memoizedState!==null?Ne._visibility&2?ms(w,_,M,q,p):eo(w,_):(Ne._visibility|=2,ms(w,_,M,q,p)),p&&de&2048&&Ju(_.alternate,_);break;case 24:ms(w,_,M,q,p),p&&de&2048&&$u(_.alternate,_);break;default:ms(w,_,M,q,p)}n=n.sibling}}function eo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,u=n,p=u.flags;switch(u.tag){case 22:eo(l,u),p&2048&&Ju(u.alternate,u);break;case 24:eo(l,u),p&2048&&$u(u.alternate,u);break;default:eo(l,u)}n=n.sibling}}var to=8192;function xs(e,n,l){if(e.subtreeFlags&to)for(e=e.child;e!==null;)zd(e,n,l),e=e.sibling}function zd(e,n,l){switch(e.tag){case 26:xs(e,n,l),e.flags&to&&e.memoizedState!==null&&Nx(l,ea,e.memoizedState,e.memoizedProps);break;case 5:xs(e,n,l);break;case 3:case 4:var u=ea;ea=yc(e.stateNode.containerInfo),xs(e,n,l),ea=u;break;case 22:e.memoizedState===null&&(u=e.alternate,u!==null&&u.memoizedState!==null?(u=to,to=16777216,xs(e,n,l),to=u):xs(e,n,l));break;default:xs(e,n,l)}}function Ud(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function no(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var u=n[l];Or=u,Pd(u,e)}Ud(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fd(e),e=e.sibling}function Fd(e){switch(e.tag){case 0:case 11:case 15:no(e),e.flags&2048&&ol(9,e,e.return);break;case 3:no(e);break;case 12:no(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ac(e)):no(e);break;default:no(e)}}function ac(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var u=n[l];Or=u,Pd(u,e)}Ud(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ol(8,n,n.return),ac(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,ac(n));break;default:ac(n)}e=e.sibling}}function Pd(e,n){for(;Or!==null;){var l=Or;switch(l.tag){case 0:case 11:case 15:ol(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Fs(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Or=u;else e:for(l=e;Or!==null;){u=Or;var p=u.sibling,w=u.return;if(Od(u),u===l){Or=null;break e}if(p!==null){p.return=w,Or=p;break e}Or=w}}}var Vm={getCacheForType:function(e){var n=Fr(pr),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return Fr(pr).controller.signal}},Gm=typeof WeakMap=="function"?WeakMap:Map,fn=0,Ln=null,Ut=null,Vt=0,En=0,Di=null,cl=!1,ps=!1,ef=!1,ka=0,nr=0,ul=0,ql=0,tf=0,Ii=0,ys=0,ro=null,hi=null,nf=!1,lc=0,jd=0,sc=1/0,oc=null,fl=null,Ar=0,dl=null,bs=null,La=0,rf=0,af=null,Hd=null,io=0,lf=null;function Mi(){return(fn&2)!==0&&Vt!==0?Vt&-Vt:re.T!==null?df():wn()}function Vd(){if(Ii===0)if((Vt&536870912)===0||Zt){var e=Rt;Rt<<=1,(Rt&3932160)===0&&(Rt=262144),Ii=e}else Ii=536870912;return e=Ri.current,e!==null&&(e.flags|=32),Ii}function gi(e,n,l){(e===Ln&&(En===2||En===9)||e.cancelPendingCommit!==null)&&(ws(e,0),hl(e,Vt,Ii,!1)),Yn(e,l),((fn&2)===0||e!==Ln)&&(e===Ln&&((fn&2)===0&&(ql|=l),nr===4&&hl(e,Vt,Ii,!1)),ha(e))}function Gd(e,n,l){if((fn&6)!==0)throw Error(y(327));var u=!l&&(n&127)===0&&(n&e.expiredLanes)===0||hn(e,n),p=u?Ym(e,n):of(e,n,!0),w=u;do{if(p===0){ps&&!u&&hl(e,n,0,!1);break}else{if(l=e.current.alternate,w&&!Xm(l)){p=of(e,n,!1),w=!1;continue}if(p===2){if(w=n,e.errorRecoveryDisabledLanes&w)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var M=e;p=ro;var q=M.current.memoizedState.isDehydrated;if(q&&(ws(M,_).flags|=256),_=of(M,_,!1),_!==2){if(ef&&!q){M.errorRecoveryDisabledLanes|=w,ql|=w,p=4;break e}w=hi,hi=p,w!==null&&(hi===null?hi=w:hi.push.apply(hi,w))}p=_}if(w=!1,p!==2)continue}}if(p===1){ws(e,0),hl(e,n,0,!0);break}e:{switch(u=e,w=p,w){case 0:case 1:throw Error(y(345));case 4:if((n&4194048)!==n)break;case 6:hl(u,n,Ii,!cl);break e;case 2:hi=null;break;case 3:case 5:break;default:throw Error(y(329))}if((n&62914560)===n&&(p=lc+300-yn(),10<p)){if(hl(u,n,Ii,!cl),qn(u,0,!0)!==0)break e;La=n,u.timeoutHandle=vh(Xd.bind(null,u,l,hi,oc,nf,n,Ii,ql,ys,cl,w,"Throttled",-0,0),p);break e}Xd(u,l,hi,oc,nf,n,Ii,ql,ys,cl,w,null,-0,0)}}break}while(!0);ha(e)}function Xd(e,n,l,u,p,w,_,M,q,de,Ne,Be,xe,ve){if(e.timeoutHandle=-1,Be=n.subtreeFlags,Be&8192||(Be&16785408)===16785408){Be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vr},zd(n,w,Be);var at=(w&62914560)===w?lc-yn():(w&4194048)===w?jd-yn():0;if(at=Rx(Be,at),at!==null){La=w,e.cancelPendingCommit=at($d.bind(null,e,n,w,l,u,p,_,M,q,Ne,Be,null,xe,ve)),hl(e,w,_,!de);return}}$d(e,n,w,l,u,p,_,M,q)}function Xm(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],w=p.getSnapshot;p=p.value;try{if(!f(w(),p))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hl(e,n,l,u){n&=~tf,n&=~ql,e.suspendedLanes|=n,e.pingedLanes&=~n,u&&(e.warmLanes|=n),u=e.expirationTimes;for(var p=n;0<p;){var w=31-Le(p),_=1<<w;u[w]=-1,p&=~_}l!==0&&Nr(e,l,n)}function cc(){return(fn&6)===0?(ao(0),!1):!0}function sf(){if(Ut!==null){if(En===0)var e=Ut.return;else e=Ut,Sa=zl=null,Au(e),us=null,js=0,e=Ut;for(;e!==null;)Ad(e.alternate,e),e=e.return;Ut=null}}function ws(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,fx(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),La=0,sf(),Ln=e,Ut=l=Ea(e.current,null),Vt=n,En=0,Di=null,cl=!1,ps=hn(e,n),ef=!1,ys=Ii=tf=ql=ul=nr=0,hi=ro=null,nf=!1,(n&8)!==0&&(n|=n&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=n;0<u;){var p=31-Le(u),w=1<<p;n|=e[p],u&=~w}return ka=n,St(),l}function qd(e,n){Ot=null,re.H=Zs,n===cs||n===Uo?(n=o1(),En=3):n===uu?(n=o1(),En=4):En=n===Uu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Di=n,Ut===null&&(nr=1,Jo(e,Fi(n,e.current)))}function Yd(){var e=Ri.current;return e===null?!0:(Vt&4194048)===Vt?Vi===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===Vi:!1}function Kd(){var e=re.H;return re.H=Zs,e===null?Zs:e}function Zd(){var e=re.A;return re.A=Vm,e}function uc(){nr=4,cl||(Vt&4194048)!==Vt&&Ri.current!==null||(ps=!0),(ul&134217727)===0&&(ql&134217727)===0||Ln===null||hl(Ln,Vt,Ii,!1)}function of(e,n,l){var u=fn;fn|=2;var p=Kd(),w=Zd();(Ln!==e||Vt!==n)&&(oc=null,ws(e,n)),n=!1;var _=nr;e:do try{if(En!==0&&Ut!==null){var M=Ut,q=Di;switch(En){case 8:sf(),_=6;break e;case 3:case 2:case 9:case 6:Ri.current===null&&(n=!0);var de=En;if(En=0,Di=null,vs(e,M,q,de),l&&ps){_=0;break e}break;default:de=En,En=0,Di=null,vs(e,M,q,de)}}qm(),_=nr;break}catch(Ne){qd(e,Ne)}while(!0);return n&&e.shellSuspendCounter++,Sa=zl=null,fn=u,re.H=p,re.A=w,Ut===null&&(Ln=null,Vt=0,St()),_}function qm(){for(;Ut!==null;)Qd(Ut)}function Ym(e,n){var l=fn;fn|=2;var u=Kd(),p=Zd();Ln!==e||Vt!==n?(oc=null,sc=yn()+500,ws(e,n)):ps=hn(e,n);e:do try{if(En!==0&&Ut!==null){n=Ut;var w=Di;t:switch(En){case 1:En=0,Di=null,vs(e,n,w,1);break;case 2:case 9:if(l1(w)){En=0,Di=null,Wd(n);break}n=function(){En!==2&&En!==9||Ln!==e||(En=7),ha(e)},w.then(n,n);break e;case 3:En=7;break e;case 4:En=5;break e;case 7:l1(w)?(En=0,Di=null,Wd(n)):(En=0,Di=null,vs(e,n,w,7));break;case 5:var _=null;switch(Ut.tag){case 26:_=Ut.memoizedState;case 5:case 27:var M=Ut;if(_?Lh(_):M.stateNode.complete){En=0,Di=null;var q=M.sibling;if(q!==null)Ut=q;else{var de=M.return;de!==null?(Ut=de,fc(de)):Ut=null}break t}}En=0,Di=null,vs(e,n,w,5);break;case 6:En=0,Di=null,vs(e,n,w,6);break;case 8:sf(),nr=6;break e;default:throw Error(y(462))}}Km();break}catch(Ne){qd(e,Ne)}while(!0);return Sa=zl=null,re.H=u,re.A=p,fn=l,Ut!==null?0:(Ln=null,Vt=0,St(),nr)}function Km(){for(;Ut!==null&&!ti();)Qd(Ut)}function Qd(e){var n=wd(e.alternate,e,ka);e.memoizedProps=e.pendingProps,n===null?fc(e):Ut=n}function Wd(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=gd(l,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=gd(l,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:Au(n);default:Ad(l,n),n=Ut=Z0(n,ka),n=wd(l,n,ka)}e.memoizedProps=e.pendingProps,n===null?fc(e):Ut=n}function vs(e,n,l,u){Sa=zl=null,Au(n),us=null,js=0;var p=n.return;try{if(Lm(e,p,n,l,Vt)){nr=1,Jo(e,Fi(l,e.current)),Ut=null;return}}catch(w){if(p!==null)throw Ut=p,w;nr=1,Jo(e,Fi(l,e.current)),Ut=null;return}n.flags&32768?(Zt||u===1?e=!0:ps||(Vt&536870912)!==0?e=!1:(cl=e=!0,(u===2||u===9||u===3||u===6)&&(u=Ri.current,u!==null&&u.tag===13&&(u.flags|=16384))),Jd(n,e)):fc(n)}function fc(e){var n=e;do{if((n.flags&32768)!==0){Jd(n,cl);return}e=n.return;var l=Fm(n.alternate,n,ka);if(l!==null){Ut=l;return}if(n=n.sibling,n!==null){Ut=n;return}Ut=n=e}while(n!==null);nr===0&&(nr=5)}function Jd(e,n){do{var l=Pm(e.alternate,e);if(l!==null){l.flags&=32767,Ut=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){Ut=e;return}Ut=e=l}while(e!==null);nr=6,Ut=null}function $d(e,n,l,u,p,w,_,M,q){e.cancelPendingCommit=null;do dc();while(Ar!==0);if((fn&6)!==0)throw Error(y(327));if(n!==null){if(n===e.current)throw Error(y(177));if(w=n.lanes|n.childLanes,w|=dt,Jt(e,l,w,_,M,q),e===Ln&&(Ut=Ln=null,Vt=0),bs=n,dl=e,La=l,rf=w,af=p,Hd=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Jm(Xn,function(){return ih(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=re.T,re.T=null,p=pe.p,pe.p=2,_=fn,fn|=4;try{jm(e,n,l)}finally{fn=_,pe.p=p,re.T=u}}Ar=1,eh(),th(),nh()}}function eh(){if(Ar===1){Ar=0;var e=dl,n=bs,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=re.T,re.T=null;var u=pe.p;pe.p=2;var p=fn;fn|=4;try{Bd(n,e);var w=wf,_=b(e.containerInfo),M=w.focusedElem,q=w.selectionRange;if(_!==M&&M&&M.ownerDocument&&x(M.ownerDocument.documentElement,M)){if(q!==null&&A(M)){var de=q.start,Ne=q.end;if(Ne===void 0&&(Ne=de),"selectionStart"in M)M.selectionStart=de,M.selectionEnd=Math.min(Ne,M.value.length);else{var Be=M.ownerDocument||document,xe=Be&&Be.defaultView||window;if(xe.getSelection){var ve=xe.getSelection(),at=M.textContent.length,pt=Math.min(q.start,at),In=q.end===void 0?pt:Math.min(q.end,at);!ve.extend&&pt>In&&(_=In,In=pt,pt=_);var ie=d(M,pt),Z=d(M,In);if(ie&&Z&&(ve.rangeCount!==1||ve.anchorNode!==ie.node||ve.anchorOffset!==ie.offset||ve.focusNode!==Z.node||ve.focusOffset!==Z.offset)){var fe=Be.createRange();fe.setStart(ie.node,ie.offset),ve.removeAllRanges(),pt>In?(ve.addRange(fe),ve.extend(Z.node,Z.offset)):(fe.setEnd(Z.node,Z.offset),ve.addRange(fe))}}}}for(Be=[],ve=M;ve=ve.parentNode;)ve.nodeType===1&&Be.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Be.length;M++){var De=Be[M];De.element.scrollLeft=De.left,De.element.scrollTop=De.top}}Cc=!!bf,wf=bf=null}finally{fn=p,pe.p=u,re.T=l}}e.current=n,Ar=2}}function th(){if(Ar===2){Ar=0;var e=dl,n=bs,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=re.T,re.T=null;var u=pe.p;pe.p=2;var p=fn;fn|=4;try{Rd(e,n.alternate,n)}finally{fn=p,pe.p=u,re.T=l}}Ar=3}}function nh(){if(Ar===4||Ar===3){Ar=0,pi();var e=dl,n=bs,l=La,u=Hd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ar=5:(Ar=0,bs=dl=null,rh(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(fl=null),Wn(l),n=n.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(tn,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=re.T,p=pe.p,pe.p=2,re.T=null;try{for(var w=e.onRecoverableError,_=0;_<u.length;_++){var M=u[_];w(M.value,{componentStack:M.stack})}}finally{re.T=n,pe.p=p}}(La&3)!==0&&dc(),ha(e),p=e.pendingLanes,(l&261930)!==0&&(p&42)!==0?e===lf?io++:(io=0,lf=e):io=0,ao(0)}}function rh(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Fs(n)))}function dc(){return eh(),th(),nh(),ih()}function ih(){if(Ar!==5)return!1;var e=dl,n=rf;rf=0;var l=Wn(La),u=re.T,p=pe.p;try{pe.p=32>l?32:l,re.T=null,l=af,af=null;var w=dl,_=La;if(Ar=0,bs=dl=null,La=0,(fn&6)!==0)throw Error(y(331));var M=fn;if(fn|=4,Fd(w.current),Ld(w,w.current,_,l),fn=M,ao(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(tn,w)}catch{}return!0}finally{pe.p=p,re.T=u,rh(e,n)}}function ah(e,n,l){n=Fi(l,n),n=zu(e.stateNode,n,2),e=al(e,n,2),e!==null&&(Yn(e,2),ha(e))}function Cn(e,n,l){if(e.tag===3)ah(e,e,l);else for(;n!==null;){if(n.tag===3){ah(n,e,l);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(fl===null||!fl.has(u))){e=Fi(l,e),l=ld(2),u=al(n,l,2),u!==null&&(sd(l,u,n,e),Yn(u,2),ha(u));break}}n=n.return}}function cf(e,n,l){var u=e.pingCache;if(u===null){u=e.pingCache=new Gm;var p=new Set;u.set(n,p)}else p=u.get(n),p===void 0&&(p=new Set,u.set(n,p));p.has(l)||(ef=!0,p.add(l),e=Zm.bind(null,e,n,l),n.then(e,e))}function Zm(e,n,l){var u=e.pingCache;u!==null&&u.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ln===e&&(Vt&l)===l&&(nr===4||nr===3&&(Vt&62914560)===Vt&&300>yn()-lc?(fn&2)===0&&ws(e,0):tf|=l,ys===Vt&&(ys=0)),ha(e)}function lh(e,n){n===0&&(n=Xt()),e=mn(e,n),e!==null&&(Yn(e,n),ha(e))}function Qm(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),lh(e,l)}function Wm(e,n){var l=0;switch(e.tag){case 31:case 13:var u=e.stateNode,p=e.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(y(314))}u!==null&&u.delete(n),lh(e,l)}function Jm(e,n){return ir(e,n)}var hc=null,As=null,uf=!1,gc=!1,ff=!1,gl=0;function ha(e){e!==As&&e.next===null&&(As===null?hc=As=e:As=As.next=e),gc=!0,uf||(uf=!0,ex())}function ao(e,n){if(!ff&&gc){ff=!0;do for(var l=!1,u=hc;u!==null;){if(e!==0){var p=u.pendingLanes;if(p===0)var w=0;else{var _=u.suspendedLanes,M=u.pingedLanes;w=(1<<31-Le(42|e)+1)-1,w&=p&~(_&~M),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(l=!0,uh(u,w))}else w=Vt,w=qn(u,u===Ln?w:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(w&3)===0||hn(u,w)||(l=!0,uh(u,w));u=u.next}while(l);ff=!1}}function $m(){sh()}function sh(){gc=uf=!1;var e=0;gl!==0&&ux()&&(e=gl);for(var n=yn(),l=null,u=hc;u!==null;){var p=u.next,w=oh(u,n);w===0?(u.next=null,l===null?hc=p:l.next=p,p===null&&(As=l)):(l=u,(e!==0||(w&3)!==0)&&(gc=!0)),u=p}Ar!==0&&Ar!==5||ao(e),gl!==0&&(gl=0)}function oh(e,n){for(var l=e.suspendedLanes,u=e.pingedLanes,p=e.expirationTimes,w=e.pendingLanes&-62914561;0<w;){var _=31-Le(w),M=1<<_,q=p[_];q===-1?((M&l)===0||(M&u)!==0)&&(p[_]=gr(M,n)):q<=n&&(e.expiredLanes|=M),w&=~M}if(n=Ln,l=Vt,l=qn(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,l===0||e===n&&(En===2||En===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&Ke(u),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||hn(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(u!==null&&Ke(u),Wn(l)){case 2:case 8:l=dr;break;case 32:l=Xn;break;case 268435456:l=ki;break;default:l=Xn}return u=ch.bind(null,e),l=ir(l,u),e.callbackPriority=n,e.callbackNode=l,n}return u!==null&&u!==null&&Ke(u),e.callbackPriority=2,e.callbackNode=null,2}function ch(e,n){if(Ar!==0&&Ar!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(dc()&&e.callbackNode!==l)return null;var u=Vt;return u=qn(e,e===Ln?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(Gd(e,u,n),oh(e,yn()),e.callbackNode!=null&&e.callbackNode===l?ch.bind(null,e):null)}function uh(e,n){if(dc())return null;Gd(e,n,!0)}function ex(){dx(function(){(fn&6)!==0?ir(dn,$m):sh()})}function df(){if(gl===0){var e=ss;e===0&&(e=Ye,Ye<<=1,(Ye&261888)===0&&(Ye=256)),gl=e}return gl}function fh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qr(""+e)}function dh(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function tx(e,n,l,u,p){if(n==="submit"&&l&&l.stateNode===p){var w=fh((p[Pt]||null).action),_=u.submitter;_&&(n=(n=_[Pt]||null)?fh(n.formAction):_.getAttribute("formAction"),n!==null&&(w=n,_=null));var M=new sr("action","action",null,u,p);e.push({event:M,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(gl!==0){var q=_?dh(p,_):new FormData(p);Du(l,{pending:!0,data:q,method:p.method,action:w},null,q)}}else typeof w=="function"&&(M.preventDefault(),q=_?dh(p,_):new FormData(p),Du(l,{pending:!0,data:q,method:p.method,action:w},w,q))},currentTarget:p}]})}}for(var hf=0;hf<Qe.length;hf++){var gf=Qe[hf],nx=gf.toLowerCase(),rx=gf[0].toUpperCase()+gf.slice(1);Pe(nx,"on"+rx)}Pe(ce,"onAnimationEnd"),Pe(te,"onAnimationIteration"),Pe(ge,"onAnimationStart"),Pe("dblclick","onDoubleClick"),Pe("focusin","onFocus"),Pe("focusout","onBlur"),Pe(Oe,"onTransitionRun"),Pe(Ve,"onTransitionStart"),Pe(Ge,"onTransitionCancel"),Pe(ke,"onTransitionEnd"),Br("onMouseEnter",["mouseout","mouseover"]),Br("onMouseLeave",["mouseout","mouseover"]),Br("onPointerEnter",["pointerout","pointerover"]),Br("onPointerLeave",["pointerout","pointerover"]),$t("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$t("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$t("onBeforeInput",["compositionend","keypress","textInput","paste"]),$t("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ix=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lo));function hh(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var u=e[l],p=u.event;u=u.listeners;e:{var w=void 0;if(n)for(var _=u.length-1;0<=_;_--){var M=u[_],q=M.instance,de=M.currentTarget;if(M=M.listener,q!==w&&p.isPropagationStopped())break e;w=M,p.currentTarget=de;try{w(p)}catch(Ne){et(Ne)}p.currentTarget=null,w=q}else for(_=0;_<u.length;_++){if(M=u[_],q=M.instance,de=M.currentTarget,M=M.listener,q!==w&&p.isPropagationStopped())break e;w=M,p.currentTarget=de;try{w(p)}catch(Ne){et(Ne)}p.currentTarget=null,w=q}}}}function Ft(e,n){var l=n[bi];l===void 0&&(l=n[bi]=new Set);var u=e+"__bubble";l.has(u)||(gh(n,e,2,!1),l.add(u))}function mf(e,n,l){var u=0;n&&(u|=4),gh(l,e,u,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function xf(e){if(!e[mc]){e[mc]=!0,Ie.forEach(function(l){l!=="selectionchange"&&(ix.has(l)||mf(l,!1,e),mf(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[mc]||(n[mc]=!0,mf("selectionchange",!1,n))}}function gh(e,n,l,u){switch(Vh(n)){case 2:var p=Ix;break;case 8:p=Mx;break;default:p=Df}l=p.bind(null,n,l,e),p=void 0,!Nl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),u?p!==void 0?e.addEventListener(n,l,{capture:!0,passive:p}):e.addEventListener(n,l,!0):p!==void 0?e.addEventListener(n,l,{passive:p}):e.addEventListener(n,l,!1)}function pf(e,n,l,u,p){var w=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var M=u.stateNode.containerInfo;if(M===p)break;if(_===4)for(_=u.return;_!==null;){var q=_.tag;if((q===3||q===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;M!==null;){if(_=Un(M),_===null)return;if(q=_.tag,q===5||q===6||q===26||q===27){u=w=_;continue e}M=M.parentNode}}u=u.return}ra(function(){var de=w,Ne=Ha(l),Be=[];e:{var xe=$e.get(e);if(xe!==void 0){var ve=sr,at=e;switch(e){case"keypress":if(si(l)===0)break e;case"keydown":case"keyup":ve=Qi;break;case"focusin":at="focus",ve=la;break;case"focusout":at="blur",ve=la;break;case"beforeblur":case"afterblur":ve=la;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Yt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=ba;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Ml;break;case ce:case te:case ge:ve=Ct;break;case ke:ve=Ci;break;case"scroll":case"scrollend":ve=pa;break;case"wheel":ve=Ya;break;case"copy":case"cut":case"paste":ve=Ai;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=rn;break;case"toggle":case"beforetoggle":ve=Ka}var pt=(n&4)!==0,In=!pt&&(e==="scroll"||e==="scrollend"),ie=pt?xe!==null?xe+"Capture":null:xe;pt=[];for(var Z=de,fe;Z!==null;){var De=Z;if(fe=De.stateNode,De=De.tag,De!==5&&De!==26&&De!==27||fe===null||ie===null||(De=yt(Z,ie),De!=null&&pt.push(so(Z,De,fe))),In)break;Z=Z.return}0<pt.length&&(xe=new ve(xe,at,null,l,Ne),Be.push({event:xe,listeners:pt}))}}if((n&7)===0){e:{if(xe=e==="mouseover"||e==="pointerover",ve=e==="mouseout"||e==="pointerout",xe&&l!==Gr&&(at=l.relatedTarget||l.fromElement)&&(Un(at)||at[Jn]))break e;if((ve||xe)&&(xe=Ne.window===Ne?Ne:(xe=Ne.ownerDocument)?xe.defaultView||xe.parentWindow:window,ve?(at=l.relatedTarget||l.toElement,ve=de,at=at?Un(at):null,at!==null&&(In=v(at),pt=at.tag,at!==In||pt!==5&&pt!==27&&pt!==6)&&(at=null)):(ve=null,at=de),ve!==at)){if(pt=Yt,De="onMouseLeave",ie="onMouseEnter",Z="mouse",(e==="pointerout"||e==="pointerover")&&(pt=rn,De="onPointerLeave",ie="onPointerEnter",Z="pointer"),In=ve==null?xe:Hr(ve),fe=at==null?xe:Hr(at),xe=new pt(De,Z+"leave",ve,l,Ne),xe.target=In,xe.relatedTarget=fe,De=null,Un(Ne)===de&&(pt=new pt(ie,Z+"enter",at,l,Ne),pt.target=fe,pt.relatedTarget=In,De=pt),In=De,ve&&at)t:{for(pt=ax,ie=ve,Z=at,fe=0,De=ie;De;De=pt(De))fe++;De=0;for(var ht=Z;ht;ht=pt(ht))De++;for(;0<fe-De;)ie=pt(ie),fe--;for(;0<De-fe;)Z=pt(Z),De--;for(;fe--;){if(ie===Z||Z!==null&&ie===Z.alternate){pt=ie;break t}ie=pt(ie),Z=pt(Z)}pt=null}else pt=null;ve!==null&&mh(Be,xe,ve,pt,!1),at!==null&&In!==null&&mh(Be,In,at,pt,!0)}}e:{if(xe=de?Hr(de):window,ve=xe.nodeName&&xe.nodeName.toLowerCase(),ve==="select"||ve==="input"&&xe.type==="file")var sn=Rr;else if(wa(xe))if(oi)sn=s;else{sn=r;var ot=t}else ve=xe.nodeName,!ve||ve.toLowerCase()!=="input"||xe.type!=="checkbox"&&xe.type!=="radio"?de&&vn(de.elementType)&&(sn=Rr):sn=a;if(sn&&(sn=sn(e,de))){qr(Be,sn,l,Ne);break e}ot&&ot(e,xe,de),e==="focusout"&&de&&xe.type==="number"&&de.memoizedProps.value!=null&&F(xe,"number",xe.value)}switch(ot=de?Hr(de):window,e){case"focusin":(wa(ot)||ot.contentEditable==="true")&&(N=ot,I=de,k=null);break;case"focusout":k=I=N=null;break;case"mousedown":B=!0;break;case"contextmenu":case"mouseup":case"dragend":B=!1,z(Be,l,Ne);break;case"selectionchange":if(C)break;case"keydown":case"keyup":z(Be,l,Ne)}var It;if(Wi)e:{switch(e){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else Ji?Bl(e,l)&&(Gt="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Gt="onCompositionStart");Gt&&(Za&&l.locale!=="ko"&&(Ji||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&Ji&&(It=li()):(Wr=Ne,ai="value"in Wr?Wr.value:Wr.textContent,Ji=!0)),ot=xc(de,Gt),0<ot.length&&(Gt=new qa(Gt,e,null,l,Ne),Be.push({event:Gt,listeners:ot}),It?Gt.data=It:(It=sa(l),It!==null&&(Gt.data=It)))),(It=ts?_i(e,l):Wa(e,l))&&(Gt=xc(de,"onBeforeInput"),0<Gt.length&&(ot=new qa("onBeforeInput","beforeinput",null,l,Ne),Be.push({event:ot,listeners:Gt}),ot.data=It)),tx(Be,e,de,l,Ne)}hh(Be,n)})}function so(e,n,l){return{instance:e,listener:n,currentTarget:l}}function xc(e,n){for(var l=n+"Capture",u=[];e!==null;){var p=e,w=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||w===null||(p=yt(e,l),p!=null&&u.unshift(so(e,p,w)),p=yt(e,n),p!=null&&u.push(so(e,p,w))),e.tag===3)return u;e=e.return}return[]}function ax(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function mh(e,n,l,u,p){for(var w=n._reactName,_=[];l!==null&&l!==u;){var M=l,q=M.alternate,de=M.stateNode;if(M=M.tag,q!==null&&q===u)break;M!==5&&M!==26&&M!==27||de===null||(q=de,p?(de=yt(l,w),de!=null&&_.unshift(so(l,de,q))):p||(de=yt(l,w),de!=null&&_.push(so(l,de,q)))),l=l.return}_.length!==0&&e.push({event:n,listeners:_})}var lx=/\r\n?/g,sx=/\u0000|\uFFFD/g;function xh(e){return(typeof e=="string"?e:""+e).replace(lx,`
`).replace(sx,"")}function ph(e,n){return n=xh(n),xh(e)===n}function Dn(e,n,l,u,p,w){switch(l){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||Zi(e,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&Zi(e,""+u);break;case"className":Ki(e,"class",u);break;case"tabIndex":Ki(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(e,l,u);break;case"style":ct(e,u,w);break;case"data":if(n!=="object"){Ki(e,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(l);break}u=Qr(""+u),e.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(l==="formAction"?(n!=="input"&&Dn(e,n,"name",p.name,p,null),Dn(e,n,"formEncType",p.formEncType,p,null),Dn(e,n,"formMethod",p.formMethod,p,null),Dn(e,n,"formTarget",p.formTarget,p,null)):(Dn(e,n,"encType",p.encType,p,null),Dn(e,n,"method",p.method,p,null),Dn(e,n,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(l);break}u=Qr(""+u),e.setAttribute(l,u);break;case"onClick":u!=null&&(e.onclick=vr);break;case"onScroll":u!=null&&Ft("scroll",e);break;case"onScrollEnd":u!=null&&Ft("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(y(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(y(60));e.innerHTML=l}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}l=Qr(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,""+u):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":u===!0?e.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,u):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(l,u):e.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(l):e.setAttribute(l,u);break;case"popover":Ft("beforetoggle",e),Ft("toggle",e),Et(e,"popover",u);break;case"xlinkActuate":Vr(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Vr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Vr(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Vr(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Vr(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Vr(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Vr(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Vr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Vr(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Et(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=$l.get(l)||l,Et(e,l,u))}}function yf(e,n,l,u,p,w){switch(l){case"style":ct(e,u,w);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(y(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(y(60));e.innerHTML=l}}break;case"children":typeof u=="string"?Zi(e,u):(typeof u=="number"||typeof u=="bigint")&&Zi(e,""+u);break;case"onScroll":u!=null&&Ft("scroll",e);break;case"onScrollEnd":u!=null&&Ft("scrollend",e);break;case"onClick":u!=null&&(e.onclick=vr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xa.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),n=l.slice(2,p?l.length-7:void 0),w=e[Pt]||null,w=w!=null?w[l]:null,typeof w=="function"&&e.removeEventListener(n,w,p),typeof u=="function")){typeof w!="function"&&w!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,u,p);break e}l in e?e[l]=u:u===!0?e.setAttribute(l,""):Et(e,l,u)}}}function jr(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",e),Ft("load",e);var u=!1,p=!1,w;for(w in l)if(l.hasOwnProperty(w)){var _=l[w];if(_!=null)switch(w){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(y(137,n));default:Dn(e,n,w,_,l,null)}}p&&Dn(e,n,"srcSet",l.srcSet,l,null),u&&Dn(e,n,"src",l.src,l,null);return;case"input":Ft("invalid",e);var M=w=_=p=null,q=null,de=null;for(u in l)if(l.hasOwnProperty(u)){var Ne=l[u];if(Ne!=null)switch(u){case"name":p=Ne;break;case"type":_=Ne;break;case"checked":q=Ne;break;case"defaultChecked":de=Ne;break;case"value":w=Ne;break;case"defaultValue":M=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(y(137,n));break;default:Dn(e,n,u,Ne,l,null)}}oe(e,w,M,q,de,_,p,!1);return;case"select":Ft("invalid",e),u=_=w=null;for(p in l)if(l.hasOwnProperty(p)&&(M=l[p],M!=null))switch(p){case"value":w=M;break;case"defaultValue":_=M;break;case"multiple":u=M;default:Dn(e,n,p,M,l,null)}n=w,l=_,e.multiple=!!u,n!=null?nt(e,!!u,n,!1):l!=null&&nt(e,!!u,l,!0);return;case"textarea":Ft("invalid",e),w=p=u=null;for(_ in l)if(l.hasOwnProperty(_)&&(M=l[_],M!=null))switch(_){case"value":u=M;break;case"defaultValue":p=M;break;case"children":w=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(y(91));break;default:Dn(e,n,_,M,l,null)}mr(e,u,p,w);return;case"option":for(q in l)l.hasOwnProperty(q)&&(u=l[q],u!=null)&&(q==="selected"?e.selected=u&&typeof u!="function"&&typeof u!="symbol":Dn(e,n,q,u,l,null));return;case"dialog":Ft("beforetoggle",e),Ft("toggle",e),Ft("cancel",e),Ft("close",e);break;case"iframe":case"object":Ft("load",e);break;case"video":case"audio":for(u=0;u<lo.length;u++)Ft(lo[u],e);break;case"image":Ft("error",e),Ft("load",e);break;case"details":Ft("toggle",e);break;case"embed":case"source":case"link":Ft("error",e),Ft("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in l)if(l.hasOwnProperty(de)&&(u=l[de],u!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(y(137,n));default:Dn(e,n,de,u,l,null)}return;default:if(vn(n)){for(Ne in l)l.hasOwnProperty(Ne)&&(u=l[Ne],u!==void 0&&yf(e,n,Ne,u,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(u=l[M],u!=null&&Dn(e,n,M,u,l,null))}function ox(e,n,l,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,w=null,_=null,M=null,q=null,de=null,Ne=null;for(ve in l){var Be=l[ve];if(l.hasOwnProperty(ve)&&Be!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":q=Be;default:u.hasOwnProperty(ve)||Dn(e,n,ve,null,u,Be)}}for(var xe in u){var ve=u[xe];if(Be=l[xe],u.hasOwnProperty(xe)&&(ve!=null||Be!=null))switch(xe){case"type":w=ve;break;case"name":p=ve;break;case"checked":de=ve;break;case"defaultChecked":Ne=ve;break;case"value":_=ve;break;case"defaultValue":M=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(y(137,n));break;default:ve!==Be&&Dn(e,n,xe,ve,u,Be)}}Mn(e,_,M,q,de,Ne,w,p);return;case"select":ve=_=M=xe=null;for(w in l)if(q=l[w],l.hasOwnProperty(w)&&q!=null)switch(w){case"value":break;case"multiple":ve=q;default:u.hasOwnProperty(w)||Dn(e,n,w,null,u,q)}for(p in u)if(w=u[p],q=l[p],u.hasOwnProperty(p)&&(w!=null||q!=null))switch(p){case"value":xe=w;break;case"defaultValue":M=w;break;case"multiple":_=w;default:w!==q&&Dn(e,n,p,w,u,q)}n=M,l=_,u=ve,xe!=null?nt(e,!!l,xe,!1):!!u!=!!l&&(n!=null?nt(e,!!l,n,!0):nt(e,!!l,l?[]:"",!1));return;case"textarea":ve=xe=null;for(M in l)if(p=l[M],l.hasOwnProperty(M)&&p!=null&&!u.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Dn(e,n,M,null,u,p)}for(_ in u)if(p=u[_],w=l[_],u.hasOwnProperty(_)&&(p!=null||w!=null))switch(_){case"value":xe=p;break;case"defaultValue":ve=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(y(91));break;default:p!==w&&Dn(e,n,_,p,u,w)}Kn(e,xe,ve);return;case"option":for(var at in l)xe=l[at],l.hasOwnProperty(at)&&xe!=null&&!u.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:Dn(e,n,at,null,u,xe));for(q in u)xe=u[q],ve=l[q],u.hasOwnProperty(q)&&xe!==ve&&(xe!=null||ve!=null)&&(q==="selected"?e.selected=xe&&typeof xe!="function"&&typeof xe!="symbol":Dn(e,n,q,xe,u,ve));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in l)xe=l[pt],l.hasOwnProperty(pt)&&xe!=null&&!u.hasOwnProperty(pt)&&Dn(e,n,pt,null,u,xe);for(de in u)if(xe=u[de],ve=l[de],u.hasOwnProperty(de)&&xe!==ve&&(xe!=null||ve!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(y(137,n));break;default:Dn(e,n,de,xe,u,ve)}return;default:if(vn(n)){for(var In in l)xe=l[In],l.hasOwnProperty(In)&&xe!==void 0&&!u.hasOwnProperty(In)&&yf(e,n,In,void 0,u,xe);for(Ne in u)xe=u[Ne],ve=l[Ne],!u.hasOwnProperty(Ne)||xe===ve||xe===void 0&&ve===void 0||yf(e,n,Ne,xe,u,ve);return}}for(var ie in l)xe=l[ie],l.hasOwnProperty(ie)&&xe!=null&&!u.hasOwnProperty(ie)&&Dn(e,n,ie,null,u,xe);for(Be in u)xe=u[Be],ve=l[Be],!u.hasOwnProperty(Be)||xe===ve||xe==null&&ve==null||Dn(e,n,Be,xe,u,ve)}function yh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var p=l[u],w=p.transferSize,_=p.initiatorType,M=p.duration;if(w&&M&&yh(_)){for(_=0,M=p.responseEnd,u+=1;u<l.length;u++){var q=l[u],de=q.startTime;if(de>M)break;var Ne=q.transferSize,Be=q.initiatorType;Ne&&yh(Be)&&(q=q.responseEnd,_+=Ne*(q<M?1:(M-de)/(q-de)))}if(--u,n+=8*(w+_)/(p.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bf=null,wf=null;function pc(e){return e.nodeType===9?e:e.ownerDocument}function bh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wh(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function vf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Af=null;function ux(){var e=window.event;return e&&e.type==="popstate"?e===Af?!1:(Af=e,!0):(Af=null,!1)}var vh=typeof setTimeout=="function"?setTimeout:void 0,fx=typeof clearTimeout=="function"?clearTimeout:void 0,Ah=typeof Promise=="function"?Promise:void 0,dx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ah<"u"?function(e){return Ah.resolve(null).then(e).catch(hx)}:vh;function hx(e){setTimeout(function(){throw e})}function ml(e){return e==="head"}function Eh(e,n){var l=n,u=0;do{var p=l.nextSibling;if(e.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(u===0){e.removeChild(p),Ts(n);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")oo(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,oo(l);for(var w=l.firstChild;w;){var _=w.nextSibling,M=w.nodeName;w[Zr]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=_}}else l==="body"&&oo(e.ownerDocument.body);l=p}while(l);Ts(n)}function Ch(e,n){var l=e;e=0;do{var u=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=u}while(l)}function Ef(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ef(l),Mr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function gx(e,n,l,u){for(;e.nodeType===1;){var p=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Zr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(w=e.getAttribute("rel"),w==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(w!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(w=e.getAttribute("src"),(w!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&w&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var w=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===w)return e}else return e;if(e=Gi(e.nextSibling),e===null)break}return null}function mx(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Gi(e.nextSibling),e===null))return null;return e}function Sh(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gi(e.nextSibling),e===null))return null;return e}function Cf(e){return e.data==="$?"||e.data==="$~"}function Sf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function xx(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var u=function(){n(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function Gi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Tf=null;function Th(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Gi(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function _h(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function Nh(e,n,l){switch(n=pc(l),e){case"html":if(e=n.documentElement,!e)throw Error(y(452));return e;case"head":if(e=n.head,!e)throw Error(y(453));return e;case"body":if(e=n.body,!e)throw Error(y(454));return e;default:throw Error(y(451))}}function oo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Mr(e)}var Xi=new Map,Rh=new Set;function yc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var za=pe.d;pe.d={f:px,r:yx,D:bx,C:wx,L:vx,m:Ax,X:Cx,S:Ex,M:Sx};function px(){var e=za.f(),n=cc();return e||n}function yx(e){var n=mt(e);n!==null&&n.tag===5&&n.type==="form"?q1(n):za.r(e)}var Es=typeof document>"u"?null:document;function Oh(e,n,l){var u=Es;if(u&&typeof n=="string"&&n){var p=At(n);p='link[rel="'+e+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),Rh.has(p)||(Rh.add(p),e={rel:e,crossOrigin:l,href:n},u.querySelector(p)===null&&(n=u.createElement("link"),jr(n,"link",e),jn(n),u.head.appendChild(n)))}}function bx(e){za.D(e),Oh("dns-prefetch",e,null)}function wx(e,n){za.C(e,n),Oh("preconnect",e,n)}function vx(e,n,l){za.L(e,n,l);var u=Es;if(u&&e&&n){var p='link[rel="preload"][as="'+At(n)+'"]';n==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+At(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+At(l.imageSizes)+'"]')):p+='[href="'+At(e)+'"]';var w=p;switch(n){case"style":w=Cs(e);break;case"script":w=Ss(e)}Xi.has(w)||(e=L({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),Xi.set(w,e),u.querySelector(p)!==null||n==="style"&&u.querySelector(co(w))||n==="script"&&u.querySelector(uo(w))||(n=u.createElement("link"),jr(n,"link",e),jn(n),u.head.appendChild(n)))}}function Ax(e,n){za.m(e,n);var l=Es;if(l&&e){var u=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+At(u)+'"][href="'+At(e)+'"]',w=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Ss(e)}if(!Xi.has(w)&&(e=L({rel:"modulepreload",href:e},n),Xi.set(w,e),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(uo(w)))return}u=l.createElement("link"),jr(u,"link",e),jn(u),l.head.appendChild(u)}}}function Ex(e,n,l){za.S(e,n,l);var u=Es;if(u&&e){var p=Pn(u).hoistableStyles,w=Cs(e);n=n||"default";var _=p.get(w);if(!_){var M={loading:0,preload:null};if(_=u.querySelector(co(w)))M.loading=5;else{e=L({rel:"stylesheet",href:e,"data-precedence":n},l),(l=Xi.get(w))&&_f(e,l);var q=_=u.createElement("link");jn(q),jr(q,"link",e),q._p=new Promise(function(de,Ne){q.onload=de,q.onerror=Ne}),q.addEventListener("load",function(){M.loading|=1}),q.addEventListener("error",function(){M.loading|=2}),M.loading|=4,bc(_,n,u)}_={type:"stylesheet",instance:_,count:1,state:M},p.set(w,_)}}}function Cx(e,n){za.X(e,n);var l=Es;if(l&&e){var u=Pn(l).hoistableScripts,p=Ss(e),w=u.get(p);w||(w=l.querySelector(uo(p)),w||(e=L({src:e,async:!0},n),(n=Xi.get(p))&&Nf(e,n),w=l.createElement("script"),jn(w),jr(w,"link",e),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},u.set(p,w))}}function Sx(e,n){za.M(e,n);var l=Es;if(l&&e){var u=Pn(l).hoistableScripts,p=Ss(e),w=u.get(p);w||(w=l.querySelector(uo(p)),w||(e=L({src:e,async:!0,type:"module"},n),(n=Xi.get(p))&&Nf(e,n),w=l.createElement("script"),jn(w),jr(w,"link",e),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},u.set(p,w))}}function Dh(e,n,l,u){var p=(p=Ae.current)?yc(p):null;if(!p)throw Error(y(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Cs(l.href),l=Pn(p).hoistableStyles,u=l.get(n),u||(u={type:"style",instance:null,count:0,state:null},l.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Cs(l.href);var w=Pn(p).hoistableStyles,_=w.get(e);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(e,_),(w=p.querySelector(co(e)))&&!w._p&&(_.instance=w,_.state.loading=5),Xi.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Xi.set(e,l),w||Tx(p,e,l,_.state))),n&&u===null)throw Error(y(528,""));return _}if(n&&u!==null)throw Error(y(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ss(l),l=Pn(p).hoistableScripts,u=l.get(n),u||(u={type:"script",instance:null,count:0,state:null},l.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(y(444,e))}}function Cs(e){return'href="'+At(e)+'"'}function co(e){return'link[rel="stylesheet"]['+e+"]"}function Ih(e){return L({},e,{"data-precedence":e.precedence,precedence:null})}function Tx(e,n,l,u){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=e.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),jr(n,"link",l),jn(n),e.head.appendChild(n))}function Ss(e){return'[src="'+At(e)+'"]'}function uo(e){return"script[async]"+e}function Mh(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var u=e.querySelector('style[data-href~="'+At(l.href)+'"]');if(u)return n.instance=u,jn(u),u;var p=L({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),jn(u),jr(u,"style",p),bc(u,l.precedence,e),n.instance=u;case"stylesheet":p=Cs(l.href);var w=e.querySelector(co(p));if(w)return n.state.loading|=4,n.instance=w,jn(w),w;u=Ih(l),(p=Xi.get(p))&&_f(u,p),w=(e.ownerDocument||e).createElement("link"),jn(w);var _=w;return _._p=new Promise(function(M,q){_.onload=M,_.onerror=q}),jr(w,"link",u),n.state.loading|=4,bc(w,l.precedence,e),n.instance=w;case"script":return w=Ss(l.src),(p=e.querySelector(uo(w)))?(n.instance=p,jn(p),p):(u=l,(p=Xi.get(w))&&(u=L({},l),Nf(u,p)),e=e.ownerDocument||e,p=e.createElement("script"),jn(p),jr(p,"link",u),e.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(y(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,bc(u,l.precedence,e));return n.instance}function bc(e,n,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,w=p,_=0;_<u.length;_++){var M=u[_];if(M.dataset.precedence===n)w=M;else if(w!==p)break}w?w.parentNode.insertBefore(e,w.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function _f(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Nf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var wc=null;function Bh(e,n,l){if(wc===null){var u=new Map,p=wc=new Map;p.set(l,u)}else p=wc,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(e))return u;for(u.set(e,null),l=l.getElementsByTagName(e),p=0;p<l.length;p++){var w=l[p];if(!(w[Zr]||w[gn]||e==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var _=w.getAttribute(n)||"";_=e+_;var M=u.get(_);M?M.push(w):u.set(_,[w])}}return u}function kh(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function _x(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Lh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Nx(e,n,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Cs(u.href),w=n.querySelector(co(p));if(w){n=w._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=vc.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=w,jn(w);return}w=n.ownerDocument||n,u=Ih(u),(p=Xi.get(p))&&_f(u,p),w=w.createElement("link"),jn(w);var _=w;_._p=new Promise(function(M,q){_.onload=M,_.onerror=q}),jr(w,"link",u),l.instance=w}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=vc.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var Rf=0;function Rx(e,n){return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var u=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var w=e.unsuspend;e.unsuspend=null,w()}},6e4+n);0<e.imgBytes&&Rf===0&&(Rf=62500*cx());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend)){var w=e.unsuspend;e.unsuspend=null,w()}},(e.imgBytes>Rf?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ac=null;function Ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ac=new Map,n.forEach(Ox,e),Ac=null,vc.call(e))}function Ox(e,n){if(!(n.state.loading&4)){var l=Ac.get(e);if(l)var u=l.get(null);else{l=new Map,Ac.set(e,l);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<p.length;w++){var _=p[w];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),u=_)}u&&l.set(null,u)}p=n.instance,_=p.getAttribute("data-precedence"),w=l.get(_)||u,w===u&&l.set(null,p),l.set(_,p),this.count++,u=vc.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),w?w.parentNode.insertBefore(p,w.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),n.state.loading|=4}}var fo={$$typeof:se,Provider:null,Consumer:null,_currentValue:qe,_currentValue2:qe,_threadCount:0};function Dx(e,n,l,u,p,w,_,M,q){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tn(0),this.hiddenUpdates=Tn(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=w,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function zh(e,n,l,u,p,w,_,M,q,de,Ne,Be){return e=new Dx(e,n,l,_,q,de,Ne,Be,M),n=1,w===!0&&(n|=24),w=Ni(3,null,null,n),e.current=w,w.stateNode=e,n=su(),n.refCount++,e.pooledCache=n,n.refCount++,w.memoizedState={element:u,isDehydrated:l,cache:n},fu(w),e}function Uh(e){return e?(e=ns,e):ns}function Fh(e,n,l,u,p,w){p=Uh(p),u.context===null?u.context=p:u.pendingContext=p,u=il(n),u.payload={element:l},w=w===void 0?null:w,w!==null&&(u.callback=w),l=al(e,u,n),l!==null&&(gi(l,e,n),Vs(l,e,n))}function Ph(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function Of(e,n){Ph(e,n),(e=e.alternate)&&Ph(e,n)}function jh(e){if(e.tag===13||e.tag===31){var n=mn(e,67108864);n!==null&&gi(n,e,67108864),Of(e,67108864)}}function Hh(e){if(e.tag===13||e.tag===31){var n=Mi();n=zn(n);var l=mn(e,n);l!==null&&gi(l,e,n),Of(e,n)}}var Cc=!0;function Ix(e,n,l,u){var p=re.T;re.T=null;var w=pe.p;try{pe.p=2,Df(e,n,l,u)}finally{pe.p=w,re.T=p}}function Mx(e,n,l,u){var p=re.T;re.T=null;var w=pe.p;try{pe.p=8,Df(e,n,l,u)}finally{pe.p=w,re.T=p}}function Df(e,n,l,u){if(Cc){var p=If(u);if(p===null)pf(e,n,u,Sc,l),Gh(e,u);else if(kx(p,e,n,l,u))u.stopPropagation();else if(Gh(e,u),n&4&&-1<Bx.indexOf(e)){for(;p!==null;){var w=mt(p);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var _=Sn(w.pendingLanes);if(_!==0){var M=w;for(M.pendingLanes|=2,M.entangledLanes|=2;_;){var q=1<<31-Le(_);M.entanglements[1]|=q,_&=~q}ha(w),(fn&6)===0&&(sc=yn()+500,ao(0))}}break;case 31:case 13:M=mn(w,2),M!==null&&gi(M,w,2),cc(),Of(w,2)}if(w=If(u),w===null&&pf(e,n,u,Sc,l),w===p)break;p=w}p!==null&&u.stopPropagation()}else pf(e,n,u,null,l)}}function If(e){return e=Ha(e),Mf(e)}var Sc=null;function Mf(e){if(Sc=null,e=Un(e),e!==null){var n=v(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=T(n),e!==null)return e;e=null}else if(l===31){if(e=O(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sc=e,null}function Vh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yi()){case dn:return 2;case dr:return 8;case Xn:case bn:return 32;case ki:return 268435456;default:return 32}default:return 32}}var Bf=!1,xl=null,pl=null,yl=null,ho=new Map,go=new Map,bl=[],Bx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gh(e,n){switch(e){case"focusin":case"focusout":xl=null;break;case"dragenter":case"dragleave":pl=null;break;case"mouseover":case"mouseout":yl=null;break;case"pointerover":case"pointerout":ho.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(n.pointerId)}}function mo(e,n,l,u,p,w){return e===null||e.nativeEvent!==w?(e={blockedOn:n,domEventName:l,eventSystemFlags:u,nativeEvent:w,targetContainers:[p]},n!==null&&(n=mt(n),n!==null&&jh(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function kx(e,n,l,u,p){switch(n){case"focusin":return xl=mo(xl,e,n,l,u,p),!0;case"dragenter":return pl=mo(pl,e,n,l,u,p),!0;case"mouseover":return yl=mo(yl,e,n,l,u,p),!0;case"pointerover":var w=p.pointerId;return ho.set(w,mo(ho.get(w)||null,e,n,l,u,p)),!0;case"gotpointercapture":return w=p.pointerId,go.set(w,mo(go.get(w)||null,e,n,l,u,p)),!0}return!1}function Xh(e){var n=Un(e.target);if(n!==null){var l=v(n);if(l!==null){if(n=l.tag,n===13){if(n=T(l),n!==null){e.blockedOn=n,Ze(e.priority,function(){Hh(l)});return}}else if(n===31){if(n=O(l),n!==null){e.blockedOn=n,Ze(e.priority,function(){Hh(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=If(e.nativeEvent);if(l===null){l=e.nativeEvent;var u=new l.constructor(l.type,l);Gr=u,l.target.dispatchEvent(u),Gr=null}else return n=mt(l),n!==null&&jh(n),e.blockedOn=l,!1;n.shift()}return!0}function qh(e,n,l){Tc(e)&&l.delete(n)}function Lx(){Bf=!1,xl!==null&&Tc(xl)&&(xl=null),pl!==null&&Tc(pl)&&(pl=null),yl!==null&&Tc(yl)&&(yl=null),ho.forEach(qh),go.forEach(qh)}function _c(e,n){e.blockedOn===n&&(e.blockedOn=null,Bf||(Bf=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,Lx)))}var Nc=null;function Yh(e){Nc!==e&&(Nc=e,h.unstable_scheduleCallback(h.unstable_NormalPriority,function(){Nc===e&&(Nc=null);for(var n=0;n<e.length;n+=3){var l=e[n],u=e[n+1],p=e[n+2];if(typeof u!="function"){if(Mf(u||l)===null)continue;break}var w=mt(l);w!==null&&(e.splice(n,3),n-=3,Du(w,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function Ts(e){function n(q){return _c(q,e)}xl!==null&&_c(xl,e),pl!==null&&_c(pl,e),yl!==null&&_c(yl,e),ho.forEach(n),go.forEach(n);for(var l=0;l<bl.length;l++){var u=bl[l];u.blockedOn===e&&(u.blockedOn=null)}for(;0<bl.length&&(l=bl[0],l.blockedOn===null);)Xh(l),l.blockedOn===null&&bl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],w=l[u+1],_=p[Pt]||null;if(typeof w=="function")_||Yh(l);else if(_){var M=null;if(w&&w.hasAttribute("formAction")){if(p=w,_=w[Pt]||null)M=_.formAction;else if(Mf(p)!==null)continue}else M=_.action;typeof M=="function"?l[u+1]=M:(l.splice(u,3),u-=3),Yh(l)}}}function Kh(){function e(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(_){return p=_})},focusReset:"manual",scroll:"manual"})}function n(){p!==null&&(p(),p=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),p!==null&&(p(),p=null)}}}function kf(e){this._internalRoot=e}Rc.prototype.render=kf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(y(409));var l=n.current,u=Mi();Fh(l,u,e,n,null,null)},Rc.prototype.unmount=kf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Fh(e.current,2,null,e,null,null),cc(),n[Jn]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=wn();e={blockedOn:null,target:e,priority:n};for(var l=0;l<bl.length&&n!==0&&n<bl[l].priority;l++);bl.splice(l,0,e),l===0&&Xh(e)}};var Zh=g.version;if(Zh!=="19.2.4")throw Error(y(527,Zh,"19.2.4"));pe.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(y(188)):(e=Object.keys(e).join(","),Error(y(268,e)));return e=S(n),e=e!==null?j(e):null,e=e===null?null:e.stateNode,e};var zx={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{tn=Oc.inject(zx),Fe=Oc}catch{}}return po.createRoot=function(e,n){if(!E(e))throw Error(y(299));var l=!1,u="",p=nd,w=rd,_=id;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(w=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=zh(e,1,!1,null,null,l,u,null,p,w,_,Kh),e[Jn]=n.current,xf(e),new kf(n)},po.hydrateRoot=function(e,n,l){if(!E(e))throw Error(y(299));var u=!1,p="",w=nd,_=rd,M=id,q=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.formState!==void 0&&(q=l.formState)),n=zh(e,1,!0,n,l??null,u,p,q,w,_,M,Kh),n.context=Uh(null),l=n.current,u=Mi(),u=zn(u),p=il(u),p.callback=null,al(l,p,u),l=u,n.current.lanes=l,Yn(n,l),ha(n),e[Jn]=n.current,xf(e),new Rc(n)},po.version="19.2.4",po}var ag;function qx(){if(ag)return Uf.exports;ag=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(g){console.error(g)}}return h(),Uf.exports=Xx(),Uf.exports}var Yx=qx(),Ns=v2(),Lc={exports:{}},Kx=Lc.exports,lg;function Zx(){return lg||(lg=1,(function(h,g){((m,y)=>{h.exports=y()})(Kx,function(){var m=function(i,o){return(m=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(d,x){d.__proto__=x}:function(d,x){for(var b in x)Object.prototype.hasOwnProperty.call(x,b)&&(d[b]=x[b])}))(i,o)},y=function(){return(y=Object.assign||function(i){for(var o,d=1,x=arguments.length;d<x;d++)for(var b in o=arguments[d])Object.prototype.hasOwnProperty.call(o,b)&&(i[b]=o[b]);return i}).apply(this,arguments)};function E(i,o,d){for(var x,b=0,A=o.length;b<A;b++)!x&&b in o||((x=x||Array.prototype.slice.call(o,0,b))[b]=o[b]);return i.concat(x||Array.prototype.slice.call(o))}var v=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:wo,T=Object.keys,O=Array.isArray;function R(i,o){return typeof o=="object"&&T(o).forEach(function(d){i[d]=o[d]}),i}typeof Promise>"u"||v.Promise||(v.Promise=Promise);var S=Object.getPrototypeOf,j={}.hasOwnProperty;function L(i,o){return j.call(i,o)}function W(i,o){typeof o=="function"&&(o=o(S(i))),(typeof Reflect>"u"?T:Reflect.ownKeys)(o).forEach(function(d){Ee(i,d,o[d])})}var K=Object.defineProperty;function Ee(i,o,d,x){K(i,o,R(d&&L(d,"get")&&typeof d.get=="function"?{get:d.get,set:d.set,configurable:!0}:{value:d,configurable:!0,writable:!0},x))}function le(i){return{from:function(o){return i.prototype=Object.create(o.prototype),Ee(i.prototype,"constructor",i),{extend:W.bind(null,i.prototype)}}}}var Se=Object.getOwnPropertyDescriptor,Te=[].slice;function Ce(i,o,d){return Te.call(i,o,d)}function se(i,o){return o(i)}function me(i){if(!i)throw new Error("Assertion Failed")}function Xe(i){v.setImmediate?setImmediate(i):setTimeout(i,0)}function he(i,o){if(typeof o=="string"&&L(i,o))return i[o];if(!o)return i;if(typeof o!="string"){for(var d=[],x=0,b=o.length;x<b;++x){var A=he(i,o[x]);d.push(A)}return d}var C,N=o.indexOf(".");return N===-1||(C=i[o.substr(0,N)])==null?void 0:he(C,o.substr(N+1))}function X(i,o,d){if(i&&o!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof o!="string"&&"length"in o){me(typeof d!="string"&&"length"in d);for(var x=0,b=o.length;x<b;++x)X(i,o[x],d[x])}else{var A,C,N=o.indexOf(".");N!==-1?(A=o.substr(0,N),(N=o.substr(N+1))===""?d===void 0?O(i)&&!isNaN(parseInt(A))?i.splice(A,1):delete i[A]:i[A]=d:X(C=(C=i[A])&&L(i,A)?C:i[A]={},N,d)):d===void 0?O(i)&&!isNaN(parseInt(o))?i.splice(o,1):delete i[o]:i[o]=d}}function ee(i){var o,d={};for(o in i)L(i,o)&&(d[o]=i[o]);return d}var Q=[].concat;function je(i){return Q.apply([],i)}var ue="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(je([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(o){return o+i+"Array"})}))).filter(function(i){return v[i]}),Me=new Set(ue.map(function(i){return v[i]})),we=null;function ae(i){return we=new WeakMap,i=(function o(d){if(!d||typeof d!="object")return d;var x=we.get(d);if(x)return x;if(O(d)){x=[],we.set(d,x);for(var b=0,A=d.length;b<A;++b)x.push(o(d[b]))}else if(Me.has(d.constructor))x=d;else{var C,N=S(d);for(C in x=N===Object.prototype?{}:Object.create(N),we.set(d,x),d)L(d,C)&&(x[C]=o(d[C]))}return x})(i),we=null,i}var Re={}.toString;function $(i){return Re.call(i).slice(8,-1)}var re=typeof Symbol<"u"?Symbol.iterator:"@@iterator",pe=typeof re=="symbol"?function(i){var o;return i!=null&&(o=i[re])&&o.apply(i)}:function(){return null};function qe(i,o){o=i.indexOf(o),0<=o&&i.splice(o,1)}var tt={};function be(i){var o,d,x,b;if(arguments.length===1){if(O(i))return i.slice();if(this===tt&&typeof i=="string")return[i];if(b=pe(i))for(d=[];!(x=b.next()).done;)d.push(x.value);else{if(i==null)return[i];if(typeof(o=i.length)!="number")return[i];for(d=new Array(o);o--;)d[o]=i[o]}}else for(o=arguments.length,d=new Array(o);o--;)d[o]=arguments[o];return d}var Y=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ue=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],dn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ue),ze={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function _e(i,o){this.name=i,this.message=o}function He(i,o){return i+". Errors: "+Object.keys(o).map(function(d){return o[d].toString()}).filter(function(d,x,b){return b.indexOf(d)===x}).join(`
`)}function Ae(i,o,d,x){this.failures=o,this.failedKeys=x,this.successCount=d,this.message=He(i,o)}function Je(i,o){this.name="BulkError",this.failures=Object.keys(o).map(function(d){return o[d]}),this.failuresByPos=o,this.message=He(i,this.failures)}le(_e).from(Error).extend({toString:function(){return this.name+": "+this.message}}),le(Ae).from(_e),le(Je).from(_e);var We=dn.reduce(function(i,o){return i[o]=o+"Error",i},{}),it=_e,Ue=dn.reduce(function(i,o){var d=o+"Error";function x(b,A){this.name=d,b?typeof b=="string"?(this.message="".concat(b).concat(A?`
 `+A:""),this.inner=A||null):typeof b=="object"&&(this.message="".concat(b.name," ").concat(b.message),this.inner=b):(this.message=ze[o]||d,this.inner=null)}return le(x).from(it),i[o]=x,i},{}),en=(Ue.Syntax=SyntaxError,Ue.Type=TypeError,Ue.Range=RangeError,ue.reduce(function(i,o){return i[o+"Error"]=Ue[o],i},{}));ue=dn.reduce(function(i,o){return["Syntax","Type","Range"].indexOf(o)===-1&&(i[o+"Error"]=Ue[o]),i},{});function gt(){}function xt(i){return i}function cn(i,o){return i==null||i===xt?o:function(d){return o(i(d))}}function pn(i,o){return function(){i.apply(this,arguments),o.apply(this,arguments)}}function Tr(i,o){return i===gt?o:function(){var d=i.apply(this,arguments),x=(d!==void 0&&(arguments[0]=d),this.onsuccess),b=this.onerror,A=(this.onsuccess=null,this.onerror=null,o.apply(this,arguments));return x&&(this.onsuccess=this.onsuccess?pn(x,this.onsuccess):x),b&&(this.onerror=this.onerror?pn(b,this.onerror):b),A!==void 0?A:d}}function Gn(i,o){return i===gt?o:function(){i.apply(this,arguments);var d=this.onsuccess,x=this.onerror;this.onsuccess=this.onerror=null,o.apply(this,arguments),d&&(this.onsuccess=this.onsuccess?pn(d,this.onsuccess):d),x&&(this.onerror=this.onerror?pn(x,this.onerror):x)}}function Wt(i,o){return i===gt?o:function(b){var x=i.apply(this,arguments),b=(R(b,x),this.onsuccess),A=this.onerror,C=(this.onsuccess=null,this.onerror=null,o.apply(this,arguments));return b&&(this.onsuccess=this.onsuccess?pn(b,this.onsuccess):b),A&&(this.onerror=this.onerror?pn(A,this.onerror):A),x===void 0?C===void 0?void 0:C:R(x,C)}}function _t(i,o){return i===gt?o:function(){return o.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function ir(i,o){return i===gt?o:function(){var d=i.apply(this,arguments);if(d&&typeof d.then=="function"){for(var x=this,b=arguments.length,A=new Array(b);b--;)A[b]=arguments[b];return d.then(function(){return o.apply(x,A)})}return o.apply(this,arguments)}}ue.ModifyError=Ae,ue.DexieError=_e,ue.BulkError=Je;var Ke=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ti(i){Ke=i}var pi={},yn=100,yi=typeof Promise>"u"?[]:(dn=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[yi=crypto.subtle.digest("SHA-512",new Uint8Array([0])),S(yi),dn]:[dn,S(dn),dn]),dn=yi[0],Nt=yi[1],Nt=Nt&&Nt.then,dr=dn&&dn.constructor,Xn=!!yi[2],bn=function(i,o){an.push([i,o]),hr&&(queueMicrotask(Xt),hr=!1)},ki=!0,hr=!0,ni=[],tn=[],Fe=xt,Dt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:gt,pgp:!1,env:{},finalize:gt},Le=Dt,an=[],_r=0,Li=[];function Ye(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var o=this._PSD=Le;if(typeof i!="function"){if(i!==pi)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Sn(this,this._value)}else this._state=null,this._value=null,++o.ref,(function d(x,b){try{b(function(A){if(x._state===null){if(A===x)throw new TypeError("A promise cannot be resolved with itself.");var C=x._lib&&Tn();A&&typeof A.then=="function"?d(x,function(N,I){A instanceof Ye?A._then(N,I):A.then(N,I)}):(x._state=!0,x._value=A,qn(x)),C&&Yn()}},Sn.bind(null,x))}catch(A){Sn(x,A)}})(this,i)}var Rt={get:function(){var i=Le,o=Ze;function d(x,b){var A=this,C=!i.global&&(i!==Le||o!==Ze),N=C&&!Jn(),I=new Ye(function(k,B){hn(A,new ln(Mr(x,i,C,N),Mr(b,i,C,N),k,B,i))});return this._consoleTask&&(I._consoleTask=this._consoleTask),I}return d.prototype=pi,d},set:function(i){Ee(this,"then",i&&i.prototype===pi?Rt:{get:function(){return i},set:Rt.set})}};function ln(i,o,d,x,b){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof o=="function"?o:null,this.resolve=d,this.reject=x,this.psd=b}function Sn(i,o){var d,x;tn.push(o),i._state===null&&(d=i._lib&&Tn(),o=Fe(o),i._state=!1,i._value=o,x=i,ni.some(function(b){return b._value===x._value})||ni.push(x),qn(i),d)&&Yn()}function qn(i){var o=i._listeners;i._listeners=[];for(var d=0,x=o.length;d<x;++d)hn(i,o[d]);var b=i._PSD;--b.ref||b.finalize(),_r===0&&(++_r,bn(function(){--_r==0&&Jt()},[]))}function hn(i,o){if(i._state===null)i._listeners.push(o);else{var d=i._state?o.onFulfilled:o.onRejected;if(d===null)return(i._state?o.resolve:o.reject)(i._value);++o.psd.ref,++_r,bn(gr,[d,i,o])}}function gr(i,o,d){try{var x,b=o._value;!o._state&&tn.length&&(tn=[]),x=Ke&&o._consoleTask?o._consoleTask.run(function(){return i(b)}):i(b),o._state||tn.indexOf(b)!==-1||(A=>{for(var C=ni.length;C;)if(ni[--C]._value===A._value)return ni.splice(C,1)})(o),d.resolve(x)}catch(A){d.reject(A)}finally{--_r==0&&Jt(),--d.psd.ref||d.psd.finalize()}}function Xt(){Zr(Dt,function(){Tn()&&Yn()})}function Tn(){var i=ki;return hr=ki=!1,i}function Yn(){var i,o,d;do for(;0<an.length;)for(i=an,an=[],d=i.length,o=0;o<d;++o){var x=i[o];x[0].apply(null,x[1])}while(0<an.length);hr=ki=!0}function Jt(){for(var i=ni,o=(ni=[],i.forEach(function(x){x._PSD.onunhandled.call(null,x._value,x)}),Li.slice(0)),d=o.length;d;)o[--d]()}function Nr(i){return new Ye(pi,!1,i)}function vt(i,o){var d=Le;return function(){var x=Tn(),b=Le;try{return lr(d,!0),i.apply(this,arguments)}catch(A){o&&o(A)}finally{lr(b,!1),x&&Yn()}}}W(Ye.prototype,{then:Rt,_then:function(i,o){hn(this,new ln(null,null,i,o,Le))},catch:function(i){var o,d;return arguments.length===1?this.then(null,i):(o=i,d=arguments[1],typeof o=="function"?this.then(null,function(x){return(x instanceof o?d:Nr)(x)}):this.then(null,function(x){return(x&&x.name===o?d:Nr)(x)}))},finally:function(i){return this.then(function(o){return Ye.resolve(i()).then(function(){return o})},function(o){return Ye.resolve(i()).then(function(){return Nr(o)})})},timeout:function(i,o){var d=this;return i<1/0?new Ye(function(x,b){var A=setTimeout(function(){return b(new Ue.Timeout(o))},i);d.then(x,b).finally(clearTimeout.bind(null,A))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Ee(Ye.prototype,Symbol.toStringTag,"Dexie.Promise"),Dt.env=Tl(),W(Ye,{all:function(){var i=be.apply(null,arguments).map(bi);return new Ye(function(o,d){i.length===0&&o([]);var x=i.length;i.forEach(function(b,A){return Ye.resolve(b).then(function(C){i[A]=C,--x||o(i)},d)})})},resolve:function(i){return i instanceof Ye?i:i&&typeof i.then=="function"?new Ye(function(o,d){i.then(o,d)}):new Ye(pi,!0,i)},reject:Nr,race:function(){var i=be.apply(null,arguments).map(bi);return new Ye(function(o,d){i.map(function(x){return Ye.resolve(x).then(o,d)})})},PSD:{get:function(){return Le},set:function(i){return Le=i}},totalEchoes:{get:function(){return Ze}},newPSD:gn,usePSD:Zr,scheduler:{get:function(){return bn},set:function(i){bn=i}},rejectionMapper:{get:function(){return Fe},set:function(i){Fe=i}},follow:function(i,o){return new Ye(function(d,x){return gn(function(b,A){var C=Le;C.unhandleds=[],C.onunhandled=A,C.finalize=pn(function(){var N,I=this;N=function(){I.unhandleds.length===0?b():A(I.unhandleds[0])},Li.push(function k(){N(),Li.splice(Li.indexOf(k),1)}),++_r,bn(function(){--_r==0&&Jt()},[])},C.finalize),i()},o,d,x)})}}),dr&&(dr.allSettled&&Ee(Ye,"allSettled",function(){var i=be.apply(null,arguments).map(bi);return new Ye(function(o){i.length===0&&o([]);var d=i.length,x=new Array(d);i.forEach(function(b,A){return Ye.resolve(b).then(function(C){return x[A]={status:"fulfilled",value:C}},function(C){return x[A]={status:"rejected",reason:C}}).then(function(){return--d||o(x)})})})}),dr.any&&typeof AggregateError<"u"&&Ee(Ye,"any",function(){var i=be.apply(null,arguments).map(bi);return new Ye(function(o,d){i.length===0&&d(new AggregateError([]));var x=i.length,b=new Array(x);i.forEach(function(A,C){return Ye.resolve(A).then(function(N){return o(N)},function(N){b[C]=N,--x||d(new AggregateError(b))})})})}),dr.withResolvers)&&(Ye.withResolvers=dr.withResolvers);var qt={awaits:0,echoes:0,id:0},zn=0,Wn=[],wn=0,Ze=0,ar=0;function gn(i,C,d,x){var b=Le,A=Object.create(b),C=(A.parent=b,A.ref=0,A.global=!1,A.id=++ar,Dt.env,A.env=Xn?{Promise:Ye,PromiseProp:{value:Ye,configurable:!0,writable:!0},all:Ye.all,race:Ye.race,allSettled:Ye.allSettled,any:Ye.any,resolve:Ye.resolve,reject:Ye.reject}:{},C&&R(A,C),++b.ref,A.finalize=function(){--this.parent.ref||this.parent.finalize()},Zr(A,i,d,x));return A.ref===0&&A.finalize(),C}function Pt(){return qt.id||(qt.id=++zn),++qt.awaits,qt.echoes+=yn,qt.id}function Jn(){return!!qt.awaits&&(--qt.awaits==0&&(qt.id=0),qt.echoes=qt.awaits*yn,!0)}function bi(i){return qt.echoes&&i&&i.constructor===dr?(Pt(),i.then(function(o){return Jn(),o},function(o){return Jn(),mt(o)})):i}function ja(){var i=Wn[Wn.length-1];Wn.pop(),lr(i,!1)}function lr(i,o){var d,x,b=Le;(o?!qt.echoes||wn++&&i===Le:!wn||--wn&&i===Le)||queueMicrotask(o?(function(A){++Ze,qt.echoes&&--qt.echoes!=0||(qt.echoes=qt.awaits=qt.id=0),Wn.push(Le),lr(A,!0)}).bind(null,i):ja),i!==Le&&(Le=i,b===Dt&&(Dt.env=Tl()),Xn)&&(d=Dt.env.Promise,x=i.env,b.global||i.global)&&(Object.defineProperty(v,"Promise",x.PromiseProp),d.all=x.all,d.race=x.race,d.resolve=x.resolve,d.reject=x.reject,x.allSettled&&(d.allSettled=x.allSettled),x.any)&&(d.any=x.any)}function Tl(){var i=v.Promise;return Xn?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(v,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function Zr(i,o,d,x,b){var A=Le;try{return lr(i,!0),o(d,x,b)}finally{lr(A,!1)}}function Mr(i,o,d,x){return typeof i!="function"?i:function(){var b=Le;d&&Pt(),lr(o,!0);try{return i.apply(this,arguments)}finally{lr(b,!1),x&&queueMicrotask(Jn)}}}function Un(i){Promise===dr&&qt.echoes===0?wn===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+Nt).indexOf("[native code]")===-1&&(Pt=Jn=gt);var mt=Ye.reject,Hr="",Pn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",jn="String expected.",Ie=[],xa="__dbnames",$t="readonly",Br="readwrite";function Yi(i,o){return i?o?function(){return i.apply(this,arguments)&&o.apply(this,arguments)}:i:o}var jt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Bt(i){return typeof i!="string"||/\./.test(i)?function(o){return o}:function(o){return o[i]===void 0&&i in o&&delete(o=ae(o))[i],o}}function Mt(){throw Ue.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Et(i,o){try{var d=Ki(i),x=Ki(o);if(d!==x)return d==="Array"?1:x==="Array"?-1:d==="binary"?1:x==="binary"?-1:d==="string"?1:x==="string"?-1:d==="Date"?1:x!=="Date"?NaN:-1;switch(d){case"number":case"Date":case"string":return o<i?1:i<o?-1:0;case"binary":for(var b=Vr(i),A=Vr(o),C=b.length,N=A.length,I=C<N?C:N,k=0;k<I;++k)if(b[k]!==A[k])return b[k]<A[k]?-1:1;return C===N?0:C<N?-1:1;case"Array":for(var B=i,z=o,P=B.length,U=z.length,G=P<U?P:U,V=0;V<G;++V){var ne=Et(B[V],z[V]);if(ne!==0)return ne}return P===U?0:P<U?-1:1}}catch{}return NaN}function Ki(i){var o=typeof i;return o=="object"&&(ArrayBuffer.isView(i)||(o=$(i))==="ArrayBuffer")?"binary":o}function Vr(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}function zt(i,o,d){var x=i.schema.yProps;return x?(o&&0<d.numFailures&&(o=o.filter(function(b,A){return!d.failures[A]})),Promise.all(x.map(function(b){return b=b.updatesTable,o?i.db.table(b).where("k").anyOf(o).delete():i.db.table(b).clear()})).then(function(){return d})):d}Jl.prototype.execute=function(i){var o=this["@@propmod"];if(o.add!==void 0){var d=o.add;if(O(d))return E(E([],O(i)?i:[],!0),d).sort();if(typeof d=="number")return(Number(i)||0)+d;if(typeof d=="bigint")try{return BigInt(i)+d}catch{return BigInt(0)+d}throw new TypeError("Invalid term ".concat(d))}if(o.remove!==void 0){var x=o.remove;if(O(x))return O(i)?i.filter(function(b){return!x.includes(b)}).sort():[];if(typeof x=="number")return Number(i)-x;if(typeof x=="bigint")try{return BigInt(i)-x}catch{return BigInt(0)-x}throw new TypeError("Invalid subtrahend ".concat(x))}return d=(d=o.replacePrefix)==null?void 0:d[0],d&&typeof i=="string"&&i.startsWith(d)?o.replacePrefix[1]+i.substring(d.length):i};var kr=Jl;function Jl(i){this["@@propmod"]=i}function _n(i,o){for(var d=T(o),x=d.length,b=!1,A=0;A<x;++A){var C=d[A],N=o[C],I=he(i,C);N instanceof kr?(X(i,C,N.execute(I)),b=!0):I!==N&&(X(i,C,N),b=!0)}return b}nn.prototype._trans=function(i,o,d){var x=this._tx||Le.trans,b=this.name,A=Ke&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function C(k,B,z){if(z.schema[b])return o(z.idbtrans,z);throw new Ue.NotFound("Table "+b+" not part of transaction")}var N=Tn();try{var I=x&&x.db._novip===this.db._novip?x===Le.trans?x._promise(i,C,d):gn(function(){return x._promise(i,C,d)},{trans:x,transless:Le.transless||Le}):(function k(B,z,P,U){if(B.idbdb&&(B._state.openComplete||Le.letThrough||B._vip)){var G=B._createTransaction(z,P,B._dbSchema);try{G.create(),B._state.PR1398_maxLoop=3}catch(V){return V.name===We.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return k(B,z,P,U)})):mt(V)}return G._promise(z,function(V,ne){return gn(function(){return Le.trans=G,U(V,ne,G)})}).then(function(V){if(z==="readwrite")try{G.idbtrans.commit()}catch{}return z==="readonly"?V:G._completion.then(function(){return V})})}if(B._state.openComplete)return mt(new Ue.DatabaseClosed(B._state.dbOpenError));if(!B._state.isBeingOpened){if(!B._state.autoOpen)return mt(new Ue.DatabaseClosed);B.open().catch(gt)}return B._state.dbReadyPromise.then(function(){return k(B,z,P,U)})})(this.db,i,[this.name],C);return A&&(I._consoleTask=A,I=I.catch(function(k){return console.trace(k),mt(k)})),I}finally{N&&Yn()}},nn.prototype.get=function(i,o){var d=this;return i&&i.constructor===Object?this.where(i).first(o):i==null?mt(new Ue.Type("Invalid argument to Table.get()")):this._trans("readonly",function(x){return d.core.get({trans:x,key:i}).then(function(b){return d.hook.reading.fire(b)})}).then(o)},nn.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(O(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var o=T(i);if(o.length===1)return this.where(o[0]).equals(i[o[0]]);var d=this.schema.indexes.concat(this.schema.primKey).filter(function(N){if(N.compound&&o.every(function(k){return 0<=N.keyPath.indexOf(k)})){for(var I=0;I<o.length;++I)if(o.indexOf(N.keyPath[I])===-1)return!1;return!0}return!1}).sort(function(N,I){return N.keyPath.length-I.keyPath.length})[0];if(d&&this.db._maxKey!==Hr)return C=d.keyPath.slice(0,o.length),this.where(C).equals(C.map(function(N){return i[N]}));!d&&Ke&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(o.join("+"),"]"));var x=this.schema.idxByName;function b(N,I){return Et(N,I)===0}var C=o.reduce(function(B,I){var k=B[0],B=B[1],z=x[I],P=i[I];return[k||z,k||!z?Yi(B,z&&z.multi?function(U){return U=he(U,I),O(U)&&U.some(function(G){return b(P,G)})}:function(U){return b(P,he(U,I))}):B]},[null,null]),A=C[0],C=C[1];return A?this.where(A.name).equals(i[A.keyPath]).filter(C):d?this.filter(C):this.where(o).equals("")},nn.prototype.filter=function(i){return this.toCollection().and(i)},nn.prototype.count=function(i){return this.toCollection().count(i)},nn.prototype.offset=function(i){return this.toCollection().offset(i)},nn.prototype.limit=function(i){return this.toCollection().limit(i)},nn.prototype.each=function(i){return this.toCollection().each(i)},nn.prototype.toArray=function(i){return this.toCollection().toArray(i)},nn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},nn.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,O(i)?"[".concat(i.join("+"),"]"):i))},nn.prototype.reverse=function(){return this.toCollection().reverse()},nn.prototype.mapToClass=function(i){for(var o=this.db,d=this.name,x=((this.schema.mappedClass=i).prototype instanceof Mt&&(i=(C=>{var N=B,I=C;if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");function k(){this.constructor=N}function B(){return C!==null&&C.apply(this,arguments)||this}return m(N,I),N.prototype=I===null?Object.create(I):(k.prototype=I.prototype,new k),Object.defineProperty(B.prototype,"db",{get:function(){return o},enumerable:!1,configurable:!0}),B.prototype.table=function(){return d},B})(i)),new Set),b=i.prototype;b;b=S(b))Object.getOwnPropertyNames(b).forEach(function(C){return x.add(C)});function A(C){if(!C)return C;var N,I=Object.create(i.prototype);for(N in C)if(!x.has(N))try{I[N]=C[N]}catch{}return I}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=A,this.hook("reading",A),i},nn.prototype.defineClass=function(){return this.mapToClass(function(i){R(this,i)})},nn.prototype.add=function(i,o){var d=this,x=this.schema.primKey,b=x.auto,A=x.keyPath,C=i;return A&&b&&(C=Bt(A)(i)),this._trans("readwrite",function(N){return d.core.mutate({trans:N,type:"add",keys:o!=null?[o]:null,values:[C]})}).then(function(N){return N.numFailures?Ye.reject(N.failures[0]):N.lastResult}).then(function(N){if(A)try{X(i,A,N)}catch{}return N})},nn.prototype.upsert=function(i,o){var d=this,x=this.schema.primKey.keyPath;return this._trans("readwrite",function(b){return d.core.get({trans:b,key:i}).then(function(A){var C=A??{};return _n(C,o),x&&X(C,x,i),d.core.mutate({trans:b,type:"put",values:[C],keys:[i],upsert:!0,updates:{keys:[i],changeSpecs:[o]}}).then(function(N){return N.numFailures?Ye.reject(N.failures[0]):!!A})})})},nn.prototype.update=function(i,o){return typeof i!="object"||O(i)?this.where(":id").equals(i).modify(o):(i=he(i,this.schema.primKey.keyPath))===void 0?mt(new Ue.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(o)},nn.prototype.put=function(i,o){var d=this,x=this.schema.primKey,b=x.auto,A=x.keyPath,C=i;return A&&b&&(C=Bt(A)(i)),this._trans("readwrite",function(N){return d.core.mutate({trans:N,type:"put",values:[C],keys:o!=null?[o]:null})}).then(function(N){return N.numFailures?Ye.reject(N.failures[0]):N.lastResult}).then(function(N){if(A)try{X(i,A,N)}catch{}return N})},nn.prototype.delete=function(i){var o=this;return this._trans("readwrite",function(d){return o.core.mutate({trans:d,type:"delete",keys:[i]}).then(function(x){return zt(o,[i],x)}).then(function(x){return x.numFailures?Ye.reject(x.failures[0]):void 0})})},nn.prototype.clear=function(){var i=this;return this._trans("readwrite",function(o){return i.core.mutate({trans:o,type:"deleteRange",range:jt}).then(function(d){return zt(i,null,d)})}).then(function(o){return o.numFailures?Ye.reject(o.failures[0]):void 0})},nn.prototype.bulkGet=function(i){var o=this;return this._trans("readonly",function(d){return o.core.getMany({keys:i,trans:d}).then(function(x){return x.map(function(b){return o.hook.reading.fire(b)})})})},nn.prototype.bulkAdd=function(i,o,d){var x=this,b=Array.isArray(o)?o:void 0,A=(d=d||(b?void 0:o))?d.allKeys:void 0;return this._trans("readwrite",function(C){var N=x.schema.primKey,k=N.auto,N=N.keyPath;if(N&&b)throw new Ue.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(b&&b.length!==i.length)throw new Ue.InvalidArgument("Arguments objects and keys must have the same length");var I=i.length,k=N&&k?i.map(Bt(N)):i;return x.core.mutate({trans:C,type:"add",keys:b,values:k,wantResults:A}).then(function(B){var z=B.numFailures,P=B.failures;if(z===0)return A?B.results:B.lastResult;throw new Je("".concat(x.name,".bulkAdd(): ").concat(z," of ").concat(I," operations failed"),P)})})},nn.prototype.bulkPut=function(i,o,d){var x=this,b=Array.isArray(o)?o:void 0,A=(d=d||(b?void 0:o))?d.allKeys:void 0;return this._trans("readwrite",function(C){var N=x.schema.primKey,k=N.auto,N=N.keyPath;if(N&&b)throw new Ue.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(b&&b.length!==i.length)throw new Ue.InvalidArgument("Arguments objects and keys must have the same length");var I=i.length,k=N&&k?i.map(Bt(N)):i;return x.core.mutate({trans:C,type:"put",keys:b,values:k,wantResults:A}).then(function(B){var z=B.numFailures,P=B.failures;if(z===0)return A?B.results:B.lastResult;throw new Je("".concat(x.name,".bulkPut(): ").concat(z," of ").concat(I," operations failed"),P)})})},nn.prototype.bulkUpdate=function(i){var o=this,d=this.core,x=i.map(function(C){return C.key}),b=i.map(function(C){return C.changes}),A=[];return this._trans("readwrite",function(C){return d.getMany({trans:C,keys:x,cache:"clone"}).then(function(N){var I=[],k=[],B=(i.forEach(function(z,P){var U=z.key,G=z.changes,V=N[P];if(V){for(var ne=0,ce=Object.keys(G);ne<ce.length;ne++){var te=ce[ne],ge=G[te];if(te===o.schema.primKey.keyPath){if(Et(ge,U)!==0)throw new Ue.Constraint("Cannot update primary key in bulkUpdate()")}else X(V,te,ge)}A.push(P),I.push(U),k.push(V)}}),I.length);return d.mutate({trans:C,type:"put",keys:I,values:k,updates:{keys:x,changeSpecs:b}}).then(function(z){var P=z.numFailures,U=z.failures;if(P===0)return B;for(var G=0,V=Object.keys(U);G<V.length;G++){var ne,ce=V[G],te=A[Number(ce)];te!=null&&(ne=U[ce],delete U[ce],U[te]=ne)}throw new Je("".concat(o.name,".bulkUpdate(): ").concat(P," of ").concat(B," operations failed"),U)})})})},nn.prototype.bulkDelete=function(i){var o=this,d=i.length;return this._trans("readwrite",function(x){return o.core.mutate({trans:x,type:"delete",keys:i}).then(function(b){return zt(o,i,b)})}).then(function(x){var b=x.numFailures,A=x.failures;if(b===0)return x.lastResult;throw new Je("".concat(o.name,".bulkDelete(): ").concat(b," of ").concat(d," operations failed"),A)})};var ri=nn;function nn(){}function ii(i){function o(C,N){if(N){for(var I=arguments.length,k=new Array(I-1);--I;)k[I-1]=arguments[I];return d[C].subscribe.apply(null,k),i}if(typeof C=="string")return d[C]}var d={};o.addEventType=A;for(var x=1,b=arguments.length;x<b;++x)A(arguments[x]);return o;function A(C,N,I){var k,B;if(typeof C!="object")return N=N||_t,B={subscribers:[],fire:I=I||gt,subscribe:function(z){B.subscribers.indexOf(z)===-1&&(B.subscribers.push(z),B.fire=N(B.fire,z))},unsubscribe:function(z){B.subscribers=B.subscribers.filter(function(P){return P!==z}),B.fire=B.subscribers.reduce(N,I)}},d[C]=o[C]=B;T(k=C).forEach(function(z){var P=k[z];if(O(P))A(z,k[z][0],k[z][1]);else{if(P!=="asap")throw new Ue.InvalidArgument("Invalid event config");var U=A(z,xt,function(){for(var G=arguments.length,V=new Array(G);G--;)V[G]=arguments[G];U.subscribers.forEach(function(ne){Xe(function(){ne.apply(null,V)})})})}})}}function At(i,o){return le(o).from({prototype:i}),o}function Mn(i,o){return!(i.filter||i.algorithm||i.or)&&(o?i.justLimit:!i.replayFilter)}function oe(i,o){i.filter=Yi(i.filter,o)}function F(i,o,d){var x=i.replayFilter;i.replayFilter=x?function(){return Yi(x(),o())}:o,i.justLimit=d&&!x}function nt(i,o){if(i.isPrimKey)return o.primaryKey;var d=o.getIndexByKeyPath(i.index);if(d)return d;throw new Ue.Schema("KeyPath "+i.index+" on object store "+o.name+" is not indexed")}function Kn(i,o,d){var x=nt(i,o.schema);return o.openCursor({trans:d,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:x,range:i.range}})}function mr(i,o,d,x){var b,A,C=i.replayFilter?Yi(i.filter,i.replayFilter()):i.filter;return i.or?(b={},A=function(N,I,k){var B,z;C&&!C(I,k,function(P){return I.stop(P)},function(P){return I.fail(P)})||((z=""+(B=I.primaryKey))=="[object ArrayBuffer]"&&(z=""+new Uint8Array(B)),L(b,z))||(b[z]=!0,o(N,I,k))},Promise.all([i.or._iterate(A,d),Zi(Kn(i,x,d),i.algorithm,A,!i.keysOnly&&i.valueMapper)])):Zi(Kn(i,x,d),Yi(i.algorithm,C),o,!i.keysOnly&&i.valueMapper)}function Zi(i,o,d,x){var b=vt(x?function(A,C,N){return d(x(A),C,N)}:d);return i.then(function(A){if(A)return A.start(function(){var C=function(){return A.continue()};o&&!o(A,function(N){return C=N},function(N){A.stop(N),C=gt},function(N){A.fail(N),C=gt})||b(A.value,A,function(N){return C=N}),C()})})}bt.prototype._read=function(i,o){var d=this._ctx;return d.error?d.table._trans(null,mt.bind(null,d.error)):d.table._trans("readonly",i).then(o)},bt.prototype._write=function(i){var o=this._ctx;return o.error?o.table._trans(null,mt.bind(null,o.error)):o.table._trans("readwrite",i,"locked")},bt.prototype._addAlgorithm=function(i){var o=this._ctx;o.algorithm=Yi(o.algorithm,i)},bt.prototype._iterate=function(i,o){return mr(this._ctx,i,o,this._ctx.table.core)},bt.prototype.clone=function(i){var o=Object.create(this.constructor.prototype),d=Object.create(this._ctx);return i&&R(d,i),o._ctx=d,o},bt.prototype.raw=function(){return this._ctx.valueMapper=null,this},bt.prototype.each=function(i){var o=this._ctx;return this._read(function(d){return mr(o,i,d,o.table.core)})},bt.prototype.count=function(i){var o=this;return this._read(function(d){var x,b=o._ctx,A=b.table.core;return Mn(b,!0)?A.count({trans:d,query:{index:nt(b,A.schema),range:b.range}}).then(function(C){return Math.min(C,b.limit)}):(x=0,mr(b,function(){return++x,!1},d,A).then(function(){return x}))}).then(i)},bt.prototype.sortBy=function(i,o){var d=i.split(".").reverse(),x=d[0],b=d.length-1;function A(I,k){return k?A(I[d[k]],k-1):I[x]}var C=this._ctx.dir==="next"?1:-1;function N(I,k){return Et(A(I,b),A(k,b))*C}return this.toArray(function(I){return I.sort(N)}).then(o)},bt.prototype.toArray=function(i){var o=this;return this._read(function(d){var x,b,A,C=o._ctx;return C.dir==="next"&&Mn(C,!0)&&0<C.limit?(x=C.valueMapper,b=nt(C,C.table.core.schema),C.table.core.query({trans:d,limit:C.limit,values:!0,query:{index:b,range:C.range}}).then(function(N){return N=N.result,x?N.map(x):N})):(A=[],mr(C,function(N){return A.push(N)},d,C.table.core).then(function(){return A}))},i)},bt.prototype.offset=function(i){var o=this._ctx;return i<=0||(o.offset+=i,Mn(o)?F(o,function(){var d=i;return function(x,b){return d===0||(d===1?--d:b(function(){x.advance(d),d=0}),!1)}}):F(o,function(){var d=i;return function(){return--d<0}})),this},bt.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),F(this._ctx,function(){var o=i;return function(d,x,b){return--o<=0&&x(b),0<=o}},!0),this},bt.prototype.until=function(i,o){return oe(this._ctx,function(d,x,b){return!i(d.value)||(x(b),o)}),this},bt.prototype.first=function(i){return this.limit(1).toArray(function(o){return o[0]}).then(i)},bt.prototype.last=function(i){return this.reverse().first(i)},bt.prototype.filter=function(i){var o;return oe(this._ctx,function(d){return i(d.value)}),(o=this._ctx).isMatch=Yi(o.isMatch,i),this},bt.prototype.and=function(i){return this.filter(i)},bt.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},bt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},bt.prototype.desc=function(){return this.reverse()},bt.prototype.eachKey=function(i){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(d,x){i(x.key,x)})},bt.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},bt.prototype.eachPrimaryKey=function(i){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(d,x){i(x.primaryKey,x)})},bt.prototype.keys=function(i){var o=this._ctx,d=(o.keysOnly=!o.isMatch,[]);return this.each(function(x,b){d.push(b.key)}).then(function(){return d}).then(i)},bt.prototype.primaryKeys=function(i){var o=this._ctx;if(o.dir==="next"&&Mn(o,!0)&&0<o.limit)return this._read(function(x){var b=nt(o,o.table.core.schema);return o.table.core.query({trans:x,values:!1,limit:o.limit,query:{index:b,range:o.range}})}).then(function(x){return x.result}).then(i);o.keysOnly=!o.isMatch;var d=[];return this.each(function(x,b){d.push(b.primaryKey)}).then(function(){return d}).then(i)},bt.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},bt.prototype.firstKey=function(i){return this.limit(1).keys(function(o){return o[0]}).then(i)},bt.prototype.lastKey=function(i){return this.reverse().firstKey(i)},bt.prototype.distinct=function(){var i,o=this._ctx,o=o.index&&o.table.schema.idxByName[o.index];return o&&o.multi&&(i={},oe(this._ctx,function(x){var x=x.primaryKey.toString(),b=L(i,x);return i[x]=!0,!b})),this},bt.prototype.modify=function(i){var o=this,d=this._ctx;return this._write(function(x){function b(V,ne){var ce=ne.failures;P+=V-ne.numFailures;for(var te=0,ge=T(ce);te<ge.length;te++){var Oe=ge[te];z.push(ce[Oe])}}var A=typeof i=="function"?i:function(V){return _n(V,i)},C=d.table.core,B=C.schema.primaryKey,N=B.outbound,I=B.extractKey,k=200,B=o.db._options.modifyChunkSize,z=(B&&(k=typeof B=="object"?B[C.name]||B["*"]||200:B),[]),P=0,U=[],G=i===ct;return o.clone().primaryKeys().then(function(V){function ne(te){var ge=Math.min(k,V.length-te),Oe=V.slice(te,te+ge);return(G?Promise.resolve([]):C.getMany({trans:x,keys:Oe,cache:"immutable"})).then(function(Ve){var Ge=[],ke=[],$e=N?[]:null,Qe=G?Oe:[];if(!G)for(var Pe=0;Pe<ge;++Pe){var et=Ve[Pe],wt={value:ae(et),primKey:V[te+Pe]};A.call(wt,wt.value,wt)!==!1&&(wt.value==null?Qe.push(V[te+Pe]):N||Et(I(et),I(wt.value))===0?(ke.push(wt.value),N&&$e.push(V[te+Pe])):(Qe.push(V[te+Pe]),Ge.push(wt.value)))}return Promise.resolve(0<Ge.length&&C.mutate({trans:x,type:"add",values:Ge}).then(function(kt){for(var dt in kt.failures)Qe.splice(parseInt(dt),1);b(Ge.length,kt)})).then(function(){return(0<ke.length||ce&&typeof i=="object")&&C.mutate({trans:x,type:"put",keys:$e,values:ke,criteria:ce,changeSpec:typeof i!="function"&&i,isAdditionalChunk:0<te}).then(function(kt){return b(ke.length,kt)})}).then(function(){return(0<Qe.length||ce&&G)&&C.mutate({trans:x,type:"delete",keys:Qe,criteria:ce,isAdditionalChunk:0<te}).then(function(kt){return zt(d.table,Qe,kt)}).then(function(kt){return b(Qe.length,kt)})}).then(function(){return V.length>te+ge&&ne(te+k)})})}var ce=Mn(d)&&d.limit===1/0&&(typeof i!="function"||G)&&{index:d.index,range:d.range};return ne(0).then(function(){if(0<z.length)throw new Ae("Error modifying one or more objects",z,P,U);return V.length})})})},bt.prototype.delete=function(){var i=this._ctx,o=i.range;return!Mn(i)||i.table.schema.yProps||!i.isPrimKey&&o.type!==3?this.modify(ct):this._write(function(d){var x=i.table.core.schema.primaryKey,b=o;return i.table.core.count({trans:d,query:{index:x,range:b}}).then(function(A){return i.table.core.mutate({trans:d,type:"deleteRange",range:b}).then(function(I){var N=I.failures,I=I.numFailures;if(I)throw new Ae("Could not delete some values",Object.keys(N).map(function(k){return N[k]}),A-I);return A-I})})})};var _l=bt;function bt(){}var ct=function(i,o){return o.value=null};function vn(i,o){return i<o?-1:i===o?0:1}function $l(i,o){return o<i?-1:i===o?0:1}function Lr(i,o,d){return i=i instanceof Nn?new i.Collection(i):i,i._ctx.error=new(d||TypeError)(o),i}function Qr(i){return new i.Collection(i,function(){return Ha("")}).limit(0)}function vr(U,o,d,x){var b,A,C,N,I,k,B,z=d.length;if(!d.every(function(V){return typeof V=="string"}))return Lr(U,jn);function P(V){b=V==="next"?function(ce){return ce.toUpperCase()}:function(ce){return ce.toLowerCase()},A=V==="next"?function(ce){return ce.toLowerCase()}:function(ce){return ce.toUpperCase()},C=V==="next"?vn:$l;var ne=d.map(function(ce){return{lower:A(ce),upper:b(ce)}}).sort(function(ce,te){return C(ce.lower,te.lower)});N=ne.map(function(ce){return ce.upper}),I=ne.map(function(ce){return ce.lower}),B=(k=V)==="next"?"":x}P("next");var U=new U.Collection(U,function(){return Gr(N[0],I[z-1]+x)}),G=(U._ondirectionchange=function(V){P(V)},0);return U._addAlgorithm(function(V,ne,ce){var te=V.key;if(typeof te=="string"){var ge=A(te);if(o(ge,I,G))return!0;for(var Oe=null,Ve=G;Ve<z;++Ve){var Ge=((ke,$e,Qe,Pe,et,wt)=>{for(var kt=Math.min(ke.length,Pe.length),dt=-1,St=0;St<kt;++St){var Rn=$e[St];if(Rn!==Pe[St])return et(ke[St],Qe[St])<0?ke.substr(0,St)+Qe[St]+Qe.substr(St+1):et(ke[St],Pe[St])<0?ke.substr(0,St)+Pe[St]+Qe.substr(St+1):0<=dt?ke.substr(0,dt)+$e[dt]+Qe.substr(dt+1):null;et(ke[St],Rn)<0&&(dt=St)}return kt<Pe.length&&wt==="next"?ke+Qe.substr(ke.length):kt<ke.length&&wt==="prev"?ke.substr(0,Qe.length):dt<0?null:ke.substr(0,dt)+Pe[dt]+Qe.substr(dt+1)})(te,ge,N[Ve],I[Ve],C,k);Ge===null&&Oe===null?G=Ve+1:(Oe===null||0<C(Oe,Ge))&&(Oe=Ge)}ne(Oe!==null?function(){V.continue(Oe+B)}:ce)}return!1}),U}function Gr(i,o,d,x){return{type:2,lower:i,upper:o,lowerOpen:d,upperOpen:x}}function Ha(i){return{type:1,lower:i,upper:i}}Object.defineProperty(un.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),un.prototype.between=function(i,o,d,x){d=d!==!1,x=x===!0;try{return 0<this._cmp(i,o)||this._cmp(i,o)===0&&(d||x)&&(!d||!x)?Qr(this):new this.Collection(this,function(){return Gr(i,o,!d,!x)})}catch{return Lr(this,Pn)}},un.prototype.equals=function(i){return i==null?Lr(this,Pn):new this.Collection(this,function(){return Ha(i)})},un.prototype.above=function(i){return i==null?Lr(this,Pn):new this.Collection(this,function(){return Gr(i,void 0,!0)})},un.prototype.aboveOrEqual=function(i){return i==null?Lr(this,Pn):new this.Collection(this,function(){return Gr(i,void 0,!1)})},un.prototype.below=function(i){return i==null?Lr(this,Pn):new this.Collection(this,function(){return Gr(void 0,i,!1,!0)})},un.prototype.belowOrEqual=function(i){return i==null?Lr(this,Pn):new this.Collection(this,function(){return Gr(void 0,i)})},un.prototype.startsWith=function(i){return typeof i!="string"?Lr(this,jn):this.between(i,i+Hr,!0,!0)},un.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):vr(this,function(o,d){return o.indexOf(d[0])===0},[i],Hr)},un.prototype.equalsIgnoreCase=function(i){return vr(this,function(o,d){return o===d[0]},[i],"")},un.prototype.anyOfIgnoreCase=function(){var i=be.apply(tt,arguments);return i.length===0?Qr(this):vr(this,function(o,d){return d.indexOf(o)!==-1},i,"")},un.prototype.startsWithAnyOfIgnoreCase=function(){var i=be.apply(tt,arguments);return i.length===0?Qr(this):vr(this,function(o,d){return d.some(function(x){return o.indexOf(x)===0})},i,Hr)},un.prototype.anyOf=function(){var i,o,d=this,x=be.apply(tt,arguments),b=this._cmp;try{x.sort(b)}catch{return Lr(this,Pn)}return x.length===0?Qr(this):((i=new this.Collection(this,function(){return Gr(x[0],x[x.length-1])}))._ondirectionchange=function(A){b=A==="next"?d._ascending:d._descending,x.sort(b)},o=0,i._addAlgorithm(function(A,C,N){for(var I=A.key;0<b(I,x[o]);)if(++o===x.length)return C(N),!1;return b(I,x[o])===0||(C(function(){A.continue(x[o])}),!1)}),i)},un.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},un.prototype.noneOf=function(){var i=be.apply(tt,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return Lr(this,Pn)}var o=i.reduce(function(d,x){return d?d.concat([[d[d.length-1][1],x]]):[[-1/0,x]]},null);return o.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(o,{includeLowers:!1,includeUppers:!1})},un.prototype.inAnyRange=function(i,ce){var d=this,x=this._cmp,b=this._ascending,A=this._descending,C=this._min,N=this._max;if(i.length===0)return Qr(this);if(!i.every(function(te){return te[0]!==void 0&&te[1]!==void 0&&b(te[0],te[1])<=0}))return Lr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ue.InvalidArgument);var I=!ce||ce.includeLowers!==!1,k=ce&&ce.includeUppers===!0,B,z=b;function P(te,ge){return z(te[0],ge[0])}try{(B=i.reduce(function(te,ge){for(var Oe=0,Ve=te.length;Oe<Ve;++Oe){var Ge=te[Oe];if(x(ge[0],Ge[1])<0&&0<x(ge[1],Ge[0])){Ge[0]=C(Ge[0],ge[0]),Ge[1]=N(Ge[1],ge[1]);break}}return Oe===Ve&&te.push(ge),te},[])).sort(P)}catch{return Lr(this,Pn)}var U=0,G=k?function(te){return 0<b(te,B[U][1])}:function(te){return 0<=b(te,B[U][1])},V=I?function(te){return 0<A(te,B[U][0])}:function(te){return 0<=A(te,B[U][0])},ne=G,ce=new this.Collection(this,function(){return Gr(B[0][0],B[B.length-1][1],!I,!k)});return ce._ondirectionchange=function(te){z=te==="next"?(ne=G,b):(ne=V,A),B.sort(P)},ce._addAlgorithm(function(te,ge,Oe){for(var Ve,Ge=te.key;ne(Ge);)if(++U===B.length)return ge(Oe),!1;return!G(Ve=Ge)&&!V(Ve)||(d._cmp(Ge,B[U][1])===0||d._cmp(Ge,B[U][0])===0||ge(function(){z===b?te.continue(B[U][0]):te.continue(B[U][1])}),!1)}),ce},un.prototype.startsWithAnyOf=function(){var i=be.apply(tt,arguments);return i.every(function(o){return typeof o=="string"})?i.length===0?Qr(this):this.inAnyRange(i.map(function(o){return[o,o+Hr]})):Lr(this,"startsWithAnyOf() only works with strings")};var Nn=un;function un(){}function $n(i){return vt(function(o){return ut(o),i(o.target.error),!1})}function ut(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var ra="storagemutated",yt="x-storagemutated-1",Ht=ii(null,ra),Nl=(xr.prototype._lock=function(){return me(!Le.global),++this._reculock,this._reculock!==1||Le.global||(Le.lockOwnerFor=this),this},xr.prototype._unlock=function(){if(me(!Le.global),--this._reculock==0)for(Le.global||(Le.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{Zr(i[1],i[0])}catch{}}return this},xr.prototype._locked=function(){return this._reculock&&Le.lockOwnerFor!==this},xr.prototype.create=function(i){var o=this;if(this.mode){var d=this.db.idbdb,x=this.db._state.dbOpenError;if(me(!this.idbtrans),!i&&!d)switch(x&&x.name){case"DatabaseClosedError":throw new Ue.DatabaseClosed(x);case"MissingAPIError":throw new Ue.MissingAPI(x.message,x);default:throw new Ue.OpenFailed(x)}if(!this.active)throw new Ue.TransactionInactive;me(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||d).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=vt(function(b){ut(b),o._reject(i.error)}),i.onabort=vt(function(b){ut(b),o.active&&o._reject(new Ue.Abort(i.error)),o.active=!1,o.on("abort").fire(b)}),i.oncomplete=vt(function(){o.active=!1,o._resolve(),"mutatedParts"in i&&Ht.storagemutated.fire(i.mutatedParts)})}return this},xr.prototype._promise=function(i,o,d){var x,b=this;return i==="readwrite"&&this.mode!=="readwrite"?mt(new Ue.ReadOnly("Transaction is readonly")):this.active?this._locked()?new Ye(function(A,C){b._blockedFuncs.push([function(){b._promise(i,o,d).then(A,C)},Le])}):d?gn(function(){var A=new Ye(function(C,N){b._lock();var I=o(C,N,b);I&&I.then&&I.then(C,N)});return A.finally(function(){return b._unlock()}),A._lib=!0,A}):((x=new Ye(function(A,C){var N=o(A,C,b);N&&N.then&&N.then(A,C)}))._lib=!0,x):mt(new Ue.TransactionInactive)},xr.prototype._root=function(){return this.parent?this.parent._root():this},xr.prototype.waitFor=function(i){var o,d=this._root(),x=Ye.resolve(i),b=(d._waitingFor?d._waitingFor=d._waitingFor.then(function(){return x}):(d._waitingFor=x,d._waitingQueue=[],o=d.idbtrans.objectStore(d.storeNames[0]),(function A(){for(++d._spinCount;d._waitingQueue.length;)d._waitingQueue.shift()();d._waitingFor&&(o.get(-1/0).onsuccess=A)})()),d._waitingFor);return new Ye(function(A,C){x.then(function(N){return d._waitingQueue.push(vt(A.bind(null,N)))},function(N){return d._waitingQueue.push(vt(C.bind(null,N)))}).finally(function(){d._waitingFor===b&&(d._waitingFor=null)})})},xr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ue.Abort))},xr.prototype.table=function(i){var o=this._memoizedTables||(this._memoizedTables={});if(L(o,i))return o[i];var d=this.schema[i];if(d)return(d=new this.db.Table(i,d,this)).core=this.db.core.table(i),o[i]=d;throw new Ue.NotFound("Table "+i+" not part of transaction")},xr);function xr(){}function Wr(i,o,d,x,b,A,C,N){return{name:i,keyPath:o,unique:d,multi:x,auto:b,compound:A,src:(d&&!C?"&":"")+(x?"*":"")+(b?"++":"")+ai(o),type:N}}function ai(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function ia(i,o,d){return{name:i,primKey:o,indexes:d,mappedClass:null,idxByName:(x=function(b){return[b.name,b]},d.reduce(function(b,A,C){return A=x(A,C),A&&(b[A[0]]=A[1]),b},{}))};var x}var li=function(i){try{return i.only([[]]),li=function(){return[[]]},[[]]}catch{return li=function(){return Hr},Hr}};function si(i){return i==null?function(){}:typeof i=="string"?(o=i).split(".").length===1?function(d){return d[o]}:function(d){return he(d,o)}:function(d){return he(d,i)};var o}function wi(i){return[].slice.call(i)}var Rl=0;function Fn(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function Jr(i,o,I){function x(G){if(G.type===3)return null;if(G.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var z=G.lower,P=G.upper,U=G.lowerOpen,G=G.upperOpen;return z===void 0?P===void 0?null:o.upperBound(P,!!G):P===void 0?o.lowerBound(z,!!U):o.bound(z,P,!!U,!!G)}function b(B){var z,P=B.name;return{name:P,schema:B,mutate:function(U){var G=U.trans,V=U.type,ne=U.keys,ce=U.values,te=U.range;return new Promise(function(ge,Oe){ge=vt(ge);var Ve=G.objectStore(P),Ge=Ve.keyPath==null,ke=V==="put"||V==="add";if(!ke&&V!=="delete"&&V!=="deleteRange")throw new Error("Invalid operation type: "+V);var $e,Qe=(ne||ce||{length:1}).length;if(ne&&ce&&ne.length!==ce.length)throw new Error("Given keys array must have same length as given values array.");if(Qe===0)return ge({numFailures:0,failures:{},results:[],lastResult:void 0});function Pe(mn){++kt,ut(mn)}var et=[],wt=[],kt=0;if(V==="deleteRange"){if(te.type===4)return ge({numFailures:kt,failures:wt,results:[],lastResult:void 0});te.type===3?et.push($e=Ve.clear()):et.push($e=Ve.delete(x(te)))}else{var Ge=ke?Ge?[ce,ne]:[ce,null]:[ne,null],dt=Ge[0],St=Ge[1];if(ke)for(var Rn=0;Rn<Qe;++Rn)et.push($e=St&&St[Rn]!==void 0?Ve[V](dt[Rn],St[Rn]):Ve[V](dt[Rn])),$e.onerror=Pe;else for(Rn=0;Rn<Qe;++Rn)et.push($e=Ve[V](dt[Rn])),$e.onerror=Pe}function Yr(mn){mn=mn.target.result,et.forEach(function(ca,Ja){return ca.error!=null&&(wt[Ja]=ca.error)}),ge({numFailures:kt,failures:wt,results:V==="delete"?ne:et.map(function(ca){return ca.result}),lastResult:mn})}$e.onerror=function(mn){Pe(mn),Yr(mn)},$e.onsuccess=Yr})},getMany:function(U){var G=U.trans,V=U.keys;return new Promise(function(ne,ce){ne=vt(ne);for(var te,ge=G.objectStore(P),Oe=V.length,Ve=new Array(Oe),Ge=0,ke=0,$e=function(et){et=et.target,Ve[et._pos]=et.result,++ke===Ge&&ne(Ve)},Qe=$n(ce),Pe=0;Pe<Oe;++Pe)V[Pe]!=null&&((te=ge.get(V[Pe]))._pos=Pe,te.onsuccess=$e,te.onerror=Qe,++Ge);Ge===0&&ne(Ve)})},get:function(U){var G=U.trans,V=U.key;return new Promise(function(ne,ce){ne=vt(ne);var te=G.objectStore(P).get(V);te.onsuccess=function(ge){return ne(ge.target.result)},te.onerror=$n(ce)})},query:(z=N,function(U){return new Promise(function(G,V){G=vt(G);var ne,ce,te,ke=U.trans,ge=U.values,Oe=U.limit,Ge=U.query,Ve=Oe===1/0?void 0:Oe,$e=Ge.index,Ge=Ge.range,ke=ke.objectStore(P),ke=$e.isPrimaryKey?ke:ke.index($e.name),$e=x(Ge);if(Oe===0)return G({result:[]});z?((Ge=ge?ke.getAll($e,Ve):ke.getAllKeys($e,Ve)).onsuccess=function(Qe){return G({result:Qe.target.result})},Ge.onerror=$n(V)):(ne=0,ce=!ge&&"openKeyCursor"in ke?ke.openKeyCursor($e):ke.openCursor($e),te=[],ce.onsuccess=function(Qe){var Pe=ce.result;return!Pe||(te.push(ge?Pe.value:Pe.primaryKey),++ne===Oe)?G({result:te}):void Pe.continue()},ce.onerror=$n(V))})}),openCursor:function(U){var G=U.trans,V=U.values,ne=U.query,ce=U.reverse,te=U.unique;return new Promise(function(ge,Oe){ge=vt(ge);var ke=ne.index,Ve=ne.range,Ge=G.objectStore(P),Ge=ke.isPrimaryKey?Ge:Ge.index(ke.name),ke=ce?te?"prevunique":"prev":te?"nextunique":"next",$e=!V&&"openKeyCursor"in Ge?Ge.openKeyCursor(x(Ve),ke):Ge.openCursor(x(Ve),ke);$e.onerror=$n(Oe),$e.onsuccess=vt(function(Qe){var Pe,et,wt,kt,dt=$e.result;dt?(dt.___id=++Rl,dt.done=!1,Pe=dt.continue.bind(dt),et=(et=dt.continuePrimaryKey)&&et.bind(dt),wt=dt.advance.bind(dt),kt=function(){throw new Error("Cursor not stopped")},dt.trans=G,dt.stop=dt.continue=dt.continuePrimaryKey=dt.advance=function(){throw new Error("Cursor not started")},dt.fail=vt(Oe),dt.next=function(){var St=this,Rn=1;return this.start(function(){return Rn--?St.continue():St.stop()}).then(function(){return St})},dt.start=function(St){function Rn(){if($e.result)try{St()}catch(mn){dt.fail(mn)}else dt.done=!0,dt.start=function(){throw new Error("Cursor behind last entry")},dt.stop()}var Yr=new Promise(function(mn,ca){mn=vt(mn),$e.onerror=$n(ca),dt.fail=ca,dt.stop=function(Ja){dt.stop=dt.continue=dt.continuePrimaryKey=dt.advance=kt,mn(Ja)}});return $e.onsuccess=vt(function(mn){$e.onsuccess=Rn,Rn()}),dt.continue=Pe,dt.continuePrimaryKey=et,dt.advance=wt,Rn(),Yr},ge(dt)):ge(null)},Oe)})},count:function(U){var G=U.query,V=U.trans,ne=G.index,ce=G.range;return new Promise(function(te,ge){var Oe=V.objectStore(P),Oe=ne.isPrimaryKey?Oe:Oe.index(ne.name),Ve=x(ce),Ve=Ve?Oe.count(Ve):Oe.count();Ve.onsuccess=vt(function(Ge){return te(Ge.target.result)}),Ve.onerror=$n(ge)})}}}A=I,C=wi((I=i).objectStoreNames);var A,I={schema:{name:I.name,tables:C.map(function(B){return A.objectStore(B)}).map(function(B){var z=B.keyPath,P=B.autoIncrement,G=O(z),U={},G={name:B.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:z==null,compound:G,keyPath:z,autoIncrement:P,unique:!0,extractKey:si(z)},indexes:wi(B.indexNames).map(function(V){return B.index(V)}).map(function(te){var ge=te.name,ne=te.unique,ce=te.multiEntry,te=te.keyPath,ge={name:ge,compound:O(te),keyPath:te,unique:ne,multiEntry:ce,extractKey:si(te)};return U[Fn(te)]=ge}),getIndexByKeyPath:function(V){return U[Fn(V)]}};return U[":id"]=G.primaryKey,z!=null&&(U[Fn(z)]=G.primaryKey),G})},hasGetAll:0<C.length&&"getAll"in A.objectStore(C[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},C=I.schema,N=I.hasGetAll,I=C.tables.map(b),k={};return I.forEach(function(B){return k[B.name]=B}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(B){if(k[B])return k[B];throw new Error("Table '".concat(B,"' not found"))},MIN_KEY:-1/0,MAX_KEY:li(o),schema:C}}function sr(i,o,d,x){return d=d.IDBKeyRange,o=Jr(o,d,x),{dbcore:i.dbcore.reduce(function(b,A){return A=A.create,y(y({},b),A(b))},o)}}function vi(i,o){var d=o.db,d=sr(i._middlewares,d,i._deps,o);i.core=d.dbcore,i.tables.forEach(function(x){var b=x.name;i.core.schema.tables.some(function(A){return A.name===b})&&(x.core=i.core.table(b),i[b]instanceof i.Table)&&(i[b].core=x.core)})}function pa(i,o,d,x){d.forEach(function(b){var A=x[b];o.forEach(function(C){var N=(function I(k,B){return Se(k,B)||(k=S(k))&&I(k,B)})(C,b);(!N||"value"in N&&N.value===void 0)&&(C===i.Transaction.prototype||C instanceof i.Transaction?Ee(C,b,{get:function(){return this.table(b)},set:function(I){K(this,b,{value:I,writable:!0,configurable:!0,enumerable:!0})}}):C[b]=new i.Table(b,A))})})}function aa(i,o){o.forEach(function(d){for(var x in d)d[x]instanceof i.Table&&delete d[x]})}function Ol(i,o){return i._cfg.version-o._cfg.version}function ya(i,o,d,x){var b=i._dbSchema,A=(d.objectStoreNames.contains("$meta")&&!b.$meta&&(b.$meta=ia("$meta",Ct("")[0],[]),i._storeNames.push("$meta")),i._createTransaction("readwrite",i._storeNames,b)),C=(A.create(d),A._completion.catch(x),A._reject.bind(A)),N=Le.transless||Le;gn(function(){if(Le.trans=A,Le.transless=N,o!==0)return vi(i,d),k=o,((I=A).storeNames.includes("$meta")?I.table("$meta").get("version").then(function(B){return B??k}):Ye.resolve(k)).then(function(ne){var z=i,P=ne,U=A,G=d,V=[],ne=z._versions,ce=z._dbSchema=la(0,z.idbdb,G);return(ne=ne.filter(function(te){return te._cfg.version>=P})).length===0?Ye.resolve():(ne.forEach(function(te){V.push(function(){var ge,Oe,Ve,Ge=ce,ke=te._cfg.dbschema,$e=(ye(z,Ge,G),ye(z,ke,G),ce=z._dbSchema=ke,Yt(Ge,ke)),Qe=($e.add.forEach(function(Pe){Ga(G,Pe[0],Pe[1].primKey,Pe[1].indexes)}),$e.change.forEach(function(Pe){if(Pe.recreate)throw new Ue.Upgrade("Not yet support for changing primary key");var et=G.objectStore(Pe.name);Pe.add.forEach(function(wt){return $r(et,wt)}),Pe.change.forEach(function(wt){et.deleteIndex(wt.name),$r(et,wt)}),Pe.del.forEach(function(wt){return et.deleteIndex(wt)})}),te._cfg.contentUpgrade);if(Qe&&te._cfg.version>P)return vi(z,G),U._memoizedTables={},ge=ee(ke),$e.del.forEach(function(Pe){ge[Pe]=Ge[Pe]}),aa(z,[z.Transaction.prototype]),pa(z,[z.Transaction.prototype],T(ge),ge),U.schema=ge,(Oe=Y(Qe))&&Pt(),ke=Ye.follow(function(){var Pe;(Ve=Qe(U))&&Oe&&(Pe=Jn.bind(null,null),Ve.then(Pe,Pe))}),Ve&&typeof Ve.then=="function"?Ye.resolve(Ve):ke.then(function(){return Ve})}),V.push(function(ge){var Oe,Ve,Ge=te._cfg.dbschema;Oe=Ge,Ve=ge,[].slice.call(Ve.db.objectStoreNames).forEach(function(ke){return Oe[ke]==null&&Ve.db.deleteObjectStore(ke)}),aa(z,[z.Transaction.prototype]),pa(z,[z.Transaction.prototype],z._storeNames,z._dbSchema),U.schema=z._dbSchema}),V.push(function(ge){z.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(z.idbdb.version/10)===te._cfg.version?(z.idbdb.deleteObjectStore("$meta"),delete z._dbSchema.$meta,z._storeNames=z._storeNames.filter(function(Oe){return Oe!=="$meta"})):ge.objectStore("$meta").put(te._cfg.version,"version"))})}),(function te(){return V.length?Ye.resolve(V.shift()(U.idbtrans)).then(te):Ye.resolve()})().then(function(){ba(ce,G)}))}).catch(C);var I,k;T(b).forEach(function(B){Ga(d,B,b[B].primKey,b[B].indexes)}),vi(i,d),Ye.follow(function(){return i.on.populate.fire(A)}).catch(C)})}function Va(i,o){ba(i._dbSchema,o),o.db.version%10!=0||o.objectStoreNames.contains("$meta")||o.db.createObjectStore("$meta").add(Math.ceil(o.db.version/10-1),"version");var d=la(0,i.idbdb,o);ye(i,i._dbSchema,o);for(var x=0,b=Yt(d,i._dbSchema).change;x<b.length;x++){var A=(C=>{if(C.change.length||C.recreate)return console.warn("Unable to patch indexes of table ".concat(C.name," because it has changes on the type of index or primary key.")),{value:void 0};var N=o.objectStore(C.name);C.add.forEach(function(I){Ke&&console.debug("Dexie upgrade patch: Creating missing index ".concat(C.name,".").concat(I.src)),$r(N,I)})})(b[x]);if(typeof A=="object")return A.value}}function Yt(i,o){var d,x={del:[],add:[],change:[]};for(d in i)o[d]||x.del.push(d);for(d in o){var b=i[d],A=o[d];if(b){var C={name:d,def:A,recreate:!1,del:[],add:[],change:[]};if(""+(b.primKey.keyPath||"")!=""+(A.primKey.keyPath||"")||b.primKey.auto!==A.primKey.auto)C.recreate=!0,x.change.push(C);else{var N=b.idxByName,I=A.idxByName,k=void 0;for(k in N)I[k]||C.del.push(k);for(k in I){var B=N[k],z=I[k];B?B.src!==z.src&&C.change.push(z):C.add.push(z)}(0<C.del.length||0<C.add.length||0<C.change.length)&&x.change.push(C)}}else x.add.push([d,A])}return x}function Ga(i,o,d,x){var b=i.db.createObjectStore(o,d.keyPath?{keyPath:d.keyPath,autoIncrement:d.auto}:{autoIncrement:d.auto});x.forEach(function(A){return $r(b,A)})}function ba(i,o){T(i).forEach(function(d){o.db.objectStoreNames.contains(d)||(Ke&&console.debug("Dexie: Creating missing table",d),Ga(o,d,i[d].primKey,i[d].indexes))})}function $r(i,o){i.createIndex(o.name,o.keyPath,{unique:o.unique,multiEntry:o.multi})}function la(i,o,d){var x={};return Ce(o.objectStoreNames,0).forEach(function(b){for(var A=d.objectStore(b),C=Wr(ai(k=A.keyPath),k||"",!0,!1,!!A.autoIncrement,k&&typeof k!="string",!0),N=[],I=0;I<A.indexNames.length;++I){var B=A.index(A.indexNames[I]),k=B.keyPath,B=Wr(B.name,k,!!B.unique,!!B.multiEntry,!1,k&&typeof k!="string",!1);N.push(B)}x[b]=ia(b,C,N)}),x}function ye(i,o,d){for(var x=d.db.objectStoreNames,b=0;b<x.length;++b){var A=x[b],C=d.objectStore(A);i._hasGetAll="getAll"in C;for(var N=0;N<C.indexNames.length;++N){var I,k=C.indexNames[N],B=C.index(k).keyPath,B=typeof B=="string"?B:"["+Ce(B).join("+")+"]";o[A]&&(I=o[A].idxByName[B])&&(I.name=k,delete o[A].idxByName[B],o[A].idxByName[k]=I)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&v.WorkerGlobalScope&&v instanceof v.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function Ct(i){return i.split(",").map(function(o,d){var b=o.split(":"),x=(x=b[1])==null?void 0:x.trim(),b=(o=b[0].trim()).replace(/([&*]|\+\+)/g,""),A=/^\[/.test(b)?b.match(/^\[(.*)\]$/)[1].split("+"):b;return Wr(b,A||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),O(A),d===0,x)})}Ai.prototype._createTableSchema=ia,Ai.prototype._parseIndexSyntax=Ct,Ai.prototype._parseStoresSpec=function(i,o){var d=this;T(i).forEach(function(x){if(i[x]!==null){var b=d._parseIndexSyntax(i[x]),A=b.shift();if(!A)throw new Ue.Schema("Invalid schema for table "+x+": "+i[x]);if(A.unique=!0,A.multi)throw new Ue.Schema("Primary key cannot be multiEntry*");b.forEach(function(C){if(C.auto)throw new Ue.Schema("Only primary key can be marked as autoIncrement (++)");if(!C.keyPath)throw new Ue.Schema("Index must have a name and cannot be an empty string")}),A=d._createTableSchema(x,A,b),o[x]=A}})},Ai.prototype.stores=function(d){var o=this.db,d=(this._cfg.storesSource=this._cfg.storesSource?R(this._cfg.storesSource,d):d,o._versions),x={},b={};return d.forEach(function(A){R(x,A._cfg.storesSource),b=A._cfg.dbschema={},A._parseStoresSpec(x,b)}),o._dbSchema=b,aa(o,[o._allTables,o,o.Transaction.prototype]),pa(o,[o._allTables,o,o.Transaction.prototype,this._cfg.tables],T(b),b),o._storeNames=T(b),this},Ai.prototype.upgrade=function(i){return this._cfg.contentUpgrade=ir(this._cfg.contentUpgrade||gt,i),this};var or=Ai;function Ai(){}function Xa(i,o){var d=i._dbNamesDB;return d||(d=i._dbNamesDB=new oi(xa,{addons:[],indexedDB:i,IDBKeyRange:o})).version(1).stores({dbnames:"name"}),d.table("dbnames")}function qa(i){return i&&typeof i.databases=="function"}function Dl(i){return gn(function(){return Le.letThrough=!0,i()})}function Il(i){return!("from"in i)}var er=function(i,o){var d;if(!this)return d=new er,i&&"d"in i&&R(d,i),d;R(this,arguments.length?{d:1,from:i,to:1<arguments.length?o:i}:{d:0})};function Bn(i,o,d){var x=Et(o,d);if(!isNaN(x)){if(0<x)throw RangeError();if(Il(i))return R(i,{from:o,to:d,d:1});var x=i.l,b=i.r;if(Et(d,i.from)<0)return x?Bn(x,o,d):i.l={from:o,to:d,d:1,l:null,r:null},zi(i);if(0<Et(o,i.to))return b?Bn(b,o,d):i.r={from:o,to:d,d:1,l:null,r:null},zi(i);Et(o,i.from)<0&&(i.from=o,i.l=null,i.d=b?b.d+1:1),0<Et(d,i.to)&&(i.to=d,i.r=null,i.d=i.l?i.l.d+1:1),o=!i.r,x&&!i.l&&Ei(i,x),b&&o&&Ei(i,b)}}function Ei(i,o){Il(o)||(function d(x,b){var A=b.from,C=b.l,N=b.r;Bn(x,A,b.to),C&&d(x,C),N&&d(x,N)})(i,o)}function kn(i,o){var d=Qi(o),x=d.next();if(!x.done)for(var b=x.value,A=Qi(i),C=A.next(b.from),N=C.value;!x.done&&!C.done;){if(Et(N.from,b.to)<=0&&0<=Et(N.to,b.from))return!0;Et(b.from,N.from)<0?b=(x=d.next(N.from)).value:N=(C=A.next(b.from)).value}return!1}function Qi(i){var o=Il(i)?null:{s:0,n:i};return{next:function(d){for(var x=0<arguments.length;o;)switch(o.s){case 0:if(o.s=1,x)for(;o.n.l&&Et(d,o.n.from)<0;)o={up:o,n:o.n.l,s:1};else for(;o.n.l;)o={up:o,n:o.n.l,s:1};case 1:if(o.s=2,!x||Et(d,o.n.to)<=0)return{value:o.n,done:!1};case 2:if(o.n.r){o.s=3,o={up:o,n:o.n.r,s:0};continue}case 3:o=o.up}return{done:!0}}}}function zi(i){var o,d,x,b=(((b=i.r)==null?void 0:b.d)||0)-(((b=i.l)==null?void 0:b.d)||0),b=1<b?"r":b<-1?"l":"";b&&(o=b=="r"?"l":"r",d=y({},i),x=i[b],i.from=x.from,i.to=x.to,i[b]=x[b],d[b]=x[o],(i[o]=d).d=rn(d)),i.d=rn(i)}function rn(d){var o=d.r,d=d.l;return(o?d?Math.max(o.d,d.d):o.d:d?d.d:0)+1}function ft(i,o){return T(o).forEach(function(d){i[d]?Ei(i[d],o[d]):i[d]=(function x(b){var A,C,N={};for(A in b)L(b,A)&&(C=b[A],N[A]=!C||typeof C!="object"||Me.has(C.constructor)?C:x(C));return N})(o[d])}),i}function Ml(i,o){return i.all||o.all||Object.keys(i).some(function(d){return o[d]&&kn(o[d],i[d])})}W(er.prototype,((dn={add:function(i){return Ei(this,i),this},addKey:function(i){return Bn(this,i,i),this},addKeys:function(i){var o=this;return i.forEach(function(d){return Bn(o,d,d)}),this},hasKey:function(i){var o=Qi(this).next(i).value;return o&&Et(o.from,i)<=0&&0<=Et(o.to,i)}})[re]=function(){return Qi(this)},dn));var Kt={},Ci={},Ui=!1;function Ya(i){ft(Ci,i),Ui||(Ui=!0,setTimeout(function(){Ui=!1,Xr(Ci,!(Ci={}))},0))}function Xr(i,o){o===void 0&&(o=!1);var d=new Set;if(i.all)for(var x=0,b=Object.values(Kt);x<b.length;x++)Ka(N=b[x],i,d,o);else for(var A in i){var C,N,A=/^idb\:\/\/(.*)\/(.*)\//.exec(A);A&&(C=A[1],A=A[2],N=Kt["idb://".concat(C,"/").concat(A)])&&Ka(N,i,d,o)}d.forEach(function(I){return I()})}function Ka(i,o,d,x){for(var b=[],A=0,C=Object.entries(i.queries.query);A<C.length;A++){for(var N=C[A],I=N[0],k=[],B=0,z=N[1];B<z.length;B++){var P=z[B];Ml(o,P.obsSet)?P.subscribers.forEach(function(ne){return d.add(ne)}):x&&k.push(P)}x&&b.push([I,k])}if(x)for(var U=0,G=b;U<G.length;U++){var V=G[U],I=V[0],k=V[1];i.queries.query[I]=k}}function es(i){var o=i._state,d=i._deps.indexedDB;if(o.isBeingOpened||i.idbdb)return o.dbReadyPromise.then(function(){return o.dbOpenError?mt(o.dbOpenError):i});o.isBeingOpened=!0,o.dbOpenError=null,o.openComplete=!1;var x=o.openCanceller,b=Math.round(10*i.verno),A=!1;function C(){if(o.openCanceller!==x)throw new Ue.DatabaseClosed("db.open() was cancelled")}function N(){return new Ye(function(P,U){if(C(),!d)throw new Ue.MissingAPI;var G=i.name,V=o.autoSchema||!b?d.open(G):d.open(G,b);if(!V)throw new Ue.MissingAPI;V.onerror=$n(U),V.onblocked=vt(i._fireOnBlocked),V.onupgradeneeded=vt(function(ne){var ce;B=V.transaction,o.autoSchema&&!i._options.allowEmptyDB?(V.onerror=ut,B.abort(),V.result.close(),(ce=d.deleteDatabase(G)).onsuccess=ce.onerror=vt(function(){U(new Ue.NoSuchDatabase("Database ".concat(G," doesnt exist")))})):(B.onerror=$n(U),ce=ne.oldVersion>Math.pow(2,62)?0:ne.oldVersion,z=ce<1,i.idbdb=V.result,A&&Va(i,B),ya(i,ce/10,B,U))},U),V.onsuccess=vt(function(){B=null;var ne,ce,te,ge,Oe,Ve,Ge=i.idbdb=V.result,ke=Ce(Ge.objectStoreNames);if(0<ke.length)try{var $e=Ge.transaction((Oe=ke).length===1?Oe[0]:Oe,"readonly");if(o.autoSchema)Ve=Ge,ge=$e,(te=i).verno=Ve.version/10,ge=te._dbSchema=la(0,Ve,ge),te._storeNames=Ce(Ve.objectStoreNames,0),pa(te,[te._allTables],T(ge),ge);else if(ye(i,i._dbSchema,$e),ce=$e,((ce=Yt(la(0,(ne=i).idbdb,ce),ne._dbSchema)).add.length||ce.change.some(function(Qe){return Qe.add.length||Qe.change.length}))&&!A)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ge.close(),b=Ge.version+1,A=!0,P(N());vi(i,$e)}catch{}Ie.push(i),Ge.onversionchange=vt(function(Qe){o.vcFired=!0,i.on("versionchange").fire(Qe)}),Ge.onclose=vt(function(){i.close({disableAutoOpen:!1})}),z&&(ke=i._deps,Oe=G,qa(Ve=ke.indexedDB)||Oe===xa||Xa(Ve,ke.IDBKeyRange).put({name:Oe}).catch(gt)),P()},U)}).catch(function(P){switch(P?.name){case"UnknownError":if(0<o.PR1398_maxLoop)return o.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),N();break;case"VersionError":if(0<b)return b=0,N()}return Ye.reject(P)})}var I,k=o.dbReadyResolve,B=null,z=!1;return Ye.race([x,(typeof navigator>"u"?Ye.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(P){function U(){return indexedDB.databases().finally(P)}I=setInterval(U,100),U()}).finally(function(){return clearInterval(I)}):Promise.resolve()).then(N)]).then(function(){return C(),o.onReadyBeingFired=[],Ye.resolve(Dl(function(){return i.on.ready.fire(i.vip)})).then(function P(){var U;if(0<o.onReadyBeingFired.length)return U=o.onReadyBeingFired.reduce(ir,gt),o.onReadyBeingFired=[],Ye.resolve(Dl(function(){return U(i.vip)})).then(P)})}).finally(function(){o.openCanceller===x&&(o.onReadyBeingFired=null,o.isBeingOpened=!1)}).catch(function(P){o.dbOpenError=P;try{B&&B.abort()}catch{}return x===o.openCanceller&&i._close(),mt(P)}).finally(function(){o.openComplete=!0,k()}).then(function(){var P;return z&&(P={},i.tables.forEach(function(U){U.schema.indexes.forEach(function(G){G.name&&(P["idb://".concat(i.name,"/").concat(U.name,"/").concat(G.name)]=new er(-1/0,[[[]]]))}),P["idb://".concat(i.name,"/").concat(U.name,"/")]=P["idb://".concat(i.name,"/").concat(U.name,"/:dels")]=new er(-1/0,[[[]]])}),Ht(ra).fire(P),Xr(P,!0)),i})}function Wi(i){function o(A){return i.next(A)}var d=b(o),x=b(function(A){return i.throw(A)});function b(A){return function(N){var N=A(N),I=N.value;return N.done?I:I&&typeof I.then=="function"?I.then(d,x):O(I)?Promise.all(I).then(d,x):d(I)}}return b(o)()}function Si(i,o,d){for(var x=O(i)?i.slice():[i],b=0;b<d;++b)x.push(o);return x}var ts={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return y(y({},i),{table:function(x){var d=i.table(x),x=d.schema,b={},A=[];function C(P,U,G){var te=Fn(P),V=b[te]=b[te]||[],ne=P==null?0:typeof P=="string"?1:P.length,ce=0<U,te=y(y({},G),{name:ce?"".concat(te,"(virtual-from:").concat(G.name,")"):G.name,lowLevelIndex:G,isVirtual:ce,keyTail:U,keyLength:ne,extractKey:si(P),unique:!ce&&G.unique});return V.push(te),te.isPrimaryKey||A.push(te),1<ne&&C(ne===2?P[0]:P.slice(0,ne-1),U+1,G),V.sort(function(ge,Oe){return ge.keyTail-Oe.keyTail}),te}var N=C(x.primaryKey.keyPath,0,x.primaryKey);b[":id"]=[N];for(var I=0,k=x.indexes;I<k.length;I++){var B=k[I];C(B.keyPath,0,B)}function z(P){var U,G=P.query.index;return G.isVirtual?y(y({},P),{query:{index:G.lowLevelIndex,range:(U=P.query.range,G=G.keyTail,{type:U.type===1?2:U.type,lower:Si(U.lower,U.lowerOpen?i.MAX_KEY:i.MIN_KEY,G),lowerOpen:!0,upper:Si(U.upper,U.upperOpen?i.MIN_KEY:i.MAX_KEY,G),upperOpen:!0})}}):P}return y(y({},d),{schema:y(y({},x),{primaryKey:N,indexes:A,getIndexByKeyPath:function(P){return(P=b[Fn(P)])&&P[0]}}),count:function(P){return d.count(z(P))},query:function(P){return d.query(z(P))},openCursor:function(P){var U=P.query.index,G=U.keyTail,V=U.keyLength;return U.isVirtual?d.openCursor(z(P)).then(function(ce){return ce&&ne(ce)}):d.openCursor(P);function ne(ce){return Object.create(ce,{continue:{value:function(te){te!=null?ce.continue(Si(te,P.reverse?i.MAX_KEY:i.MIN_KEY,G)):P.unique?ce.continue(ce.key.slice(0,V).concat(P.reverse?i.MIN_KEY:i.MAX_KEY,G)):ce.continue()}},continuePrimaryKey:{value:function(te,ge){ce.continuePrimaryKey(Si(te,i.MAX_KEY,G),ge)}},primaryKey:{get:function(){return ce.primaryKey}},key:{get:function(){var te=ce.key;return V===1?te[0]:te.slice(0,V)}},value:{get:function(){return ce.value}}})}}})}})}};function Za(i,o,d,x){return d=d||{},x=x||"",T(i).forEach(function(b){var A,C,N;L(o,b)?(A=i[b],C=o[b],typeof A=="object"&&typeof C=="object"&&A&&C?(N=$(A))!==$(C)?d[x+b]=o[b]:N==="Object"?Za(A,C,d,x+b+"."):A!==C&&(d[x+b]=o[b]):A!==C&&(d[x+b]=o[b])):d[x+b]=void 0}),T(o).forEach(function(b){L(i,b)||(d[x+b]=o[b])}),d}function Ti(i,o){return o.type==="delete"?o.keys:o.keys||o.values.map(i.extractKey)}var Qa={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return y(y({},i),{table:function(o){var d=i.table(o),x=d.schema.primaryKey;return y(y({},d),{mutate:function(b){var A=Le.trans,C=A.table(o).hook,N=C.deleting,I=C.creating,k=C.updating;switch(b.type){case"add":if(I.fire===gt)break;return A._promise("readwrite",function(){return B(b)},!0);case"put":if(I.fire===gt&&k.fire===gt)break;return A._promise("readwrite",function(){return B(b)},!0);case"delete":if(N.fire===gt)break;return A._promise("readwrite",function(){return B(b)},!0);case"deleteRange":if(N.fire===gt)break;return A._promise("readwrite",function(){return(function z(P,U,G){return d.query({trans:P,values:!1,query:{index:x,range:U},limit:G}).then(function(V){var ne=V.result;return B({type:"delete",keys:ne,trans:P}).then(function(ce){return 0<ce.numFailures?Promise.reject(ce.failures[0]):ne.length<G?{failures:[],numFailures:0,lastResult:void 0}:z(P,y(y({},U),{lower:ne[ne.length-1],lowerOpen:!0}),G)})})})(b.trans,b.range,1e4)},!0)}return d.mutate(b);function B(z){var P,U,G,V=Le.trans,ne=z.keys||Ti(x,z);if(ne)return(z=z.type==="add"||z.type==="put"?y(y({},z),{keys:ne}):y({},z)).type!=="delete"&&(z.values=E([],z.values)),z.keys&&(z.keys=E([],z.keys)),P=d,G=ne,((U=z).type==="add"?Promise.resolve([]):P.getMany({trans:U.trans,keys:G,cache:"immutable"})).then(function(ce){var te=ne.map(function(ge,Oe){var Ve,Ge,ke,$e=ce[Oe],Qe={onerror:null,onsuccess:null};return z.type==="delete"?N.fire.call(Qe,ge,$e,V):z.type==="add"||$e===void 0?(Ve=I.fire.call(Qe,ge,z.values[Oe],V),ge==null&&Ve!=null&&(z.keys[Oe]=ge=Ve,x.outbound||X(z.values[Oe],x.keyPath,ge))):(Ve=Za($e,z.values[Oe]),(Ge=k.fire.call(Qe,Ve,ge,$e,V))&&(ke=z.values[Oe],Object.keys(Ge).forEach(function(Pe){L(ke,Pe)?ke[Pe]=Ge[Pe]:X(ke,Pe,Ge[Pe])}))),Qe});return d.mutate(z).then(function(ge){for(var Oe=ge.failures,Ve=ge.results,Ge=ge.numFailures,ge=ge.lastResult,ke=0;ke<ne.length;++ke){var $e=(Ve||ne)[ke],Qe=te[ke];$e==null?Qe.onerror&&Qe.onerror(Oe[ke]):Qe.onsuccess&&Qe.onsuccess(z.type==="put"&&ce[ke]?z.values[ke]:$e)}return{failures:Oe,results:Ve,numFailures:Ge,lastResult:ge}}).catch(function(ge){return te.forEach(function(Oe){return Oe.onerror&&Oe.onerror(ge)}),Promise.reject(ge)})});throw new Error("Keys missing")}}})}})}};function Bl(i,o,d){try{if(!o||o.keys.length<i.length)return null;for(var x=[],b=0,A=0;b<o.keys.length&&A<i.length;++b)Et(o.keys[b],i[A])===0&&(x.push(d?ae(o.values[b]):o.values[b]),++A);return x.length===i.length?x:null}catch{return null}}var sa={stack:"dbcore",level:-1,create:function(i){return{table:function(o){var d=i.table(o);return y(y({},d),{getMany:function(x){var b;return x.cache?(b=Bl(x.keys,x.trans._cache,x.cache==="clone"))?Ye.resolve(b):d.getMany(x).then(function(A){return x.trans._cache={keys:x.keys,values:x.cache==="clone"?ae(A):A},A}):d.getMany(x)},mutate:function(x){return x.type!=="add"&&(x.trans._cache=null),d.mutate(x)}})}}}};function Ji(i,o){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!o.schema.primaryKey.outbound}function _i(i,o){switch(i){case"query":return o.values&&!o.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Wa={stack:"dbcore",level:0,name:"Observability",create:function(i){var o=i.schema.name,d=new er(i.MIN_KEY,i.MAX_KEY);return y(y({},i),{transaction:function(x,b,A){if(Le.subscr&&b!=="readonly")throw new Ue.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Le.querier));return i.transaction(x,b,A)},table:function(x){function b(ne){var V,ne=ne.query;return[V=ne.index,new er((V=(ne=ne.range).lower)!=null?V:i.MIN_KEY,(V=ne.upper)!=null?V:i.MAX_KEY)]}var A=i.table(x),C=A.schema,N=C.primaryKey,I=C.indexes,k=N.extractKey,B=N.outbound,z=N.autoIncrement&&I.filter(function(G){return G.compound&&G.keyPath.includes(N.keyPath)}),P=y(y({},A),{mutate:function(G){function V(et){return et="idb://".concat(o,"/").concat(x,"/").concat(et),Oe[et]||(Oe[et]=new er)}var ne,ce,te,ge=G.trans,Oe=G.mutatedParts||(G.mutatedParts={}),Ve=V(""),Ge=V(":dels"),ke=G.type,Qe=G.type==="deleteRange"?[G.range]:G.type==="delete"?[G.keys]:G.values.length<50?[Ti(N,G).filter(function(et){return et}),G.values]:[],$e=Qe[0],Qe=Qe[1],Pe=G.trans._cache;return O($e)?(Ve.addKeys($e),(ke=ke==="delete"||$e.length===Qe.length?Bl($e,Pe):null)||Ge.addKeys($e),(ke||Qe)&&(ne=V,ce=ke,te=Qe,C.indexes.forEach(function(et){var wt=ne(et.name||"");function kt(St){return St!=null?et.extractKey(St):null}function dt(St){et.multiEntry&&O(St)?St.forEach(function(Rn){return wt.addKey(Rn)}):wt.addKey(St)}(ce||te).forEach(function(St,mn){var Yr=ce&&kt(ce[mn]),mn=te&&kt(te[mn]);Et(Yr,mn)!==0&&(Yr!=null&&dt(Yr),mn!=null)&&dt(mn)})}))):$e?(Qe={from:(Pe=$e.lower)!=null?Pe:i.MIN_KEY,to:(ke=$e.upper)!=null?ke:i.MAX_KEY},Ge.add(Qe),Ve.add(Qe)):(Ve.add(d),Ge.add(d),C.indexes.forEach(function(et){return V(et.name).add(d)})),A.mutate(G).then(function(et){return!$e||G.type!=="add"&&G.type!=="put"||(Ve.addKeys(et.results),z&&z.forEach(function(wt){for(var kt=G.values.map(function(Yr){return wt.extractKey(Yr)}),dt=wt.keyPath.findIndex(function(Yr){return Yr===N.keyPath}),St=0,Rn=et.results.length;St<Rn;++St)kt[St][dt]=et.results[St];V(wt.name).addKeys(kt)})),ge.mutatedParts=ft(ge.mutatedParts||{},Oe),et})}}),U={get:function(G){return[N,new er(G.key)]},getMany:function(G){return[N,new er().addKeys(G.keys)]},count:b,query:b,openCursor:b};return T(U).forEach(function(G){P[G]=function(V){var ne=Le.subscr,ce=!!ne,te=Ji(Le,A)&&_i(G,V)?V.obsSet={}:ne;if(ce){var ge,ne=function(Qe){return Qe="idb://".concat(o,"/").concat(x,"/").concat(Qe),te[Qe]||(te[Qe]=new er)},Oe=ne(""),Ve=ne(":dels"),ce=U[G](V),Ge=ce[0],ce=ce[1];if((G==="query"&&Ge.isPrimaryKey&&!V.values?Ve:ne(Ge.name||"")).add(ce),!Ge.isPrimaryKey){if(G!=="count")return ge=G==="query"&&B&&V.values&&A.query(y(y({},V),{values:!1})),A[G].apply(this,arguments).then(function(Qe){if(G==="query"){if(B&&V.values)return ge.then(function(kt){return kt=kt.result,Oe.addKeys(kt),Qe});var Pe=V.values?Qe.result.map(k):Qe.result;(V.values?Oe:Ve).addKeys(Pe)}else{var et,wt;if(G==="openCursor")return wt=V.values,(et=Qe)&&Object.create(et,{key:{get:function(){return Ve.addKey(et.primaryKey),et.key}},primaryKey:{get:function(){var kt=et.primaryKey;return Ve.addKey(kt),kt}},value:{get:function(){return wt&&Oe.addKey(et.primaryKey),et.value}}})}return Qe});Ve.add(d)}}return A[G].apply(this,arguments)}}),P}})}};function zr(i,o,d){var x;return d.numFailures===0?o:o.type==="deleteRange"||(x=o.keys?o.keys.length:"values"in o&&o.values?o.values.length:1,d.numFailures===x)?null:(x=y({},o),O(x.keys)&&(x.keys=x.keys.filter(function(b,A){return!(A in d.failures)})),"values"in x&&O(x.values)&&(x.values=x.values.filter(function(b,A){return!(A in d.failures)})),x)}function wa(i,o){return d=i,((x=o).lower===void 0||(x.lowerOpen?0<Et(d,x.lower):0<=Et(d,x.lower)))&&(d=i,(x=o).upper===void 0||(x.upperOpen?Et(d,x.upper)<0:Et(d,x.upper)<=0));var d,x}function qr(i,o,d,x,b,A){var C,N,I,k,B,z;return!d||d.length===0||(C=o.query.index,N=C.multiEntry,I=o.query.range,k=x.schema.primaryKey.extractKey,B=C.extractKey,z=(C.lowLevelIndex||C).extractKey,(x=d.reduce(function(P,U){var G=P,V=[];if(U.type==="add"||U.type==="put")for(var ne=new er,ce=U.values.length-1;0<=ce;--ce){var te,ge=U.values[ce],Oe=k(ge);!ne.hasKey(Oe)&&(te=B(ge),N&&O(te)?te.some(function(Qe){return wa(Qe,I)}):wa(te,I))&&(ne.addKey(Oe),V.push(ge))}switch(U.type){case"add":var Ve=new er().addKeys(o.values?P.map(function(Pe){return k(Pe)}):P),G=P.concat(o.values?V.filter(function(Pe){return Pe=k(Pe),!Ve.hasKey(Pe)&&(Ve.addKey(Pe),!0)}):V.map(function(Pe){return k(Pe)}).filter(function(Pe){return!Ve.hasKey(Pe)&&(Ve.addKey(Pe),!0)}));break;case"put":var Ge=new er().addKeys(U.values.map(function(Pe){return k(Pe)}));G=P.filter(function(Pe){return!Ge.hasKey(o.values?k(Pe):Pe)}).concat(o.values?V:V.map(function(Pe){return k(Pe)}));break;case"delete":var ke=new er().addKeys(U.keys);G=P.filter(function(Pe){return!ke.hasKey(o.values?k(Pe):Pe)});break;case"deleteRange":var $e=U.range;G=P.filter(function(Pe){return!wa(k(Pe),$e)})}return G},i))===i)?i:(x.sort(function(P,U){return Et(z(P),z(U))||Et(k(P),k(U))}),o.limit&&o.limit<1/0&&(x.length>o.limit?x.length=o.limit:i.length===o.limit&&x.length<o.limit&&(b.dirty=!0)),A?Object.freeze(x):x)}function oa(i,o){return Et(i.lower,o.lower)===0&&Et(i.upper,o.upper)===0&&!!i.lowerOpen==!!o.lowerOpen&&!!i.upperOpen==!!o.upperOpen}function $i(i,o){return((d,x,b,A)=>{if(d===void 0)return x!==void 0?-1:0;if(x===void 0)return 1;if((d=Et(d,x))===0){if(b&&A)return 0;if(b)return 1;if(A)return-1}return d})(i.lower,o.lower,i.lowerOpen,o.lowerOpen)<=0&&0<=((d,x,b,A)=>{if(d===void 0)return x!==void 0?1:0;if(x===void 0)return-1;if((d=Et(d,x))===0){if(b&&A)return 0;if(b)return-1;if(A)return 1}return d})(i.upper,o.upper,i.upperOpen,o.upperOpen)}function Ls(i,o,d,x){i.subscribers.add(d),x.addEventListener("abort",function(){var b,A;i.subscribers.delete(d),i.subscribers.size===0&&(b=i,A=o,setTimeout(function(){b.subscribers.size===0&&qe(A,b)},3e3))})}var va={stack:"dbcore",level:0,name:"Cache",create:function(i){var o=i.schema.name;return y(y({},i),{transaction:function(d,x,b){var A,C,N=i.transaction(d,x,b);return x==="readwrite"&&(b=(A=new AbortController).signal,N.addEventListener("abort",(C=function(I){return function(){if(A.abort(),x==="readwrite"){for(var k=new Set,B=0,z=d;B<z.length;B++){var P=z[B],U=Kt["idb://".concat(o,"/").concat(P)];if(U){var G=i.table(P),V=U.optimisticOps.filter(function(et){return et.trans===N});if(N._explicit&&I&&N.mutatedParts)for(var ne=0,ce=Object.values(U.queries.query);ne<ce.length;ne++)for(var te=0,ge=(Ge=ce[ne]).slice();te<ge.length;te++)Ml((ke=ge[te]).obsSet,N.mutatedParts)&&(qe(Ge,ke),ke.subscribers.forEach(function(et){return k.add(et)}));else if(0<V.length){U.optimisticOps=U.optimisticOps.filter(function(et){return et.trans!==N});for(var Oe=0,Ve=Object.values(U.queries.query);Oe<Ve.length;Oe++)for(var Ge,ke,$e,Qe=0,Pe=(Ge=Ve[Oe]).slice();Qe<Pe.length;Qe++)(ke=Pe[Qe]).res!=null&&N.mutatedParts&&(I&&!ke.dirty?($e=Object.isFrozen(ke.res),$e=qr(ke.res,ke.req,V,G,ke,$e),ke.dirty?(qe(Ge,ke),ke.subscribers.forEach(function(et){return k.add(et)})):$e!==ke.res&&(ke.res=$e,ke.promise=Ye.resolve({result:$e}))):(ke.dirty&&qe(Ge,ke),ke.subscribers.forEach(function(et){return k.add(et)})))}}}k.forEach(function(et){return et()})}}})(!1),{signal:b}),N.addEventListener("error",C(!1),{signal:b}),N.addEventListener("complete",C(!0),{signal:b})),N},table:function(d){var x=i.table(d),b=x.schema.primaryKey;return y(y({},x),{mutate:function(A){var C,N=Le.trans;return!b.outbound&&N.db._options.cache!=="disabled"&&!N.explicit&&N.idbtrans.mode==="readwrite"&&(C=Kt["idb://".concat(o,"/").concat(d)])?(N=x.mutate(A),A.type!=="add"&&A.type!=="put"||!(50<=A.values.length||Ti(b,A).some(function(I){return I==null}))?(C.optimisticOps.push(A),A.mutatedParts&&Ya(A.mutatedParts),N.then(function(I){0<I.numFailures&&(qe(C.optimisticOps,A),(I=zr(0,A,I))&&C.optimisticOps.push(I),A.mutatedParts)&&Ya(A.mutatedParts)}),N.catch(function(){qe(C.optimisticOps,A),A.mutatedParts&&Ya(A.mutatedParts)})):N.then(function(I){var k=zr(0,y(y({},A),{values:A.values.map(function(B,z){var P;return I.failures[z]?B:(X(P=(P=b.keyPath)!=null&&P.includes(".")?ae(B):y({},B),b.keyPath,I.results[z]),P)})}),I);C.optimisticOps.push(k),queueMicrotask(function(){return A.mutatedParts&&Ya(A.mutatedParts)})}),N):x.mutate(A)},query:function(A){var C,N,I,k,B,z,P;return Ji(Le,x)&&_i("query",A)?(C=((I=Le.trans)==null?void 0:I.db._options.cache)==="immutable",N=(I=Le).requery,I=I.signal,z=((U,G,V,ne)=>{var ce=Kt["idb://".concat(U,"/").concat(G)];if(!ce)return[];if(!(U=ce.queries[V]))return[null,!1,ce,null];var te=U[(ne.query?ne.query.index.name:null)||""];if(!te)return[null,!1,ce,null];switch(V){case"query":var ge=te.find(function(Oe){return Oe.req.limit===ne.limit&&Oe.req.values===ne.values&&oa(Oe.req.query.range,ne.query.range)});return ge?[ge,!0,ce,te]:[te.find(function(Oe){return("limit"in Oe.req?Oe.req.limit:1/0)>=ne.limit&&(!ne.values||Oe.req.values)&&$i(Oe.req.query.range,ne.query.range)}),!1,ce,te];case"count":return ge=te.find(function(Oe){return oa(Oe.req.query.range,ne.query.range)}),[ge,!!ge,ce,te]}})(o,d,"query",A),P=z[0],k=z[2],B=z[3],P&&z[1]?P.obsSet=A.obsSet:(z=x.query(A).then(function(U){var G=U.result;if(P&&(P.res=G),C){for(var V=0,ne=G.length;V<ne;++V)Object.freeze(G[V]);Object.freeze(G)}else U.result=ae(G);return U}).catch(function(U){return B&&P&&qe(B,P),Promise.reject(U)}),P={obsSet:A.obsSet,promise:z,subscribers:new Set,type:"query",req:A,dirty:!1},B?B.push(P):(B=[P],(k=k||(Kt["idb://".concat(o,"/").concat(d)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[A.query.index.name||""]=B)),Ls(P,B,N,I),P.promise.then(function(U){return{result:qr(U.result,A,k?.optimisticOps,x,P,C)}})):x.query(A)}})}})}};function Rr(i,o){return new Proxy(i,{get:function(d,x,b){return x==="db"?o:Reflect.get(d,x,b)}})}An.prototype.version=function(i){if(isNaN(i)||i<.1)throw new Ue.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new Ue.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var o=this._versions,d=o.filter(function(x){return x._cfg.version===i})[0];return d||(d=new this.Version(i),o.push(d),o.sort(Ol),d.stores({}),this._state.autoSchema=!1),d},An.prototype._whenReady=function(i){var o=this;return this.idbdb&&(this._state.openComplete||Le.letThrough||this._vip)?i():new Ye(function(d,x){if(o._state.openComplete)return x(new Ue.DatabaseClosed(o._state.dbOpenError));if(!o._state.isBeingOpened){if(!o._state.autoOpen)return void x(new Ue.DatabaseClosed);o.open().catch(gt)}o._state.dbReadyPromise.then(d,x)}).then(i)},An.prototype.use=function(b){var o=b.stack,d=b.create,x=b.level,b=b.name,A=(b&&this.unuse({stack:o,name:b}),this._middlewares[o]||(this._middlewares[o]=[]));return A.push({stack:o,create:d,level:x??10,name:b}),A.sort(function(C,N){return C.level-N.level}),this},An.prototype.unuse=function(i){var o=i.stack,d=i.name,x=i.create;return o&&this._middlewares[o]&&(this._middlewares[o]=this._middlewares[o].filter(function(b){return x?b.create!==x:!!d&&b.name!==d})),this},An.prototype.open=function(){var i=this;return Zr(Dt,function(){return es(i)})},An.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var i=this._state,o=Ie.indexOf(this);if(0<=o&&Ie.splice(o,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new Ye(function(d){i.dbReadyResolve=d}),i.openCanceller=new Ye(function(d,x){i.cancelOpen=x}))},An.prototype.close=function(o){var o=(o===void 0?{disableAutoOpen:!0}:o).disableAutoOpen,d=this._state;o?(d.isBeingOpened&&d.cancelOpen(new Ue.DatabaseClosed),this._close(),d.autoOpen=!1,d.dbOpenError=new Ue.DatabaseClosed):(this._close(),d.autoOpen=this._options.autoOpen||d.isBeingOpened,d.openComplete=!1,d.dbOpenError=null)},An.prototype.delete=function(i){var o=this,d=(i===void 0&&(i={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),x=this._state;return new Ye(function(b,A){function C(){o.close(i);var N=o._deps.indexedDB.deleteDatabase(o.name);N.onsuccess=vt(function(){var I,k,B;I=o._deps,k=o.name,qa(B=I.indexedDB)||k===xa||Xa(B,I.IDBKeyRange).delete(k).catch(gt),b()}),N.onerror=$n(A),N.onblocked=o._fireOnBlocked}if(d)throw new Ue.InvalidArgument("Invalid closeOptions argument to db.delete()");x.isBeingOpened?x.dbReadyPromise.then(C):C()})},An.prototype.backendDB=function(){return this.idbdb},An.prototype.isOpen=function(){return this.idbdb!==null},An.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},An.prototype.hasFailed=function(){return this._state.dbOpenError!==null},An.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(An.prototype,"tables",{get:function(){var i=this;return T(this._allTables).map(function(o){return i._allTables[o]})},enumerable:!1,configurable:!0}),An.prototype.transaction=function(){var i=(function(o,d,x){var b=arguments.length;if(b<2)throw new Ue.InvalidArgument("Too few arguments");for(var A=new Array(b-1);--b;)A[b-1]=arguments[b];return x=A.pop(),[o,je(A),x]}).apply(this,arguments);return this._transaction.apply(this,i)},An.prototype._transaction=function(i,o,d){var x,b,A=this,C=Le.trans,N=(C&&C.db===this&&i.indexOf("!")===-1||(C=null),i.indexOf("?")!==-1);i=i.replace("!","").replace("?","");try{if(b=o.map(function(k){if(k=k instanceof A.Table?k.name:k,typeof k!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return k}),i=="r"||i===$t)x=$t;else{if(i!="rw"&&i!=Br)throw new Ue.InvalidArgument("Invalid transaction mode: "+i);x=Br}if(C){if(C.mode===$t&&x===Br){if(!N)throw new Ue.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");C=null}C&&b.forEach(function(k){if(C&&C.storeNames.indexOf(k)===-1){if(!N)throw new Ue.SubTransaction("Table "+k+" not included in parent transaction.");C=null}}),N&&C&&!C.active&&(C=null)}}catch(k){return C?C._promise(null,function(B,z){z(k)}):mt(k)}var I=(function k(B,z,P,U,G){return Ye.resolve().then(function(){var te=Le.transless||Le,V=B._createTransaction(z,P,B._dbSchema,U),te=(V.explicit=!0,{trans:V,transless:te});if(U)V.idbtrans=U.idbtrans;else try{V.create(),V.idbtrans._explicit=!0,B._state.PR1398_maxLoop=3}catch(ge){return ge.name===We.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return k(B,z,P,null,G)})):mt(ge)}var ne,ce=Y(G),te=(ce&&Pt(),Ye.follow(function(){var ge;(ne=G.call(V,V))&&(ce?(ge=Jn.bind(null,null),ne.then(ge,ge)):typeof ne.next=="function"&&typeof ne.throw=="function"&&(ne=Wi(ne)))},te));return(ne&&typeof ne.then=="function"?Ye.resolve(ne).then(function(ge){return V.active?ge:mt(new Ue.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):te.then(function(){return ne})).then(function(ge){return U&&V._resolve(),V._completion.then(function(){return ge})}).catch(function(ge){return V._reject(ge),mt(ge)})})}).bind(null,this,x,b,C,d);return C?C._promise(x,I,"lock"):Le.trans?Zr(Le.transless,function(){return A._whenReady(I)}):this._whenReady(I)},An.prototype.table=function(i){if(L(this._allTables,i))return this._allTables[i];throw new Ue.InvalidTable("Table ".concat(i," does not exist"))};var oi=An;function An(i,o){var d,x,b,A,C,N=this,I=(this._middlewares={},this.verno=0,An.dependencies),I=(this._options=o=y({addons:An.addons,autoOpen:!0,indexedDB:I.indexedDB,IDBKeyRange:I.IDBKeyRange,cache:"cloned"},o),this._deps={indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},o.addons),k=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:gt,dbReadyPromise:null,cancelOpen:gt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:o.autoOpen}),B=(k.dbReadyPromise=new Ye(function(z){k.dbReadyResolve=z}),k.openCanceller=new Ye(function(z,P){k.cancelOpen=P}),this._state=k,this.name=i,this.on=ii(this,"populate","blocked","versionchange","close",{ready:[ir,gt]}),this.once=function(z,P){var U=function(){for(var G=[],V=0;V<arguments.length;V++)G[V]=arguments[V];N.on(z).unsubscribe(U),P.apply(N,G)};return N.on(z,U)},this.on.ready.subscribe=se(this.on.ready.subscribe,function(z){return function(P,U){An.vip(function(){var G,V=N._state;V.openComplete?(V.dbOpenError||Ye.resolve().then(P),U&&z(P)):V.onReadyBeingFired?(V.onReadyBeingFired.push(P),U&&z(P)):(z(P),G=N,U||z(function ne(){G.on.ready.unsubscribe(P),G.on.ready.unsubscribe(ne)}))})}}),this.Collection=(d=this,At(_l.prototype,function(ne,V){this.db=d;var U=jt,G=null;if(V)try{U=V()}catch(te){G=te}var V=ne._ctx,ne=V.table,ce=ne.hook.reading.fire;this._ctx={table:ne,index:V.index,isPrimKey:!V.index||ne.schema.primKey.keyPath&&V.index===ne.schema.primKey.name,range:U,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:G,or:V.or,valueMapper:ce!==xt?ce:null}})),this.Table=(x=this,At(ri.prototype,function(z,P,U){this.db=x,this._tx=U,this.name=z,this.schema=P,this.hook=x._allTables[z]?x._allTables[z].hook:ii(null,{creating:[Tr,gt],reading:[cn,xt],updating:[Wt,gt],deleting:[Gn,gt]})})),this.Transaction=(b=this,At(Nl.prototype,function(z,P,U,G,V){var ne=this;z!=="readonly"&&P.forEach(function(ce){ce=(ce=U[ce])==null?void 0:ce.yProps,ce&&(P=P.concat(ce.map(function(te){return te.updatesTable})))}),this.db=b,this.mode=z,this.storeNames=P,this.schema=U,this.chromeTransactionDurability=G,this.idbtrans=null,this.on=ii(this,"complete","error","abort"),this.parent=V||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ye(function(ce,te){ne._resolve=ce,ne._reject=te}),this._completion.then(function(){ne.active=!1,ne.on.complete.fire()},function(ce){var te=ne.active;return ne.active=!1,ne.on.error.fire(ce),ne.parent?ne.parent._reject(ce):te&&ne.idbtrans&&ne.idbtrans.abort(),mt(ce)})})),this.Version=(A=this,At(or.prototype,function(z){this.db=A,this._cfg={version:z,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(C=this,At(Nn.prototype,function(z,P,U){if(this.db=C,this._ctx={table:z,index:P===":id"?null:P,or:U},this._cmp=this._ascending=Et,this._descending=function(G,V){return Et(V,G)},this._max=function(G,V){return 0<Et(G,V)?G:V},this._min=function(G,V){return Et(G,V)<0?G:V},this._IDBKeyRange=C._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ue.MissingAPI})),this.on("versionchange",function(z){0<z.newVersion?console.warn("Another connection wants to upgrade database '".concat(N.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(N.name,"'. Closing db now to resume the delete request.")),N.close({disableAutoOpen:!1})}),this.on("blocked",function(z){!z.newVersion||z.newVersion<z.oldVersion?console.warn("Dexie.delete('".concat(N.name,"') was blocked")):console.warn("Upgrade '".concat(N.name,"' blocked by other connection holding version ").concat(z.oldVersion/10))}),this._maxKey=li(o.IDBKeyRange),this._createTransaction=function(z,P,U,G){return new N.Transaction(z,P,U,N._options.chromeTransactionDurability,G)},this._fireOnBlocked=function(z){N.on("blocked").fire(z),Ie.filter(function(P){return P.name===N.name&&P!==N&&!P._state.vcFired}).map(function(P){return P.on("versionchange").fire(z)})},this.use(sa),this.use(va),this.use(Wa),this.use(ts),this.use(Qa),new Proxy(this,{get:function(z,P,U){var G;return P==="_vip"||(P==="table"?function(V){return Rr(N.table(V),B)}:(G=Reflect.get(z,P,U))instanceof ri?Rr(G,B):P==="tables"?G.map(function(V){return Rr(V,B)}):P==="_createTransaction"?function(){return Rr(G.apply(this,arguments),B)}:G)}}));this.vip=B,I.forEach(function(z){return z(N)})}var ci,Nt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Aa=(D.prototype.subscribe=function(i,o,d){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:o,complete:d})},D.prototype[Nt]=function(){return this},D);function D(i){this._subscribe=i}try{ci={indexedDB:v.indexedDB||v.mozIndexedDB||v.webkitIndexedDB||v.msIndexedDB,IDBKeyRange:v.IDBKeyRange||v.webkitIDBKeyRange}}catch{ci={indexedDB:null,IDBKeyRange:null}}function t(i){var o,d=!1,x=new Aa(function(b){var A=Y(i),C,N=!1,I={},k={},B={get closed(){return N},unsubscribe:function(){N||(N=!0,C&&C.abort(),z&&Ht.storagemutated.unsubscribe(U))}},z=(b.start&&b.start(B),!1),P=function(){return Un(G)},U=function(V){ft(I,V),Ml(k,I)&&P()},G=function(){var V,ne,ce;!N&&ci.indexedDB&&(I={},V={},C&&C.abort(),C=new AbortController,ce=(te=>{var ge=Tn();try{A&&Pt();var Oe=gn(i,te);return Oe=A?Oe.finally(Jn):Oe}finally{ge&&Yn()}})(ne={subscr:V,signal:C.signal,requery:P,querier:i,trans:null}),Promise.resolve(ce).then(function(te){d=!0,o=te,N||ne.signal.aborted||(I={},(ge=>{for(var Oe in ge)if(L(ge,Oe))return;return 1})(k=V)||z||(Ht(ra,U),z=!0),Un(function(){return!N&&b.next&&b.next(te)}))},function(te){d=!1,["DatabaseClosedError","AbortError"].includes(te?.name)||N||Un(function(){N||b.error&&b.error(te)})}))};return setTimeout(P,0),B});return x.hasValue=function(){return d},x.getValue=function(){return o},x}var r=oi;function a(i){var o=c;try{c=!0,Ht.storagemutated.fire(i),Xr(i,!0)}finally{c=o}}W(r,y(y({},ue),{delete:function(i){return new r(i,{addons:[]}).delete()},exists:function(i){return new r(i,{addons:[]}).open().then(function(o){return o.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return o=r.dependencies,d=o.indexedDB,o=o.IDBKeyRange,(qa(d)?Promise.resolve(d.databases()).then(function(x){return x.map(function(b){return b.name}).filter(function(b){return b!==xa})}):Xa(d,o).toCollection().primaryKeys()).then(i)}catch{return mt(new Ue.MissingAPI)}var o,d},defineClass:function(){return function(i){R(this,i)}},ignoreTransaction:function(i){return Le.trans?Zr(Le.transless,i):i()},vip:Dl,async:function(i){return function(){try{var o=Wi(i.apply(this,arguments));return o&&typeof o.then=="function"?o:Ye.resolve(o)}catch(d){return mt(d)}}},spawn:function(i,o,d){try{var x=Wi(i.apply(d,o||[]));return x&&typeof x.then=="function"?x:Ye.resolve(x)}catch(b){return mt(b)}},currentTransaction:{get:function(){return Le.trans||null}},waitFor:function(i,o){return i=Ye.resolve(typeof i=="function"?r.ignoreTransaction(i):i).timeout(o||6e4),Le.trans?Le.trans.waitFor(i):i},Promise:Ye,debug:{get:function(){return Ke},set:function(i){ti(i)}},derive:le,extend:R,props:W,override:se,Events:ii,on:Ht,liveQuery:t,extendObservabilitySet:ft,getByKeyPath:he,setByKeyPath:X,delByKeyPath:function(i,o){typeof o=="string"?X(i,o,void 0):"length"in o&&[].map.call(o,function(d){X(i,d,void 0)})},shallowClone:ee,deepClone:ae,getObjectDiff:Za,cmp:Et,asap:Xe,minKey:-1/0,addons:[],connections:Ie,errnames:We,dependencies:ci,cache:Kt,semVer:"4.3.0",version:"4.3.0".split(".").map(function(i){return parseInt(i)}).reduce(function(i,o,d){return i+o/Math.pow(10,2*d)})})),r.maxKey=li(r.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ht(ra,function(i){c||(i=new CustomEvent(yt,{detail:i}),c=!0,dispatchEvent(i),c=!1)}),addEventListener(yt,function(i){i=i.detail,c||a(i)}));var s,c=!1,f=function(){};return typeof BroadcastChannel<"u"&&((f=function(){(s=new BroadcastChannel(yt)).onmessage=function(i){return i.data&&a(i.data)}})(),typeof s.unref=="function"&&s.unref(),Ht(ra,function(i){c||s.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!oi.disableBfCache&&i.persisted){Ke&&console.debug("Dexie: handling persisted pagehide"),s?.close();for(var o=0,d=Ie;o<d.length;o++)d[o].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!oi.disableBfCache&&i.persisted&&(Ke&&console.debug("Dexie: handling persisted pageshow"),f(),a({all:new er(-1/0,[[]])}))})),Ye.rejectionMapper=function(i,o){return!i||i instanceof _e||i instanceof TypeError||i instanceof SyntaxError||!i.name||!en[i.name]?i:(o=new en[i.name](o||i.message,i),"stack"in i&&Ee(o,"stack",{get:function(){return this.inner.stack}}),o)},ti(Ke),y(oi,Object.freeze({__proto__:null,Dexie:oi,Entity:Mt,PropModification:kr,RangeSet:er,add:function(i){return new kr({add:i})},cmp:Et,default:oi,liveQuery:t,mergeRanges:Ei,rangesOverlap:kn,remove:function(i){return new kr({remove:i})},replacePrefix:function(i,o){return new kr({replacePrefix:[i,o]})}}),{default:oi}),oi})})(Lc)),Lc.exports}var Qx=Zx();const w0=D0(Qx),sg=Symbol.for("Dexie"),Uc=globalThis[sg]||(globalThis[sg]=w0);if(w0.semVer!==Uc.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${w0.semVer} and ${Uc.semVer}`);const{liveQuery:D3,mergeRanges:I3,rangesOverlap:M3,RangeSet:B3,cmp:k3,Entity:L3,PropModification:z3,replacePrefix:U3,add:F3,remove:P3,DexieYProvider:j3}=Uc;class Wx extends Uc{vault_items;categories;constructor(){super("HybridSeedVault"),this.version(3).stores({vault_items:"id, title, category, createdAt",categories:"name, order"})}}const fr=new Wx;function A2(h){var g,m,y="";if(typeof h=="string"||typeof h=="number")y+=h;else if(typeof h=="object")if(Array.isArray(h)){var E=h.length;for(g=0;g<E;g++)h[g]&&(m=A2(h[g]))&&(y&&(y+=" "),y+=m)}else for(m in h)h[m]&&(y&&(y+=" "),y+=m);return y}function Jx(){for(var h,g,m=0,y="",E=arguments.length;m<E;m++)(h=arguments[m])&&(g=A2(h))&&(y&&(y+=" "),y+=g);return y}const $x=(h,g)=>{const m=new Array(h.length+g.length);for(let y=0;y<h.length;y++)m[y]=h[y];for(let y=0;y<g.length;y++)m[h.length+y]=g[y];return m},ep=(h,g)=>({classGroupId:h,validator:g}),E2=(h=new Map,g=null,m)=>({nextPart:h,validators:g,classGroupId:m}),Fc="-",og=[],tp="arbitrary..",np=h=>{const g=ip(h),{conflictingClassGroups:m,conflictingClassGroupModifiers:y}=h;return{getClassGroupId:T=>{if(T.startsWith("[")&&T.endsWith("]"))return rp(T);const O=T.split(Fc),R=O[0]===""&&O.length>1?1:0;return C2(O,R,g)},getConflictingClassGroupIds:(T,O)=>{if(O){const R=y[T],S=m[T];return R?S?$x(S,R):R:S||og}return m[T]||og}}},C2=(h,g,m)=>{if(h.length-g===0)return m.classGroupId;const E=h[g],v=m.nextPart.get(E);if(v){const S=C2(h,g+1,v);if(S)return S}const T=m.validators;if(T===null)return;const O=g===0?h.join(Fc):h.slice(g).join(Fc),R=T.length;for(let S=0;S<R;S++){const j=T[S];if(j.validator(O))return j.classGroupId}},rp=h=>h.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const g=h.slice(1,-1),m=g.indexOf(":"),y=g.slice(0,m);return y?tp+y:void 0})(),ip=h=>{const{theme:g,classGroups:m}=h;return ap(m,g)},ap=(h,g)=>{const m=E2();for(const y in h){const E=h[y];M0(E,m,y,g)}return m},M0=(h,g,m,y)=>{const E=h.length;for(let v=0;v<E;v++){const T=h[v];lp(T,g,m,y)}},lp=(h,g,m,y)=>{if(typeof h=="string"){sp(h,g,m);return}if(typeof h=="function"){op(h,g,m,y);return}cp(h,g,m,y)},sp=(h,g,m)=>{const y=h===""?g:S2(g,h);y.classGroupId=m},op=(h,g,m,y)=>{if(up(h)){M0(h(y),g,m,y);return}g.validators===null&&(g.validators=[]),g.validators.push(ep(m,h))},cp=(h,g,m,y)=>{const E=Object.entries(h),v=E.length;for(let T=0;T<v;T++){const[O,R]=E[T];M0(R,S2(g,O),m,y)}},S2=(h,g)=>{let m=h;const y=g.split(Fc),E=y.length;for(let v=0;v<E;v++){const T=y[v];let O=m.nextPart.get(T);O||(O=E2(),m.nextPart.set(T,O)),m=O}return m},up=h=>"isThemeGetter"in h&&h.isThemeGetter===!0,fp=h=>{if(h<1)return{get:()=>{},set:()=>{}};let g=0,m=Object.create(null),y=Object.create(null);const E=(v,T)=>{m[v]=T,g++,g>h&&(g=0,y=m,m=Object.create(null))};return{get(v){let T=m[v];if(T!==void 0)return T;if((T=y[v])!==void 0)return E(v,T),T},set(v,T){v in m?m[v]=T:E(v,T)}}},v0="!",cg=":",dp=[],ug=(h,g,m,y,E)=>({modifiers:h,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:y,isExternal:E}),hp=h=>{const{prefix:g,experimentalParseClassName:m}=h;let y=E=>{const v=[];let T=0,O=0,R=0,S;const j=E.length;for(let le=0;le<j;le++){const Se=E[le];if(T===0&&O===0){if(Se===cg){v.push(E.slice(R,le)),R=le+1;continue}if(Se==="/"){S=le;continue}}Se==="["?T++:Se==="]"?T--:Se==="("?O++:Se===")"&&O--}const L=v.length===0?E:E.slice(R);let W=L,K=!1;L.endsWith(v0)?(W=L.slice(0,-1),K=!0):L.startsWith(v0)&&(W=L.slice(1),K=!0);const Ee=S&&S>R?S-R:void 0;return ug(v,K,W,Ee)};if(g){const E=g+cg,v=y;y=T=>T.startsWith(E)?v(T.slice(E.length)):ug(dp,!1,T,void 0,!0)}if(m){const E=y;y=v=>m({className:v,parseClassName:E})}return y},gp=h=>{const g=new Map;return h.orderSensitiveModifiers.forEach((m,y)=>{g.set(m,1e6+y)}),m=>{const y=[];let E=[];for(let v=0;v<m.length;v++){const T=m[v],O=T[0]==="[",R=g.has(T);O||R?(E.length>0&&(E.sort(),y.push(...E),E=[]),y.push(T)):E.push(T)}return E.length>0&&(E.sort(),y.push(...E)),y}},mp=h=>({cache:fp(h.cacheSize),parseClassName:hp(h),sortModifiers:gp(h),...np(h)}),xp=/\s+/,pp=(h,g)=>{const{parseClassName:m,getClassGroupId:y,getConflictingClassGroupIds:E,sortModifiers:v}=g,T=[],O=h.trim().split(xp);let R="";for(let S=O.length-1;S>=0;S-=1){const j=O[S],{isExternal:L,modifiers:W,hasImportantModifier:K,baseClassName:Ee,maybePostfixModifierPosition:le}=m(j);if(L){R=j+(R.length>0?" "+R:R);continue}let Se=!!le,Te=y(Se?Ee.substring(0,le):Ee);if(!Te){if(!Se){R=j+(R.length>0?" "+R:R);continue}if(Te=y(Ee),!Te){R=j+(R.length>0?" "+R:R);continue}Se=!1}const Ce=W.length===0?"":W.length===1?W[0]:v(W).join(":"),se=K?Ce+v0:Ce,me=se+Te;if(T.indexOf(me)>-1)continue;T.push(me);const Xe=E(Te,Se);for(let he=0;he<Xe.length;++he){const X=Xe[he];T.push(se+X)}R=j+(R.length>0?" "+R:R)}return R},yp=(...h)=>{let g=0,m,y,E="";for(;g<h.length;)(m=h[g++])&&(y=T2(m))&&(E&&(E+=" "),E+=y);return E},T2=h=>{if(typeof h=="string")return h;let g,m="";for(let y=0;y<h.length;y++)h[y]&&(g=T2(h[y]))&&(m&&(m+=" "),m+=g);return m},bp=(h,...g)=>{let m,y,E,v;const T=R=>{const S=g.reduce((j,L)=>L(j),h());return m=mp(S),y=m.cache.get,E=m.cache.set,v=O,O(R)},O=R=>{const S=y(R);if(S)return S;const j=pp(R,m);return E(R,j),j};return v=T,(...R)=>v(yp(...R))},wp=[],Er=h=>{const g=m=>m[h]||wp;return g.isThemeGetter=!0,g},_2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,N2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,vp=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,Ap=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ep=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Cp=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Sp=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Tp=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vl=h=>vp.test(h),Lt=h=>!!h&&!Number.isNaN(Number(h)),Al=h=>!!h&&Number.isInteger(Number(h)),Hf=h=>h.endsWith("%")&&Lt(h.slice(0,-1)),Ua=h=>Ap.test(h),R2=()=>!0,_p=h=>Ep.test(h)&&!Cp.test(h),B0=()=>!1,Np=h=>Sp.test(h),Rp=h=>Tp.test(h),Op=h=>!lt(h)&&!st(h),Dp=h=>Sl(h,I2,B0),lt=h=>_2.test(h),Yl=h=>Sl(h,M2,_p),fg=h=>Sl(h,Fp,Lt),Ip=h=>Sl(h,k2,R2),Mp=h=>Sl(h,B2,B0),dg=h=>Sl(h,O2,B0),Bp=h=>Sl(h,D2,Rp),Dc=h=>Sl(h,L2,Np),st=h=>N2.test(h),yo=h=>Zl(h,M2),kp=h=>Zl(h,B2),hg=h=>Zl(h,O2),Lp=h=>Zl(h,I2),zp=h=>Zl(h,D2),Ic=h=>Zl(h,L2,!0),Up=h=>Zl(h,k2,!0),Sl=(h,g,m)=>{const y=_2.exec(h);return y?y[1]?g(y[1]):m(y[2]):!1},Zl=(h,g,m=!1)=>{const y=N2.exec(h);return y?y[1]?g(y[1]):m:!1},O2=h=>h==="position"||h==="percentage",D2=h=>h==="image"||h==="url",I2=h=>h==="length"||h==="size"||h==="bg-size",M2=h=>h==="length",Fp=h=>h==="number",B2=h=>h==="family-name",k2=h=>h==="number"||h==="weight",L2=h=>h==="shadow",Pp=()=>{const h=Er("color"),g=Er("font"),m=Er("text"),y=Er("font-weight"),E=Er("tracking"),v=Er("leading"),T=Er("breakpoint"),O=Er("container"),R=Er("spacing"),S=Er("radius"),j=Er("shadow"),L=Er("inset-shadow"),W=Er("text-shadow"),K=Er("drop-shadow"),Ee=Er("blur"),le=Er("perspective"),Se=Er("aspect"),Te=Er("ease"),Ce=Er("animate"),se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],me=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Xe=()=>[...me(),st,lt],he=()=>["auto","hidden","clip","visible","scroll"],X=()=>["auto","contain","none"],ee=()=>[st,lt,R],Q=()=>[vl,"full","auto",...ee()],je=()=>[Al,"none","subgrid",st,lt],Me=()=>["auto",{span:["full",Al,st,lt]},Al,st,lt],we=()=>[Al,"auto",st,lt],ae=()=>["auto","min","max","fr",st,lt],Re=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],re=()=>["auto",...ee()],pe=()=>[vl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...ee()],qe=()=>[vl,"screen","full","dvw","lvw","svw","min","max","fit",...ee()],tt=()=>[vl,"screen","full","lh","dvh","lvh","svh","min","max","fit",...ee()],be=()=>[h,st,lt],Y=()=>[...me(),hg,dg,{position:[st,lt]}],ue=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ze=()=>["auto","cover","contain",Lp,Dp,{size:[st,lt]}],_e=()=>[Hf,yo,Yl],He=()=>["","none","full",S,st,lt],Ae=()=>["",Lt,yo,Yl],Je=()=>["solid","dashed","dotted","double"],We=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],it=()=>[Lt,Hf,hg,dg],Ue=()=>["","none",Ee,st,lt],en=()=>["none",Lt,st,lt],gt=()=>["none",Lt,st,lt],xt=()=>[Lt,st,lt],cn=()=>[vl,"full",...ee()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ua],breakpoint:[Ua],color:[R2],container:[Ua],"drop-shadow":[Ua],ease:["in","out","in-out"],font:[Op],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ua],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ua],shadow:[Ua],spacing:["px",Lt],text:[Ua],"text-shadow":[Ua],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vl,lt,st,Se]}],container:["container"],columns:[{columns:[Lt,lt,st,O]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Xe()}],overflow:[{overflow:he()}],"overflow-x":[{"overflow-x":he()}],"overflow-y":[{"overflow-y":he()}],overscroll:[{overscroll:X()}],"overscroll-x":[{"overscroll-x":X()}],"overscroll-y":[{"overscroll-y":X()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Q()}],"inset-x":[{"inset-x":Q()}],"inset-y":[{"inset-y":Q()}],start:[{"inset-s":Q(),start:Q()}],end:[{"inset-e":Q(),end:Q()}],"inset-bs":[{"inset-bs":Q()}],"inset-be":[{"inset-be":Q()}],top:[{top:Q()}],right:[{right:Q()}],bottom:[{bottom:Q()}],left:[{left:Q()}],visibility:["visible","invisible","collapse"],z:[{z:[Al,"auto",st,lt]}],basis:[{basis:[vl,"full","auto",O,...ee()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Lt,vl,"auto","initial","none",lt]}],grow:[{grow:["",Lt,st,lt]}],shrink:[{shrink:["",Lt,st,lt]}],order:[{order:[Al,"first","last","none",st,lt]}],"grid-cols":[{"grid-cols":je()}],"col-start-end":[{col:Me()}],"col-start":[{"col-start":we()}],"col-end":[{"col-end":we()}],"grid-rows":[{"grid-rows":je()}],"row-start-end":[{row:Me()}],"row-start":[{"row-start":we()}],"row-end":[{"row-end":we()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ae()}],"auto-rows":[{"auto-rows":ae()}],gap:[{gap:ee()}],"gap-x":[{"gap-x":ee()}],"gap-y":[{"gap-y":ee()}],"justify-content":[{justify:[...Re(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...Re()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":Re()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:ee()}],px:[{px:ee()}],py:[{py:ee()}],ps:[{ps:ee()}],pe:[{pe:ee()}],pbs:[{pbs:ee()}],pbe:[{pbe:ee()}],pt:[{pt:ee()}],pr:[{pr:ee()}],pb:[{pb:ee()}],pl:[{pl:ee()}],m:[{m:re()}],mx:[{mx:re()}],my:[{my:re()}],ms:[{ms:re()}],me:[{me:re()}],mbs:[{mbs:re()}],mbe:[{mbe:re()}],mt:[{mt:re()}],mr:[{mr:re()}],mb:[{mb:re()}],ml:[{ml:re()}],"space-x":[{"space-x":ee()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":ee()}],"space-y-reverse":["space-y-reverse"],size:[{size:pe()}],"inline-size":[{inline:["auto",...qe()]}],"min-inline-size":[{"min-inline":["auto",...qe()]}],"max-inline-size":[{"max-inline":["none",...qe()]}],"block-size":[{block:["auto",...tt()]}],"min-block-size":[{"min-block":["auto",...tt()]}],"max-block-size":[{"max-block":["none",...tt()]}],w:[{w:[O,"screen",...pe()]}],"min-w":[{"min-w":[O,"screen","none",...pe()]}],"max-w":[{"max-w":[O,"screen","none","prose",{screen:[T]},...pe()]}],h:[{h:["screen","lh",...pe()]}],"min-h":[{"min-h":["screen","lh","none",...pe()]}],"max-h":[{"max-h":["screen","lh",...pe()]}],"font-size":[{text:["base",m,yo,Yl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[y,Up,Ip]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Hf,lt]}],"font-family":[{font:[kp,Mp,g]}],"font-features":[{"font-features":[lt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[E,st,lt]}],"line-clamp":[{"line-clamp":[Lt,"none",st,fg]}],leading:[{leading:[v,...ee()]}],"list-image":[{"list-image":["none",st,lt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",st,lt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:be()}],"text-color":[{text:be()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Je(),"wavy"]}],"text-decoration-thickness":[{decoration:[Lt,"from-font","auto",st,Yl]}],"text-decoration-color":[{decoration:be()}],"underline-offset":[{"underline-offset":[Lt,"auto",st,lt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ee()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",st,lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",st,lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Y()}],"bg-repeat":[{bg:ue()}],"bg-size":[{bg:ze()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Al,st,lt],radial:["",st,lt],conic:[Al,st,lt]},zp,Bp]}],"bg-color":[{bg:be()}],"gradient-from-pos":[{from:_e()}],"gradient-via-pos":[{via:_e()}],"gradient-to-pos":[{to:_e()}],"gradient-from":[{from:be()}],"gradient-via":[{via:be()}],"gradient-to":[{to:be()}],rounded:[{rounded:He()}],"rounded-s":[{"rounded-s":He()}],"rounded-e":[{"rounded-e":He()}],"rounded-t":[{"rounded-t":He()}],"rounded-r":[{"rounded-r":He()}],"rounded-b":[{"rounded-b":He()}],"rounded-l":[{"rounded-l":He()}],"rounded-ss":[{"rounded-ss":He()}],"rounded-se":[{"rounded-se":He()}],"rounded-ee":[{"rounded-ee":He()}],"rounded-es":[{"rounded-es":He()}],"rounded-tl":[{"rounded-tl":He()}],"rounded-tr":[{"rounded-tr":He()}],"rounded-br":[{"rounded-br":He()}],"rounded-bl":[{"rounded-bl":He()}],"border-w":[{border:Ae()}],"border-w-x":[{"border-x":Ae()}],"border-w-y":[{"border-y":Ae()}],"border-w-s":[{"border-s":Ae()}],"border-w-e":[{"border-e":Ae()}],"border-w-bs":[{"border-bs":Ae()}],"border-w-be":[{"border-be":Ae()}],"border-w-t":[{"border-t":Ae()}],"border-w-r":[{"border-r":Ae()}],"border-w-b":[{"border-b":Ae()}],"border-w-l":[{"border-l":Ae()}],"divide-x":[{"divide-x":Ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Je(),"hidden","none"]}],"divide-style":[{divide:[...Je(),"hidden","none"]}],"border-color":[{border:be()}],"border-color-x":[{"border-x":be()}],"border-color-y":[{"border-y":be()}],"border-color-s":[{"border-s":be()}],"border-color-e":[{"border-e":be()}],"border-color-bs":[{"border-bs":be()}],"border-color-be":[{"border-be":be()}],"border-color-t":[{"border-t":be()}],"border-color-r":[{"border-r":be()}],"border-color-b":[{"border-b":be()}],"border-color-l":[{"border-l":be()}],"divide-color":[{divide:be()}],"outline-style":[{outline:[...Je(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Lt,st,lt]}],"outline-w":[{outline:["",Lt,yo,Yl]}],"outline-color":[{outline:be()}],shadow:[{shadow:["","none",j,Ic,Dc]}],"shadow-color":[{shadow:be()}],"inset-shadow":[{"inset-shadow":["none",L,Ic,Dc]}],"inset-shadow-color":[{"inset-shadow":be()}],"ring-w":[{ring:Ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:be()}],"ring-offset-w":[{"ring-offset":[Lt,Yl]}],"ring-offset-color":[{"ring-offset":be()}],"inset-ring-w":[{"inset-ring":Ae()}],"inset-ring-color":[{"inset-ring":be()}],"text-shadow":[{"text-shadow":["none",W,Ic,Dc]}],"text-shadow-color":[{"text-shadow":be()}],opacity:[{opacity:[Lt,st,lt]}],"mix-blend":[{"mix-blend":[...We(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":We()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Lt]}],"mask-image-linear-from-pos":[{"mask-linear-from":it()}],"mask-image-linear-to-pos":[{"mask-linear-to":it()}],"mask-image-linear-from-color":[{"mask-linear-from":be()}],"mask-image-linear-to-color":[{"mask-linear-to":be()}],"mask-image-t-from-pos":[{"mask-t-from":it()}],"mask-image-t-to-pos":[{"mask-t-to":it()}],"mask-image-t-from-color":[{"mask-t-from":be()}],"mask-image-t-to-color":[{"mask-t-to":be()}],"mask-image-r-from-pos":[{"mask-r-from":it()}],"mask-image-r-to-pos":[{"mask-r-to":it()}],"mask-image-r-from-color":[{"mask-r-from":be()}],"mask-image-r-to-color":[{"mask-r-to":be()}],"mask-image-b-from-pos":[{"mask-b-from":it()}],"mask-image-b-to-pos":[{"mask-b-to":it()}],"mask-image-b-from-color":[{"mask-b-from":be()}],"mask-image-b-to-color":[{"mask-b-to":be()}],"mask-image-l-from-pos":[{"mask-l-from":it()}],"mask-image-l-to-pos":[{"mask-l-to":it()}],"mask-image-l-from-color":[{"mask-l-from":be()}],"mask-image-l-to-color":[{"mask-l-to":be()}],"mask-image-x-from-pos":[{"mask-x-from":it()}],"mask-image-x-to-pos":[{"mask-x-to":it()}],"mask-image-x-from-color":[{"mask-x-from":be()}],"mask-image-x-to-color":[{"mask-x-to":be()}],"mask-image-y-from-pos":[{"mask-y-from":it()}],"mask-image-y-to-pos":[{"mask-y-to":it()}],"mask-image-y-from-color":[{"mask-y-from":be()}],"mask-image-y-to-color":[{"mask-y-to":be()}],"mask-image-radial":[{"mask-radial":[st,lt]}],"mask-image-radial-from-pos":[{"mask-radial-from":it()}],"mask-image-radial-to-pos":[{"mask-radial-to":it()}],"mask-image-radial-from-color":[{"mask-radial-from":be()}],"mask-image-radial-to-color":[{"mask-radial-to":be()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":me()}],"mask-image-conic-pos":[{"mask-conic":[Lt]}],"mask-image-conic-from-pos":[{"mask-conic-from":it()}],"mask-image-conic-to-pos":[{"mask-conic-to":it()}],"mask-image-conic-from-color":[{"mask-conic-from":be()}],"mask-image-conic-to-color":[{"mask-conic-to":be()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Y()}],"mask-repeat":[{mask:ue()}],"mask-size":[{mask:ze()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",st,lt]}],filter:[{filter:["","none",st,lt]}],blur:[{blur:Ue()}],brightness:[{brightness:[Lt,st,lt]}],contrast:[{contrast:[Lt,st,lt]}],"drop-shadow":[{"drop-shadow":["","none",K,Ic,Dc]}],"drop-shadow-color":[{"drop-shadow":be()}],grayscale:[{grayscale:["",Lt,st,lt]}],"hue-rotate":[{"hue-rotate":[Lt,st,lt]}],invert:[{invert:["",Lt,st,lt]}],saturate:[{saturate:[Lt,st,lt]}],sepia:[{sepia:["",Lt,st,lt]}],"backdrop-filter":[{"backdrop-filter":["","none",st,lt]}],"backdrop-blur":[{"backdrop-blur":Ue()}],"backdrop-brightness":[{"backdrop-brightness":[Lt,st,lt]}],"backdrop-contrast":[{"backdrop-contrast":[Lt,st,lt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Lt,st,lt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Lt,st,lt]}],"backdrop-invert":[{"backdrop-invert":["",Lt,st,lt]}],"backdrop-opacity":[{"backdrop-opacity":[Lt,st,lt]}],"backdrop-saturate":[{"backdrop-saturate":[Lt,st,lt]}],"backdrop-sepia":[{"backdrop-sepia":["",Lt,st,lt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":ee()}],"border-spacing-x":[{"border-spacing-x":ee()}],"border-spacing-y":[{"border-spacing-y":ee()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",st,lt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Lt,"initial",st,lt]}],ease:[{ease:["linear","initial",Te,st,lt]}],delay:[{delay:[Lt,st,lt]}],animate:[{animate:["none",Ce,st,lt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[le,st,lt]}],"perspective-origin":[{"perspective-origin":Xe()}],rotate:[{rotate:en()}],"rotate-x":[{"rotate-x":en()}],"rotate-y":[{"rotate-y":en()}],"rotate-z":[{"rotate-z":en()}],scale:[{scale:gt()}],"scale-x":[{"scale-x":gt()}],"scale-y":[{"scale-y":gt()}],"scale-z":[{"scale-z":gt()}],"scale-3d":["scale-3d"],skew:[{skew:xt()}],"skew-x":[{"skew-x":xt()}],"skew-y":[{"skew-y":xt()}],transform:[{transform:[st,lt,"","none","gpu","cpu"]}],"transform-origin":[{origin:Xe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:cn()}],"translate-x":[{"translate-x":cn()}],"translate-y":[{"translate-y":cn()}],"translate-z":[{"translate-z":cn()}],"translate-none":["translate-none"],accent:[{accent:be()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:be()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",st,lt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ee()}],"scroll-mx":[{"scroll-mx":ee()}],"scroll-my":[{"scroll-my":ee()}],"scroll-ms":[{"scroll-ms":ee()}],"scroll-me":[{"scroll-me":ee()}],"scroll-mbs":[{"scroll-mbs":ee()}],"scroll-mbe":[{"scroll-mbe":ee()}],"scroll-mt":[{"scroll-mt":ee()}],"scroll-mr":[{"scroll-mr":ee()}],"scroll-mb":[{"scroll-mb":ee()}],"scroll-ml":[{"scroll-ml":ee()}],"scroll-p":[{"scroll-p":ee()}],"scroll-px":[{"scroll-px":ee()}],"scroll-py":[{"scroll-py":ee()}],"scroll-ps":[{"scroll-ps":ee()}],"scroll-pe":[{"scroll-pe":ee()}],"scroll-pbs":[{"scroll-pbs":ee()}],"scroll-pbe":[{"scroll-pbe":ee()}],"scroll-pt":[{"scroll-pt":ee()}],"scroll-pr":[{"scroll-pr":ee()}],"scroll-pb":[{"scroll-pb":ee()}],"scroll-pl":[{"scroll-pl":ee()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",st,lt]}],fill:[{fill:["none",...be()]}],"stroke-w":[{stroke:[Lt,yo,Yl,fg]}],stroke:[{stroke:["none",...be()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},jp=bp(Pp);const z2=(...h)=>h.filter((g,m,y)=>!!g&&g.trim()!==""&&y.indexOf(g)===m).join(" ").trim();const Hp=h=>h.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Vp=h=>h.replace(/^([A-Z])|[\s-_]+(\w)/g,(g,m,y)=>y?y.toUpperCase():m.toLowerCase());const gg=h=>{const g=Vp(h);return g.charAt(0).toUpperCase()+g.slice(1)};var Gp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Xp=h=>{for(const g in h)if(g.startsWith("aria-")||g==="role"||g==="title")return!0;return!1};const qp=J.forwardRef(({color:h="currentColor",size:g=24,strokeWidth:m=2,absoluteStrokeWidth:y,className:E="",children:v,iconNode:T,...O},R)=>J.createElement("svg",{ref:R,...Gp,width:g,height:g,stroke:h,strokeWidth:y?Number(m)*24/Number(g):m,className:z2("lucide",E),...!v&&!Xp(O)&&{"aria-hidden":"true"},...O},[...T.map(([S,j])=>J.createElement(S,j)),...Array.isArray(v)?v:[v]]));const xn=(h,g)=>{const m=J.forwardRef(({className:y,...E},v)=>J.createElement(qp,{ref:v,iconNode:g,className:z2(`lucide-${Hp(gg(h))}`,`lucide-${h}`,y),...E}));return m.displayName=gg(h),m};const Yp=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],k0=xn("arrow-left",Yp);const Kp=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Zp=xn("camera",Kp);const Qp=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Wp=xn("check",Qp);const Jp=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$p=xn("chevron-down",Jp);const ey=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ty=xn("chevron-right",ey);const ny=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],A0=xn("circle-alert",ny);const ry=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],iy=xn("circle-check",ry);const ay=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ly=xn("copy",ay);const sy=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],oy=xn("eye-off",sy);const cy=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],mg=xn("file-image",cy);const uy=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],So=xn("fingerprint-pattern",uy);const fy=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],dy=xn("grip-vertical",fy);const hy=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],gy=xn("key",hy);const my=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],xy=xn("loader-circle",my);const py=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xg=xn("lock",py);const yy=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],by=xn("pencil",yy);const wy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vy=xn("plus",wy);const Ay=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Ey=xn("printer",Ay);const Cy=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],U2=xn("qr-code",Cy);const Sy=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],F2=xn("save",Sy);const Ty=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],_y=xn("settings-2",Ty);const Ny=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ry=xn("shield-check",Ny);const Oy=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Dy=xn("shield",Oy);const Iy=[["path",{d:"M11 19H4a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h5",key:"mtk2lu"}],["path",{d:"M13 5h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-5",key:"120jsl"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m18 22-3-3 3-3",key:"kgdoj7"}],["path",{d:"m6 2 3 3-3 3",key:"1fnbkv"}]],My=xn("switch-camera",Iy);const By=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ky=xn("tag",By);const Ly=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],pg=xn("trash-2",Ly);const zy=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],E0=xn("triangle-alert",zy);const Uy=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fy=xn("x",Uy);const Py=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],jy=xn("zoom-in",Py);const Hy=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Vy=xn("zoom-out",Hy);function Sr(...h){return jp(Jx(h))}const Kl=["","",""];function Pa({children:h,className:g,onClick:m}){return H.jsx("div",{onClick:m,className:Sr("bg-zinc-900 border border-zinc-800 rounded-2xl overflow-hidden transition-colors duration-200",m&&"cursor-pointer hover:border-zinc-600 hover:bg-zinc-800/80",g),children:h})}function Ir({children:h,variant:g="primary",size:m="md",className:y,...E}){const v={primary:"bg-blue-600 hover:bg-blue-500 text-white",secondary:"bg-zinc-800 hover:bg-zinc-700 text-zinc-200 border border-zinc-700",danger:"bg-red-600/10 hover:bg-red-600 text-red-400 hover:text-white border border-red-800",ghost:"bg-transparent hover:bg-zinc-800 text-zinc-400 hover:text-white"},T={sm:"px-4 py-2 text-xs",md:"px-5 py-2.5 text-sm",lg:"px-6 py-3 text-base"};return H.jsx("button",{className:Sr("rounded-xl font-semibold transition-all duration-200 active:scale-[0.97] disabled:opacity-40 disabled:pointer-events-none flex items-center justify-center gap-2",v[g],T[m],y),...E,children:h})}function Rs({label:h,error:g,...m}){const y=m.type==="textarea"?"textarea":"input";return H.jsxs("div",{className:"space-y-1.5",children:[h&&H.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:h}),H.jsx(y,{...m,className:Sr("w-full bg-zinc-950 border border-zinc-800 rounded-xl px-4 py-3 text-zinc-100 placeholder:text-zinc-600 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all",g&&"border-red-500 focus:border-red-500 focus:ring-red-500/20",m.className)}),g&&H.jsx("p",{className:"text-xs text-red-400 mt-1",children:g})]})}function P2({children:h,active:g,onClick:m}){return H.jsx("button",{onClick:m,className:Sr("px-4 py-2 rounded-full text-xs font-semibold transition-all duration-200 whitespace-nowrap",g?"bg-blue-600 text-white":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700 hover:text-zinc-200"),children:h})}function j2({isOpen:h,onClose:g,title:m,children:y,className:E}){return h?H.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-4",children:[H.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",onClick:g}),H.jsxs("div",{className:Sr("relative w-full max-w-md bg-zinc-900 border border-zinc-800 rounded-3xl shadow-2xl animate-in slide-in-from-bottom-5 sm:zoom-in-95 duration-200 overflow-hidden",E),children:[H.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-zinc-800",children:[H.jsx("h2",{className:"text-lg font-bold text-zinc-100 tracking-tight",children:m}),H.jsx("button",{onClick:g,className:"p-2 -mr-2 text-zinc-500 hover:text-zinc-200 hover:bg-zinc-800 rounded-full transition-all",children:H.jsx(Fy,{className:"w-5 h-5"})})]}),H.jsx("div",{className:"overflow-y-auto max-h-[80vh]",children:y})]})]}):null}function Gy({isOpen:h,onClose:g,onConfirm:m,title:y,description:E,confirmText:v="",cancelText:T="",variant:O="danger"}){return H.jsx(j2,{isOpen:h,onClose:g,title:y,children:H.jsxs("div",{className:"space-y-6 p-1",children:[H.jsxs("div",{className:"flex gap-4",children:[H.jsx("div",{className:Sr("w-12 h-12 rounded-2xl flex items-center justify-center shrink-0",O==="danger"?"bg-red-500/10 text-red-500":"bg-yellow-500/10 text-yellow-500"),children:H.jsx(E0,{className:"w-6 h-6"})}),H.jsx("p",{className:"text-sm text-zinc-400 leading-relaxed py-1",children:E})]}),H.jsxs("div",{className:"flex gap-3",children:[H.jsx(Ir,{variant:"ghost",className:"flex-1",onClick:g,children:T}),H.jsx(Ir,{variant:O==="danger"?"danger":"primary",className:"flex-1",onClick:()=>{m(),g()},children:v})]})]})})}function Xy(){for(var h=arguments.length,g=new Array(h),m=0;m<h;m++)g[m]=arguments[m];return J.useMemo(()=>y=>{g.forEach(E=>E(y))},g)}const Yc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ms(h){const g=Object.prototype.toString.call(h);return g==="[object Window]"||g==="[object global]"}function L0(h){return"nodeType"in h}function xi(h){var g,m;return h?Ms(h)?h:L0(h)&&(g=(m=h.ownerDocument)==null?void 0:m.defaultView)!=null?g:window:window}function z0(h){const{Document:g}=xi(h);return h instanceof g}function Oo(h){return Ms(h)?!1:h instanceof xi(h).HTMLElement}function H2(h){return h instanceof xi(h).SVGElement}function Bs(h){return h?Ms(h)?h.document:L0(h)?z0(h)?h:Oo(h)||H2(h)?h.ownerDocument:document:document:document}const ma=Yc?J.useLayoutEffect:J.useEffect;function U0(h){const g=J.useRef(h);return ma(()=>{g.current=h}),J.useCallback(function(){for(var m=arguments.length,y=new Array(m),E=0;E<m;E++)y[E]=arguments[E];return g.current==null?void 0:g.current(...y)},[])}function qy(){const h=J.useRef(null),g=J.useCallback((y,E)=>{h.current=setInterval(y,E)},[]),m=J.useCallback(()=>{h.current!==null&&(clearInterval(h.current),h.current=null)},[]);return[g,m]}function To(h,g){g===void 0&&(g=[h]);const m=J.useRef(h);return ma(()=>{m.current!==h&&(m.current=h)},g),m}function Do(h,g){const m=J.useRef();return J.useMemo(()=>{const y=h(m.current);return m.current=y,y},[...g])}function Pc(h){const g=U0(h),m=J.useRef(null),y=J.useCallback(E=>{E!==m.current&&g?.(E,m.current),m.current=E},[]);return[m,y]}function C0(h){const g=J.useRef();return J.useEffect(()=>{g.current=h},[h]),g.current}let Vf={};function Io(h,g){return J.useMemo(()=>{if(g)return g;const m=Vf[h]==null?0:Vf[h]+1;return Vf[h]=m,h+"-"+m},[h,g])}function V2(h){return function(g){for(var m=arguments.length,y=new Array(m>1?m-1:0),E=1;E<m;E++)y[E-1]=arguments[E];return y.reduce((v,T)=>{const O=Object.entries(T);for(const[R,S]of O){const j=v[R];j!=null&&(v[R]=j+h*S)}return v},{...g})}}const Is=V2(1),_o=V2(-1);function Yy(h){return"clientX"in h&&"clientY"in h}function F0(h){if(!h)return!1;const{KeyboardEvent:g}=xi(h.target);return g&&h instanceof g}function Ky(h){if(!h)return!1;const{TouchEvent:g}=xi(h.target);return g&&h instanceof g}function S0(h){if(Ky(h)){if(h.touches&&h.touches.length){const{clientX:g,clientY:m}=h.touches[0];return{x:g,y:m}}else if(h.changedTouches&&h.changedTouches.length){const{clientX:g,clientY:m}=h.changedTouches[0];return{x:g,y:m}}}return Yy(h)?{x:h.clientX,y:h.clientY}:null}const No=Object.freeze({Translate:{toString(h){if(!h)return;const{x:g,y:m}=h;return"translate3d("+(g?Math.round(g):0)+"px, "+(m?Math.round(m):0)+"px, 0)"}},Scale:{toString(h){if(!h)return;const{scaleX:g,scaleY:m}=h;return"scaleX("+g+") scaleY("+m+")"}},Transform:{toString(h){if(h)return[No.Translate.toString(h),No.Scale.toString(h)].join(" ")}},Transition:{toString(h){let{property:g,duration:m,easing:y}=h;return g+" "+m+"ms "+y}}}),yg="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Zy(h){return h.matches(yg)?h:h.querySelector(yg)}const Qy={display:"none"};function Wy(h){let{id:g,value:m}=h;return mi.createElement("div",{id:g,style:Qy},m)}function Jy(h){let{id:g,announcement:m,ariaLiveType:y="assertive"}=h;const E={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return mi.createElement("div",{id:g,style:E,role:"status","aria-live":y,"aria-atomic":!0},m)}function $y(){const[h,g]=J.useState("");return{announce:J.useCallback(y=>{y!=null&&g(y)},[]),announcement:h}}const G2=J.createContext(null);function eb(h){const g=J.useContext(G2);J.useEffect(()=>{if(!g)throw new Error("useDndMonitor must be used within a children of <DndContext>");return g(h)},[h,g])}function tb(){const[h]=J.useState(()=>new Set),g=J.useCallback(y=>(h.add(y),()=>h.delete(y)),[h]);return[J.useCallback(y=>{let{type:E,event:v}=y;h.forEach(T=>{var O;return(O=T[E])==null?void 0:O.call(T,v)})},[h]),g]}const nb={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},rb={onDragStart(h){let{active:g}=h;return"Picked up draggable item "+g.id+"."},onDragOver(h){let{active:g,over:m}=h;return m?"Draggable item "+g.id+" was moved over droppable area "+m.id+".":"Draggable item "+g.id+" is no longer over a droppable area."},onDragEnd(h){let{active:g,over:m}=h;return m?"Draggable item "+g.id+" was dropped over droppable area "+m.id:"Draggable item "+g.id+" was dropped."},onDragCancel(h){let{active:g}=h;return"Dragging was cancelled. Draggable item "+g.id+" was dropped."}};function ib(h){let{announcements:g=rb,container:m,hiddenTextDescribedById:y,screenReaderInstructions:E=nb}=h;const{announce:v,announcement:T}=$y(),O=Io("DndLiveRegion"),[R,S]=J.useState(!1);if(J.useEffect(()=>{S(!0)},[]),eb(J.useMemo(()=>({onDragStart(L){let{active:W}=L;v(g.onDragStart({active:W}))},onDragMove(L){let{active:W,over:K}=L;g.onDragMove&&v(g.onDragMove({active:W,over:K}))},onDragOver(L){let{active:W,over:K}=L;v(g.onDragOver({active:W,over:K}))},onDragEnd(L){let{active:W,over:K}=L;v(g.onDragEnd({active:W,over:K}))},onDragCancel(L){let{active:W,over:K}=L;v(g.onDragCancel({active:W,over:K}))}}),[v,g])),!R)return null;const j=mi.createElement(mi.Fragment,null,mi.createElement(Wy,{id:y,value:E.draggable}),mi.createElement(Jy,{id:O,announcement:T}));return m?Ns.createPortal(j,m):j}var Cr;(function(h){h.DragStart="dragStart",h.DragMove="dragMove",h.DragEnd="dragEnd",h.DragCancel="dragCancel",h.DragOver="dragOver",h.RegisterDroppable="registerDroppable",h.SetDroppableDisabled="setDroppableDisabled",h.UnregisterDroppable="unregisterDroppable"})(Cr||(Cr={}));function jc(){}function Gf(h,g){return J.useMemo(()=>({sensor:h,options:g??{}}),[h,g])}function ab(){for(var h=arguments.length,g=new Array(h),m=0;m<h;m++)g[m]=arguments[m];return J.useMemo(()=>[...g].filter(y=>y!=null),[...g])}const na=Object.freeze({x:0,y:0});function X2(h,g){return Math.sqrt(Math.pow(h.x-g.x,2)+Math.pow(h.y-g.y,2))}function q2(h,g){let{data:{value:m}}=h,{data:{value:y}}=g;return m-y}function lb(h,g){let{data:{value:m}}=h,{data:{value:y}}=g;return y-m}function bg(h){let{left:g,top:m,height:y,width:E}=h;return[{x:g,y:m},{x:g+E,y:m},{x:g,y:m+y},{x:g+E,y:m+y}]}function Y2(h,g){if(!h||h.length===0)return null;const[m]=h;return m[g]}function wg(h,g,m){return g===void 0&&(g=h.left),m===void 0&&(m=h.top),{x:g+h.width*.5,y:m+h.height*.5}}const vg=h=>{let{collisionRect:g,droppableRects:m,droppableContainers:y}=h;const E=wg(g,g.left,g.top),v=[];for(const T of y){const{id:O}=T,R=m.get(O);if(R){const S=X2(wg(R),E);v.push({id:O,data:{droppableContainer:T,value:S}})}}return v.sort(q2)},sb=h=>{let{collisionRect:g,droppableRects:m,droppableContainers:y}=h;const E=bg(g),v=[];for(const T of y){const{id:O}=T,R=m.get(O);if(R){const S=bg(R),j=E.reduce((W,K,Ee)=>W+X2(S[Ee],K),0),L=Number((j/4).toFixed(4));v.push({id:O,data:{droppableContainer:T,value:L}})}}return v.sort(q2)};function ob(h,g){const m=Math.max(g.top,h.top),y=Math.max(g.left,h.left),E=Math.min(g.left+g.width,h.left+h.width),v=Math.min(g.top+g.height,h.top+h.height),T=E-y,O=v-m;if(y<E&&m<v){const R=g.width*g.height,S=h.width*h.height,j=T*O,L=j/(R+S-j);return Number(L.toFixed(4))}return 0}const cb=h=>{let{collisionRect:g,droppableRects:m,droppableContainers:y}=h;const E=[];for(const v of y){const{id:T}=v,O=m.get(T);if(O){const R=ob(O,g);R>0&&E.push({id:T,data:{droppableContainer:v,value:R}})}}return E.sort(lb)};function ub(h,g,m){return{...h,scaleX:g&&m?g.width/m.width:1,scaleY:g&&m?g.height/m.height:1}}function K2(h,g){return h&&g?{x:h.left-g.left,y:h.top-g.top}:na}function fb(h){return function(m){for(var y=arguments.length,E=new Array(y>1?y-1:0),v=1;v<y;v++)E[v-1]=arguments[v];return E.reduce((T,O)=>({...T,top:T.top+h*O.y,bottom:T.bottom+h*O.y,left:T.left+h*O.x,right:T.right+h*O.x}),{...m})}}const db=fb(1);function hb(h){if(h.startsWith("matrix3d(")){const g=h.slice(9,-1).split(/, /);return{x:+g[12],y:+g[13],scaleX:+g[0],scaleY:+g[5]}}else if(h.startsWith("matrix(")){const g=h.slice(7,-1).split(/, /);return{x:+g[4],y:+g[5],scaleX:+g[0],scaleY:+g[3]}}return null}function gb(h,g,m){const y=hb(g);if(!y)return h;const{scaleX:E,scaleY:v,x:T,y:O}=y,R=h.left-T-(1-E)*parseFloat(m),S=h.top-O-(1-v)*parseFloat(m.slice(m.indexOf(" ")+1)),j=E?h.width/E:h.width,L=v?h.height/v:h.height;return{width:j,height:L,top:S,right:R+j,bottom:S+L,left:R}}const mb={ignoreTransform:!1};function ks(h,g){g===void 0&&(g=mb);let m=h.getBoundingClientRect();if(g.ignoreTransform){const{transform:S,transformOrigin:j}=xi(h).getComputedStyle(h);S&&(m=gb(m,S,j))}const{top:y,left:E,width:v,height:T,bottom:O,right:R}=m;return{top:y,left:E,width:v,height:T,bottom:O,right:R}}function Ag(h){return ks(h,{ignoreTransform:!0})}function xb(h){const g=h.innerWidth,m=h.innerHeight;return{top:0,left:0,right:g,bottom:m,width:g,height:m}}function pb(h,g){return g===void 0&&(g=xi(h).getComputedStyle(h)),g.position==="fixed"}function yb(h,g){g===void 0&&(g=xi(h).getComputedStyle(h));const m=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(E=>{const v=g[E];return typeof v=="string"?m.test(v):!1})}function Kc(h,g){const m=[];function y(E){if(g!=null&&m.length>=g||!E)return m;if(z0(E)&&E.scrollingElement!=null&&!m.includes(E.scrollingElement))return m.push(E.scrollingElement),m;if(!Oo(E)||H2(E)||m.includes(E))return m;const v=xi(h).getComputedStyle(E);return E!==h&&yb(E,v)&&m.push(E),pb(E,v)?m:y(E.parentNode)}return h?y(h):m}function Z2(h){const[g]=Kc(h,1);return g??null}function Xf(h){return!Yc||!h?null:Ms(h)?h:L0(h)?z0(h)||h===Bs(h).scrollingElement?window:Oo(h)?h:null:null}function Q2(h){return Ms(h)?h.scrollX:h.scrollLeft}function W2(h){return Ms(h)?h.scrollY:h.scrollTop}function T0(h){return{x:Q2(h),y:W2(h)}}var Dr;(function(h){h[h.Forward=1]="Forward",h[h.Backward=-1]="Backward"})(Dr||(Dr={}));function J2(h){return!Yc||!h?!1:h===document.scrollingElement}function $2(h){const g={x:0,y:0},m=J2(h)?{height:window.innerHeight,width:window.innerWidth}:{height:h.clientHeight,width:h.clientWidth},y={x:h.scrollWidth-m.width,y:h.scrollHeight-m.height},E=h.scrollTop<=g.y,v=h.scrollLeft<=g.x,T=h.scrollTop>=y.y,O=h.scrollLeft>=y.x;return{isTop:E,isLeft:v,isBottom:T,isRight:O,maxScroll:y,minScroll:g}}const bb={x:.2,y:.2};function wb(h,g,m,y,E){let{top:v,left:T,right:O,bottom:R}=m;y===void 0&&(y=10),E===void 0&&(E=bb);const{isTop:S,isBottom:j,isLeft:L,isRight:W}=$2(h),K={x:0,y:0},Ee={x:0,y:0},le={height:g.height*E.y,width:g.width*E.x};return!S&&v<=g.top+le.height?(K.y=Dr.Backward,Ee.y=y*Math.abs((g.top+le.height-v)/le.height)):!j&&R>=g.bottom-le.height&&(K.y=Dr.Forward,Ee.y=y*Math.abs((g.bottom-le.height-R)/le.height)),!W&&O>=g.right-le.width?(K.x=Dr.Forward,Ee.x=y*Math.abs((g.right-le.width-O)/le.width)):!L&&T<=g.left+le.width&&(K.x=Dr.Backward,Ee.x=y*Math.abs((g.left+le.width-T)/le.width)),{direction:K,speed:Ee}}function vb(h){if(h===document.scrollingElement){const{innerWidth:v,innerHeight:T}=window;return{top:0,left:0,right:v,bottom:T,width:v,height:T}}const{top:g,left:m,right:y,bottom:E}=h.getBoundingClientRect();return{top:g,left:m,right:y,bottom:E,width:h.clientWidth,height:h.clientHeight}}function em(h){return h.reduce((g,m)=>Is(g,T0(m)),na)}function Ab(h){return h.reduce((g,m)=>g+Q2(m),0)}function Eb(h){return h.reduce((g,m)=>g+W2(m),0)}function Cb(h,g){if(g===void 0&&(g=ks),!h)return;const{top:m,left:y,bottom:E,right:v}=g(h);Z2(h)&&(E<=0||v<=0||m>=window.innerHeight||y>=window.innerWidth)&&h.scrollIntoView({block:"center",inline:"center"})}const Sb=[["x",["left","right"],Ab],["y",["top","bottom"],Eb]];class P0{constructor(g,m){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const y=Kc(m),E=em(y);this.rect={...g},this.width=g.width,this.height=g.height;for(const[v,T,O]of Sb)for(const R of T)Object.defineProperty(this,R,{get:()=>{const S=O(y),j=E[v]-S;return this.rect[R]+j},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ao{constructor(g){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(m=>{var y;return(y=this.target)==null?void 0:y.removeEventListener(...m)})},this.target=g}add(g,m,y){var E;(E=this.target)==null||E.addEventListener(g,m,y),this.listeners.push([g,m,y])}}function Tb(h){const{EventTarget:g}=xi(h);return h instanceof g?h:Bs(h)}function qf(h,g){const m=Math.abs(h.x),y=Math.abs(h.y);return typeof g=="number"?Math.sqrt(m**2+y**2)>g:"x"in g&&"y"in g?m>g.x&&y>g.y:"x"in g?m>g.x:"y"in g?y>g.y:!1}var qi;(function(h){h.Click="click",h.DragStart="dragstart",h.Keydown="keydown",h.ContextMenu="contextmenu",h.Resize="resize",h.SelectionChange="selectionchange",h.VisibilityChange="visibilitychange"})(qi||(qi={}));function Eg(h){h.preventDefault()}function _b(h){h.stopPropagation()}var Qt;(function(h){h.Space="Space",h.Down="ArrowDown",h.Right="ArrowRight",h.Left="ArrowLeft",h.Up="ArrowUp",h.Esc="Escape",h.Enter="Enter",h.Tab="Tab"})(Qt||(Qt={}));const tm={start:[Qt.Space,Qt.Enter],cancel:[Qt.Esc],end:[Qt.Space,Qt.Enter,Qt.Tab]},Nb=(h,g)=>{let{currentCoordinates:m}=g;switch(h.code){case Qt.Right:return{...m,x:m.x+25};case Qt.Left:return{...m,x:m.x-25};case Qt.Down:return{...m,y:m.y+25};case Qt.Up:return{...m,y:m.y-25}}};class j0{constructor(g){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=g;const{event:{target:m}}=g;this.props=g,this.listeners=new Ao(Bs(m)),this.windowListeners=new Ao(xi(m)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(qi.Resize,this.handleCancel),this.windowListeners.add(qi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(qi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:g,onStart:m}=this.props,y=g.node.current;y&&Cb(y),m(na)}handleKeyDown(g){if(F0(g)){const{active:m,context:y,options:E}=this.props,{keyboardCodes:v=tm,coordinateGetter:T=Nb,scrollBehavior:O="smooth"}=E,{code:R}=g;if(v.end.includes(R)){this.handleEnd(g);return}if(v.cancel.includes(R)){this.handleCancel(g);return}const{collisionRect:S}=y.current,j=S?{x:S.left,y:S.top}:na;this.referenceCoordinates||(this.referenceCoordinates=j);const L=T(g,{active:m,context:y.current,currentCoordinates:j});if(L){const W=_o(L,j),K={x:0,y:0},{scrollableAncestors:Ee}=y.current;for(const le of Ee){const Se=g.code,{isTop:Te,isRight:Ce,isLeft:se,isBottom:me,maxScroll:Xe,minScroll:he}=$2(le),X=vb(le),ee={x:Math.min(Se===Qt.Right?X.right-X.width/2:X.right,Math.max(Se===Qt.Right?X.left:X.left+X.width/2,L.x)),y:Math.min(Se===Qt.Down?X.bottom-X.height/2:X.bottom,Math.max(Se===Qt.Down?X.top:X.top+X.height/2,L.y))},Q=Se===Qt.Right&&!Ce||Se===Qt.Left&&!se,je=Se===Qt.Down&&!me||Se===Qt.Up&&!Te;if(Q&&ee.x!==L.x){const Me=le.scrollLeft+W.x,we=Se===Qt.Right&&Me<=Xe.x||Se===Qt.Left&&Me>=he.x;if(we&&!W.y){le.scrollTo({left:Me,behavior:O});return}we?K.x=le.scrollLeft-Me:K.x=Se===Qt.Right?le.scrollLeft-Xe.x:le.scrollLeft-he.x,K.x&&le.scrollBy({left:-K.x,behavior:O});break}else if(je&&ee.y!==L.y){const Me=le.scrollTop+W.y,we=Se===Qt.Down&&Me<=Xe.y||Se===Qt.Up&&Me>=he.y;if(we&&!W.x){le.scrollTo({top:Me,behavior:O});return}we?K.y=le.scrollTop-Me:K.y=Se===Qt.Down?le.scrollTop-Xe.y:le.scrollTop-he.y,K.y&&le.scrollBy({top:-K.y,behavior:O});break}}this.handleMove(g,Is(_o(L,this.referenceCoordinates),K))}}}handleMove(g,m){const{onMove:y}=this.props;g.preventDefault(),y(m)}handleEnd(g){const{onEnd:m}=this.props;g.preventDefault(),this.detach(),m()}handleCancel(g){const{onCancel:m}=this.props;g.preventDefault(),this.detach(),m()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}j0.activators=[{eventName:"onKeyDown",handler:(h,g,m)=>{let{keyboardCodes:y=tm,onActivation:E}=g,{active:v}=m;const{code:T}=h.nativeEvent;if(y.start.includes(T)){const O=v.activatorNode.current;return O&&h.target!==O?!1:(h.preventDefault(),E?.({event:h.nativeEvent}),!0)}return!1}}];function Cg(h){return!!(h&&"distance"in h)}function Sg(h){return!!(h&&"delay"in h)}class H0{constructor(g,m,y){var E;y===void 0&&(y=Tb(g.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=g,this.events=m;const{event:v}=g,{target:T}=v;this.props=g,this.events=m,this.document=Bs(T),this.documentListeners=new Ao(this.document),this.listeners=new Ao(y),this.windowListeners=new Ao(xi(T)),this.initialCoordinates=(E=S0(v))!=null?E:na,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:g,props:{options:{activationConstraint:m,bypassActivationConstraint:y}}}=this;if(this.listeners.add(g.move.name,this.handleMove,{passive:!1}),this.listeners.add(g.end.name,this.handleEnd),g.cancel&&this.listeners.add(g.cancel.name,this.handleCancel),this.windowListeners.add(qi.Resize,this.handleCancel),this.windowListeners.add(qi.DragStart,Eg),this.windowListeners.add(qi.VisibilityChange,this.handleCancel),this.windowListeners.add(qi.ContextMenu,Eg),this.documentListeners.add(qi.Keydown,this.handleKeydown),m){if(y!=null&&y({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Sg(m)){this.timeoutId=setTimeout(this.handleStart,m.delay),this.handlePending(m);return}if(Cg(m)){this.handlePending(m);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(g,m){const{active:y,onPending:E}=this.props;E(y,g,this.initialCoordinates,m)}handleStart(){const{initialCoordinates:g}=this,{onStart:m}=this.props;g&&(this.activated=!0,this.documentListeners.add(qi.Click,_b,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(qi.SelectionChange,this.removeTextSelection),m(g))}handleMove(g){var m;const{activated:y,initialCoordinates:E,props:v}=this,{onMove:T,options:{activationConstraint:O}}=v;if(!E)return;const R=(m=S0(g))!=null?m:na,S=_o(E,R);if(!y&&O){if(Cg(O)){if(O.tolerance!=null&&qf(S,O.tolerance))return this.handleCancel();if(qf(S,O.distance))return this.handleStart()}if(Sg(O)&&qf(S,O.tolerance))return this.handleCancel();this.handlePending(O,S);return}g.cancelable&&g.preventDefault(),T(R)}handleEnd(){const{onAbort:g,onEnd:m}=this.props;this.detach(),this.activated||g(this.props.active),m()}handleCancel(){const{onAbort:g,onCancel:m}=this.props;this.detach(),this.activated||g(this.props.active),m()}handleKeydown(g){g.code===Qt.Esc&&this.handleCancel()}removeTextSelection(){var g;(g=this.document.getSelection())==null||g.removeAllRanges()}}const Rb={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class V0 extends H0{constructor(g){const{event:m}=g,y=Bs(m.target);super(g,Rb,y)}}V0.activators=[{eventName:"onPointerDown",handler:(h,g)=>{let{nativeEvent:m}=h,{onActivation:y}=g;return!m.isPrimary||m.button!==0?!1:(y?.({event:m}),!0)}}];const Ob={move:{name:"mousemove"},end:{name:"mouseup"}};var _0;(function(h){h[h.RightClick=2]="RightClick"})(_0||(_0={}));class Db extends H0{constructor(g){super(g,Ob,Bs(g.event.target))}}Db.activators=[{eventName:"onMouseDown",handler:(h,g)=>{let{nativeEvent:m}=h,{onActivation:y}=g;return m.button===_0.RightClick?!1:(y?.({event:m}),!0)}}];const Yf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class nm extends H0{constructor(g){super(g,Yf)}static setup(){return window.addEventListener(Yf.move.name,g,{capture:!1,passive:!1}),function(){window.removeEventListener(Yf.move.name,g)};function g(){}}}nm.activators=[{eventName:"onTouchStart",handler:(h,g)=>{let{nativeEvent:m}=h,{onActivation:y}=g;const{touches:E}=m;return E.length>1?!1:(y?.({event:m}),!0)}}];var Eo;(function(h){h[h.Pointer=0]="Pointer",h[h.DraggableRect=1]="DraggableRect"})(Eo||(Eo={}));var Hc;(function(h){h[h.TreeOrder=0]="TreeOrder",h[h.ReversedTreeOrder=1]="ReversedTreeOrder"})(Hc||(Hc={}));function Ib(h){let{acceleration:g,activator:m=Eo.Pointer,canScroll:y,draggingRect:E,enabled:v,interval:T=5,order:O=Hc.TreeOrder,pointerCoordinates:R,scrollableAncestors:S,scrollableAncestorRects:j,delta:L,threshold:W}=h;const K=Bb({delta:L,disabled:!v}),[Ee,le]=qy(),Se=J.useRef({x:0,y:0}),Te=J.useRef({x:0,y:0}),Ce=J.useMemo(()=>{switch(m){case Eo.Pointer:return R?{top:R.y,bottom:R.y,left:R.x,right:R.x}:null;case Eo.DraggableRect:return E}},[m,E,R]),se=J.useRef(null),me=J.useCallback(()=>{const he=se.current;if(!he)return;const X=Se.current.x*Te.current.x,ee=Se.current.y*Te.current.y;he.scrollBy(X,ee)},[]),Xe=J.useMemo(()=>O===Hc.TreeOrder?[...S].reverse():S,[O,S]);J.useEffect(()=>{if(!v||!S.length||!Ce){le();return}for(const he of Xe){if(y?.(he)===!1)continue;const X=S.indexOf(he),ee=j[X];if(!ee)continue;const{direction:Q,speed:je}=wb(he,ee,Ce,g,W);for(const Me of["x","y"])K[Me][Q[Me]]||(je[Me]=0,Q[Me]=0);if(je.x>0||je.y>0){le(),se.current=he,Ee(me,T),Se.current=je,Te.current=Q;return}}Se.current={x:0,y:0},Te.current={x:0,y:0},le()},[g,me,y,le,v,T,JSON.stringify(Ce),JSON.stringify(K),Ee,S,Xe,j,JSON.stringify(W)])}const Mb={x:{[Dr.Backward]:!1,[Dr.Forward]:!1},y:{[Dr.Backward]:!1,[Dr.Forward]:!1}};function Bb(h){let{delta:g,disabled:m}=h;const y=C0(g);return Do(E=>{if(m||!y||!E)return Mb;const v={x:Math.sign(g.x-y.x),y:Math.sign(g.y-y.y)};return{x:{[Dr.Backward]:E.x[Dr.Backward]||v.x===-1,[Dr.Forward]:E.x[Dr.Forward]||v.x===1},y:{[Dr.Backward]:E.y[Dr.Backward]||v.y===-1,[Dr.Forward]:E.y[Dr.Forward]||v.y===1}}},[m,g,y])}function kb(h,g){const m=g!=null?h.get(g):void 0,y=m?m.node.current:null;return Do(E=>{var v;return g==null?null:(v=y??E)!=null?v:null},[y,g])}function Lb(h,g){return J.useMemo(()=>h.reduce((m,y)=>{const{sensor:E}=y,v=E.activators.map(T=>({eventName:T.eventName,handler:g(T.handler,y)}));return[...m,...v]},[]),[h,g])}var Ro;(function(h){h[h.Always=0]="Always",h[h.BeforeDragging=1]="BeforeDragging",h[h.WhileDragging=2]="WhileDragging"})(Ro||(Ro={}));var N0;(function(h){h.Optimized="optimized"})(N0||(N0={}));const Tg=new Map;function zb(h,g){let{dragging:m,dependencies:y,config:E}=g;const[v,T]=J.useState(null),{frequency:O,measure:R,strategy:S}=E,j=J.useRef(h),L=Se(),W=To(L),K=J.useCallback(function(Te){Te===void 0&&(Te=[]),!W.current&&T(Ce=>Ce===null?Te:Ce.concat(Te.filter(se=>!Ce.includes(se))))},[W]),Ee=J.useRef(null),le=Do(Te=>{if(L&&!m)return Tg;if(!Te||Te===Tg||j.current!==h||v!=null){const Ce=new Map;for(let se of h){if(!se)continue;if(v&&v.length>0&&!v.includes(se.id)&&se.rect.current){Ce.set(se.id,se.rect.current);continue}const me=se.node.current,Xe=me?new P0(R(me),me):null;se.rect.current=Xe,Xe&&Ce.set(se.id,Xe)}return Ce}return Te},[h,v,m,L,R]);return J.useEffect(()=>{j.current=h},[h]),J.useEffect(()=>{L||K()},[m,L]),J.useEffect(()=>{v&&v.length>0&&T(null)},[JSON.stringify(v)]),J.useEffect(()=>{L||typeof O!="number"||Ee.current!==null||(Ee.current=setTimeout(()=>{K(),Ee.current=null},O))},[O,L,K,...y]),{droppableRects:le,measureDroppableContainers:K,measuringScheduled:v!=null};function Se(){switch(S){case Ro.Always:return!1;case Ro.BeforeDragging:return m;default:return!m}}}function rm(h,g){return Do(m=>h?m||(typeof g=="function"?g(h):h):null,[g,h])}function Ub(h,g){return rm(h,g)}function Fb(h){let{callback:g,disabled:m}=h;const y=U0(g),E=J.useMemo(()=>{if(m||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:v}=window;return new v(y)},[y,m]);return J.useEffect(()=>()=>E?.disconnect(),[E]),E}function Zc(h){let{callback:g,disabled:m}=h;const y=U0(g),E=J.useMemo(()=>{if(m||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:v}=window;return new v(y)},[m]);return J.useEffect(()=>()=>E?.disconnect(),[E]),E}function Pb(h){return new P0(ks(h),h)}function _g(h,g,m){g===void 0&&(g=Pb);const[y,E]=J.useState(null);function v(){E(R=>{if(!h)return null;if(h.isConnected===!1){var S;return(S=R??m)!=null?S:null}const j=g(h);return JSON.stringify(R)===JSON.stringify(j)?R:j})}const T=Fb({callback(R){if(h)for(const S of R){const{type:j,target:L}=S;if(j==="childList"&&L instanceof HTMLElement&&L.contains(h)){v();break}}}}),O=Zc({callback:v});return ma(()=>{v(),h?(O?.observe(h),T?.observe(document.body,{childList:!0,subtree:!0})):(O?.disconnect(),T?.disconnect())},[h]),y}function jb(h){const g=rm(h);return K2(h,g)}const Ng=[];function Hb(h){const g=J.useRef(h),m=Do(y=>h?y&&y!==Ng&&h&&g.current&&h.parentNode===g.current.parentNode?y:Kc(h):Ng,[h]);return J.useEffect(()=>{g.current=h},[h]),m}function Vb(h){const[g,m]=J.useState(null),y=J.useRef(h),E=J.useCallback(v=>{const T=Xf(v.target);T&&m(O=>O?(O.set(T,T0(T)),new Map(O)):null)},[]);return J.useEffect(()=>{const v=y.current;if(h!==v){T(v);const O=h.map(R=>{const S=Xf(R);return S?(S.addEventListener("scroll",E,{passive:!0}),[S,T0(S)]):null}).filter(R=>R!=null);m(O.length?new Map(O):null),y.current=h}return()=>{T(h),T(v)};function T(O){O.forEach(R=>{const S=Xf(R);S?.removeEventListener("scroll",E)})}},[E,h]),J.useMemo(()=>h.length?g?Array.from(g.values()).reduce((v,T)=>Is(v,T),na):em(h):na,[h,g])}function Rg(h,g){g===void 0&&(g=[]);const m=J.useRef(null);return J.useEffect(()=>{m.current=null},g),J.useEffect(()=>{const y=h!==na;y&&!m.current&&(m.current=h),!y&&m.current&&(m.current=null)},[h]),m.current?_o(h,m.current):na}function Gb(h){J.useEffect(()=>{if(!Yc)return;const g=h.map(m=>{let{sensor:y}=m;return y.setup==null?void 0:y.setup()});return()=>{for(const m of g)m?.()}},h.map(g=>{let{sensor:m}=g;return m}))}function Xb(h,g){return J.useMemo(()=>h.reduce((m,y)=>{let{eventName:E,handler:v}=y;return m[E]=T=>{v(T,g)},m},{}),[h,g])}function im(h){return J.useMemo(()=>h?xb(h):null,[h])}const Og=[];function qb(h,g){g===void 0&&(g=ks);const[m]=h,y=im(m?xi(m):null),[E,v]=J.useState(Og);function T(){v(()=>h.length?h.map(R=>J2(R)?y:new P0(g(R),R)):Og)}const O=Zc({callback:T});return ma(()=>{O?.disconnect(),T(),h.forEach(R=>O?.observe(R))},[h]),E}function Yb(h){if(!h)return null;if(h.children.length>1)return h;const g=h.children[0];return Oo(g)?g:h}function Kb(h){let{measure:g}=h;const[m,y]=J.useState(null),E=J.useCallback(S=>{for(const{target:j}of S)if(Oo(j)){y(L=>{const W=g(j);return L?{...L,width:W.width,height:W.height}:W});break}},[g]),v=Zc({callback:E}),T=J.useCallback(S=>{const j=Yb(S);v?.disconnect(),j&&v?.observe(j),y(j?g(j):null)},[g,v]),[O,R]=Pc(T);return J.useMemo(()=>({nodeRef:O,rect:m,setRef:R}),[m,O,R])}const Zb=[{sensor:V0,options:{}},{sensor:j0,options:{}}],Qb={current:{}},zc={draggable:{measure:Ag},droppable:{measure:Ag,strategy:Ro.WhileDragging,frequency:N0.Optimized},dragOverlay:{measure:ks}};class Co extends Map{get(g){var m;return g!=null&&(m=super.get(g))!=null?m:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(g=>{let{disabled:m}=g;return!m})}getNodeFor(g){var m,y;return(m=(y=this.get(g))==null?void 0:y.node.current)!=null?m:void 0}}const Wb={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Co,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:jc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:zc,measureDroppableContainers:jc,windowRect:null,measuringScheduled:!1},Jb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:jc,draggableNodes:new Map,over:null,measureDroppableContainers:jc},Qc=J.createContext(Jb),am=J.createContext(Wb);function $b(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Co}}}function ew(h,g){switch(g.type){case Cr.DragStart:return{...h,draggable:{...h.draggable,initialCoordinates:g.initialCoordinates,active:g.active}};case Cr.DragMove:return h.draggable.active==null?h:{...h,draggable:{...h.draggable,translate:{x:g.coordinates.x-h.draggable.initialCoordinates.x,y:g.coordinates.y-h.draggable.initialCoordinates.y}}};case Cr.DragEnd:case Cr.DragCancel:return{...h,draggable:{...h.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Cr.RegisterDroppable:{const{element:m}=g,{id:y}=m,E=new Co(h.droppable.containers);return E.set(y,m),{...h,droppable:{...h.droppable,containers:E}}}case Cr.SetDroppableDisabled:{const{id:m,key:y,disabled:E}=g,v=h.droppable.containers.get(m);if(!v||y!==v.key)return h;const T=new Co(h.droppable.containers);return T.set(m,{...v,disabled:E}),{...h,droppable:{...h.droppable,containers:T}}}case Cr.UnregisterDroppable:{const{id:m,key:y}=g,E=h.droppable.containers.get(m);if(!E||y!==E.key)return h;const v=new Co(h.droppable.containers);return v.delete(m),{...h,droppable:{...h.droppable,containers:v}}}default:return h}}function tw(h){let{disabled:g}=h;const{active:m,activatorEvent:y,draggableNodes:E}=J.useContext(Qc),v=C0(y),T=C0(m?.id);return J.useEffect(()=>{if(!g&&!y&&v&&T!=null){if(!F0(v)||document.activeElement===v.target)return;const O=E.get(T);if(!O)return;const{activatorNode:R,node:S}=O;if(!R.current&&!S.current)return;requestAnimationFrame(()=>{for(const j of[R.current,S.current]){if(!j)continue;const L=Zy(j);if(L){L.focus();break}}})}},[y,g,E,T,v]),null}function nw(h,g){let{transform:m,...y}=g;return h!=null&&h.length?h.reduce((E,v)=>v({transform:E,...y}),m):m}function rw(h){return J.useMemo(()=>({draggable:{...zc.draggable,...h?.draggable},droppable:{...zc.droppable,...h?.droppable},dragOverlay:{...zc.dragOverlay,...h?.dragOverlay}}),[h?.draggable,h?.droppable,h?.dragOverlay])}function iw(h){let{activeNode:g,measure:m,initialRect:y,config:E=!0}=h;const v=J.useRef(!1),{x:T,y:O}=typeof E=="boolean"?{x:E,y:E}:E;ma(()=>{if(!T&&!O||!g){v.current=!1;return}if(v.current||!y)return;const S=g?.node.current;if(!S||S.isConnected===!1)return;const j=m(S),L=K2(j,y);if(T||(L.x=0),O||(L.y=0),v.current=!0,Math.abs(L.x)>0||Math.abs(L.y)>0){const W=Z2(S);W&&W.scrollBy({top:L.y,left:L.x})}},[g,T,O,y,m])}const lm=J.createContext({...na,scaleX:1,scaleY:1});var Cl;(function(h){h[h.Uninitialized=0]="Uninitialized",h[h.Initializing=1]="Initializing",h[h.Initialized=2]="Initialized"})(Cl||(Cl={}));const Dg=J.memo(function(g){var m,y,E,v;let{id:T,accessibility:O,autoScroll:R=!0,children:S,sensors:j=Zb,collisionDetection:L=cb,measuring:W,modifiers:K,...Ee}=g;const le=J.useReducer(ew,void 0,$b),[Se,Te]=le,[Ce,se]=tb(),[me,Xe]=J.useState(Cl.Uninitialized),he=me===Cl.Initialized,{draggable:{active:X,nodes:ee,translate:Q},droppable:{containers:je}}=Se,Me=X!=null?ee.get(X):null,we=J.useRef({initial:null,translated:null}),ae=J.useMemo(()=>{var ln;return X!=null?{id:X,data:(ln=Me?.data)!=null?ln:Qb,rect:we}:null},[X,Me]),Re=J.useRef(null),[$,re]=J.useState(null),[pe,qe]=J.useState(null),tt=To(Ee,Object.values(Ee)),be=Io("DndDescribedBy",T),Y=J.useMemo(()=>je.getEnabled(),[je]),ue=rw(W),{droppableRects:ze,measureDroppableContainers:_e,measuringScheduled:He}=zb(Y,{dragging:he,dependencies:[Q.x,Q.y],config:ue.droppable}),Ae=kb(ee,X),Je=J.useMemo(()=>pe?S0(pe):null,[pe]),We=Rt(),it=Ub(Ae,ue.draggable.measure);iw({activeNode:X!=null?ee.get(X):null,config:We.layoutShiftCompensation,initialRect:it,measure:ue.draggable.measure});const Ue=_g(Ae,ue.draggable.measure,it),en=_g(Ae?Ae.parentElement:null),gt=J.useRef({activatorEvent:null,active:null,activeNode:Ae,collisionRect:null,collisions:null,droppableRects:ze,draggableNodes:ee,draggingNode:null,draggingNodeRect:null,droppableContainers:je,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),xt=je.getNodeFor((m=gt.current.over)==null?void 0:m.id),cn=Kb({measure:ue.dragOverlay.measure}),pn=(y=cn.nodeRef.current)!=null?y:Ae,Tr=he?(E=cn.rect)!=null?E:Ue:null,Gn=!!(cn.nodeRef.current&&cn.rect),Wt=jb(Gn?null:Ue),_t=im(pn?xi(pn):null),ir=Hb(he?xt??Ae:null),Ke=qb(ir),ti=nw(K,{transform:{x:Q.x-Wt.x,y:Q.y-Wt.y,scaleX:1,scaleY:1},activatorEvent:pe,active:ae,activeNodeRect:Ue,containerNodeRect:en,draggingNodeRect:Tr,over:gt.current.over,overlayNodeRect:cn.rect,scrollableAncestors:ir,scrollableAncestorRects:Ke,windowRect:_t}),pi=Je?Is(Je,Q):null,yn=Vb(ir),yi=Rg(yn),dn=Rg(yn,[Ue]),dr=Is(ti,yi),Xn=Tr?db(Tr,ti):null,bn=ae&&Xn?L({active:ae,collisionRect:Xn,droppableRects:ze,droppableContainers:Y,pointerCoordinates:pi}):null,ki=Y2(bn,"id"),[hr,ni]=J.useState(null),tn=Gn?ti:Is(ti,dn),Fe=ub(tn,(v=hr?.rect)!=null?v:null,Ue),Dt=J.useRef(null),Le=J.useCallback((ln,Sn)=>{let{sensor:qn,options:hn}=Sn;if(Re.current==null)return;const gr=ee.get(Re.current);if(!gr)return;const Xt=ln.nativeEvent,Tn=new qn({active:Re.current,activeNode:gr,event:Xt,options:hn,context:gt,onAbort(Jt){if(!ee.get(Jt))return;const{onDragAbort:vt}=tt.current,qt={id:Jt};vt?.(qt),Ce({type:"onDragAbort",event:qt})},onPending(Jt,Nr,vt,qt){if(!ee.get(Jt))return;const{onDragPending:Wn}=tt.current,wn={id:Jt,constraint:Nr,initialCoordinates:vt,offset:qt};Wn?.(wn),Ce({type:"onDragPending",event:wn})},onStart(Jt){const Nr=Re.current;if(Nr==null)return;const vt=ee.get(Nr);if(!vt)return;const{onDragStart:qt}=tt.current,zn={activatorEvent:Xt,active:{id:Nr,data:vt.data,rect:we}};Ns.unstable_batchedUpdates(()=>{qt?.(zn),Xe(Cl.Initializing),Te({type:Cr.DragStart,initialCoordinates:Jt,active:Nr}),Ce({type:"onDragStart",event:zn}),re(Dt.current),qe(Xt)})},onMove(Jt){Te({type:Cr.DragMove,coordinates:Jt})},onEnd:Yn(Cr.DragEnd),onCancel:Yn(Cr.DragCancel)});Dt.current=Tn;function Yn(Jt){return async function(){const{active:vt,collisions:qt,over:zn,scrollAdjustedTranslate:Wn}=gt.current;let wn=null;if(vt&&Wn){const{cancelDrop:Ze}=tt.current;wn={activatorEvent:Xt,active:vt,collisions:qt,delta:Wn,over:zn},Jt===Cr.DragEnd&&typeof Ze=="function"&&await Promise.resolve(Ze(wn))&&(Jt=Cr.DragCancel)}Re.current=null,Ns.unstable_batchedUpdates(()=>{Te({type:Jt}),Xe(Cl.Uninitialized),ni(null),re(null),qe(null),Dt.current=null;const Ze=Jt===Cr.DragEnd?"onDragEnd":"onDragCancel";if(wn){const ar=tt.current[Ze];ar?.(wn),Ce({type:Ze,event:wn})}})}}},[ee]),an=J.useCallback((ln,Sn)=>(qn,hn)=>{const gr=qn.nativeEvent,Xt=ee.get(hn);if(Re.current!==null||!Xt||gr.dndKit||gr.defaultPrevented)return;const Tn={active:Xt};ln(qn,Sn.options,Tn)===!0&&(gr.dndKit={capturedBy:Sn.sensor},Re.current=hn,Le(qn,Sn))},[ee,Le]),_r=Lb(j,an);Gb(j),ma(()=>{Ue&&me===Cl.Initializing&&Xe(Cl.Initialized)},[Ue,me]),J.useEffect(()=>{const{onDragMove:ln}=tt.current,{active:Sn,activatorEvent:qn,collisions:hn,over:gr}=gt.current;if(!Sn||!qn)return;const Xt={active:Sn,activatorEvent:qn,collisions:hn,delta:{x:dr.x,y:dr.y},over:gr};Ns.unstable_batchedUpdates(()=>{ln?.(Xt),Ce({type:"onDragMove",event:Xt})})},[dr.x,dr.y]),J.useEffect(()=>{const{active:ln,activatorEvent:Sn,collisions:qn,droppableContainers:hn,scrollAdjustedTranslate:gr}=gt.current;if(!ln||Re.current==null||!Sn||!gr)return;const{onDragOver:Xt}=tt.current,Tn=hn.get(ki),Yn=Tn&&Tn.rect.current?{id:Tn.id,rect:Tn.rect.current,data:Tn.data,disabled:Tn.disabled}:null,Jt={active:ln,activatorEvent:Sn,collisions:qn,delta:{x:gr.x,y:gr.y},over:Yn};Ns.unstable_batchedUpdates(()=>{ni(Yn),Xt?.(Jt),Ce({type:"onDragOver",event:Jt})})},[ki]),ma(()=>{gt.current={activatorEvent:pe,active:ae,activeNode:Ae,collisionRect:Xn,collisions:bn,droppableRects:ze,draggableNodes:ee,draggingNode:pn,draggingNodeRect:Tr,droppableContainers:je,over:hr,scrollableAncestors:ir,scrollAdjustedTranslate:dr},we.current={initial:Tr,translated:Xn}},[ae,Ae,bn,Xn,ee,pn,Tr,ze,je,hr,ir,dr]),Ib({...We,delta:Q,draggingRect:Xn,pointerCoordinates:pi,scrollableAncestors:ir,scrollableAncestorRects:Ke});const Li=J.useMemo(()=>({active:ae,activeNode:Ae,activeNodeRect:Ue,activatorEvent:pe,collisions:bn,containerNodeRect:en,dragOverlay:cn,draggableNodes:ee,droppableContainers:je,droppableRects:ze,over:hr,measureDroppableContainers:_e,scrollableAncestors:ir,scrollableAncestorRects:Ke,measuringConfiguration:ue,measuringScheduled:He,windowRect:_t}),[ae,Ae,Ue,pe,bn,en,cn,ee,je,ze,hr,_e,ir,Ke,ue,He,_t]),Ye=J.useMemo(()=>({activatorEvent:pe,activators:_r,active:ae,activeNodeRect:Ue,ariaDescribedById:{draggable:be},dispatch:Te,draggableNodes:ee,over:hr,measureDroppableContainers:_e}),[pe,_r,ae,Ue,Te,be,ee,hr,_e]);return mi.createElement(G2.Provider,{value:se},mi.createElement(Qc.Provider,{value:Ye},mi.createElement(am.Provider,{value:Li},mi.createElement(lm.Provider,{value:Fe},S)),mi.createElement(tw,{disabled:O?.restoreFocus===!1})),mi.createElement(ib,{...O,hiddenTextDescribedById:be}));function Rt(){const ln=$?.autoScrollEnabled===!1,Sn=typeof R=="object"?R.enabled===!1:R===!1,qn=he&&!ln&&!Sn;return typeof R=="object"?{...R,enabled:qn}:{enabled:qn}}}),aw=J.createContext(null),Ig="button",lw="Draggable";function sw(h){let{id:g,data:m,disabled:y=!1,attributes:E}=h;const v=Io(lw),{activators:T,activatorEvent:O,active:R,activeNodeRect:S,ariaDescribedById:j,draggableNodes:L,over:W}=J.useContext(Qc),{role:K=Ig,roleDescription:Ee="draggable",tabIndex:le=0}=E??{},Se=R?.id===g,Te=J.useContext(Se?lm:aw),[Ce,se]=Pc(),[me,Xe]=Pc(),he=Xb(T,g),X=To(m);ma(()=>(L.set(g,{id:g,key:v,node:Ce,activatorNode:me,data:X}),()=>{const Q=L.get(g);Q&&Q.key===v&&L.delete(g)}),[L,g]);const ee=J.useMemo(()=>({role:K,tabIndex:le,"aria-disabled":y,"aria-pressed":Se&&K===Ig?!0:void 0,"aria-roledescription":Ee,"aria-describedby":j.draggable}),[y,K,le,Se,Ee,j.draggable]);return{active:R,activatorEvent:O,activeNodeRect:S,attributes:ee,isDragging:Se,listeners:y?void 0:he,node:Ce,over:W,setNodeRef:se,setActivatorNodeRef:Xe,transform:Te}}function ow(){return J.useContext(am)}const cw="Droppable",uw={timeout:25};function fw(h){let{data:g,disabled:m=!1,id:y,resizeObserverConfig:E}=h;const v=Io(cw),{active:T,dispatch:O,over:R,measureDroppableContainers:S}=J.useContext(Qc),j=J.useRef({disabled:m}),L=J.useRef(!1),W=J.useRef(null),K=J.useRef(null),{disabled:Ee,updateMeasurementsFor:le,timeout:Se}={...uw,...E},Te=To(le??y),Ce=J.useCallback(()=>{if(!L.current){L.current=!0;return}K.current!=null&&clearTimeout(K.current),K.current=setTimeout(()=>{S(Array.isArray(Te.current)?Te.current:[Te.current]),K.current=null},Se)},[Se]),se=Zc({callback:Ce,disabled:Ee||!T}),me=J.useCallback((ee,Q)=>{se&&(Q&&(se.unobserve(Q),L.current=!1),ee&&se.observe(ee))},[se]),[Xe,he]=Pc(me),X=To(g);return J.useEffect(()=>{!se||!Xe.current||(se.disconnect(),L.current=!1,se.observe(Xe.current))},[Xe,se]),J.useEffect(()=>(O({type:Cr.RegisterDroppable,element:{id:y,key:v,disabled:m,node:Xe,rect:W,data:X}}),()=>O({type:Cr.UnregisterDroppable,key:v,id:y})),[y]),J.useEffect(()=>{m!==j.current.disabled&&(O({type:Cr.SetDroppableDisabled,id:y,key:v,disabled:m}),j.current.disabled=m)},[y,v,m,O]),{active:T,rect:W,isOver:R?.id===y,node:Xe,over:R,setNodeRef:he}}function sm(h,g,m){const y=h.slice();return y.splice(m<0?y.length+m:m,0,y.splice(g,1)[0]),y}function dw(h,g){return h.reduce((m,y,E)=>{const v=g.get(y);return v&&(m[E]=v),m},Array(h.length))}function Mc(h){return h!==null&&h>=0}function hw(h,g){if(h===g)return!0;if(h.length!==g.length)return!1;for(let m=0;m<h.length;m++)if(h[m]!==g[m])return!1;return!0}function gw(h){return typeof h=="boolean"?{draggable:h,droppable:h}:h}const Bc={scaleX:1,scaleY:1},Mg=h=>{var g;let{rects:m,activeNodeRect:y,activeIndex:E,overIndex:v,index:T}=h;const O=(g=m[E])!=null?g:y;if(!O)return null;const R=mw(m,T,E);if(T===E){const S=m[v];return S?{x:E<v?S.left+S.width-(O.left+O.width):S.left-O.left,y:0,...Bc}:null}return T>E&&T<=v?{x:-O.width-R,y:0,...Bc}:T<E&&T>=v?{x:O.width+R,y:0,...Bc}:{x:0,y:0,...Bc}};function mw(h,g,m){const y=h[g],E=h[g-1],v=h[g+1];return!y||!E&&!v?0:m<g?E?y.left-(E.left+E.width):v.left-(y.left+y.width):v?v.left-(y.left+y.width):y.left-(E.left+E.width)}const om=h=>{let{rects:g,activeIndex:m,overIndex:y,index:E}=h;const v=sm(g,y,m),T=g[E],O=v[E];return!O||!T?null:{x:O.left-T.left,y:O.top-T.top,scaleX:O.width/T.width,scaleY:O.height/T.height}},cm="Sortable",um=mi.createContext({activeIndex:-1,containerId:cm,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:om,disabled:{draggable:!1,droppable:!1}});function Bg(h){let{children:g,id:m,items:y,strategy:E=om,disabled:v=!1}=h;const{active:T,dragOverlay:O,droppableRects:R,over:S,measureDroppableContainers:j}=ow(),L=Io(cm,m),W=O.rect!==null,K=J.useMemo(()=>y.map(he=>typeof he=="object"&&"id"in he?he.id:he),[y]),Ee=T!=null,le=T?K.indexOf(T.id):-1,Se=S?K.indexOf(S.id):-1,Te=J.useRef(K),Ce=!hw(K,Te.current),se=Se!==-1&&le===-1||Ce,me=gw(v);ma(()=>{Ce&&Ee&&j(K)},[Ce,K,Ee,j]),J.useEffect(()=>{Te.current=K},[K]);const Xe=J.useMemo(()=>({activeIndex:le,containerId:L,disabled:me,disableTransforms:se,items:K,overIndex:Se,useDragOverlay:W,sortedRects:dw(K,R),strategy:E}),[le,L,me.draggable,me.droppable,se,K,Se,R,W,E]);return mi.createElement(um.Provider,{value:Xe},g)}const xw=h=>{let{id:g,items:m,activeIndex:y,overIndex:E}=h;return sm(m,y,E).indexOf(g)},pw=h=>{let{containerId:g,isSorting:m,wasDragging:y,index:E,items:v,newIndex:T,previousItems:O,previousContainerId:R,transition:S}=h;return!S||!y||O!==v&&E===T?!1:m?!0:T!==E&&g===R},yw={duration:200,easing:"ease"},fm="transform",bw=No.Transition.toString({property:fm,duration:0,easing:"linear"}),ww={roleDescription:"sortable"};function vw(h){let{disabled:g,index:m,node:y,rect:E}=h;const[v,T]=J.useState(null),O=J.useRef(m);return ma(()=>{if(!g&&m!==O.current&&y.current){const R=E.current;if(R){const S=ks(y.current,{ignoreTransform:!0}),j={x:R.left-S.left,y:R.top-S.top,scaleX:R.width/S.width,scaleY:R.height/S.height};(j.x||j.y)&&T(j)}}m!==O.current&&(O.current=m)},[g,m,y,E]),J.useEffect(()=>{v&&T(null)},[v]),v}function Aw(h){let{animateLayoutChanges:g=pw,attributes:m,disabled:y,data:E,getNewIndex:v=xw,id:T,strategy:O,resizeObserverConfig:R,transition:S=yw}=h;const{items:j,containerId:L,activeIndex:W,disabled:K,disableTransforms:Ee,sortedRects:le,overIndex:Se,useDragOverlay:Te,strategy:Ce}=J.useContext(um),se=Ew(y,K),me=j.indexOf(T),Xe=J.useMemo(()=>({sortable:{containerId:L,index:me,items:j},...E}),[L,E,me,j]),he=J.useMemo(()=>j.slice(j.indexOf(T)),[j,T]),{rect:X,node:ee,isOver:Q,setNodeRef:je}=fw({id:T,data:Xe,disabled:se.droppable,resizeObserverConfig:{updateMeasurementsFor:he,...R}}),{active:Me,activatorEvent:we,activeNodeRect:ae,attributes:Re,setNodeRef:$,listeners:re,isDragging:pe,over:qe,setActivatorNodeRef:tt,transform:be}=sw({id:T,data:Xe,attributes:{...ww,...m},disabled:se.draggable}),Y=Xy(je,$),ue=!!Me,ze=ue&&!Ee&&Mc(W)&&Mc(Se),_e=!Te&&pe,He=_e&&ze?be:null,Je=ze?He??(O??Ce)({rects:le,activeNodeRect:ae,activeIndex:W,overIndex:Se,index:me}):null,We=Mc(W)&&Mc(Se)?v({id:T,items:j,activeIndex:W,overIndex:Se}):me,it=Me?.id,Ue=J.useRef({activeId:it,items:j,newIndex:We,containerId:L}),en=j!==Ue.current.items,gt=g({active:Me,containerId:L,isDragging:pe,isSorting:ue,id:T,index:me,items:j,newIndex:Ue.current.newIndex,previousItems:Ue.current.items,previousContainerId:Ue.current.containerId,transition:S,wasDragging:Ue.current.activeId!=null}),xt=vw({disabled:!gt,index:me,node:ee,rect:X});return J.useEffect(()=>{ue&&Ue.current.newIndex!==We&&(Ue.current.newIndex=We),L!==Ue.current.containerId&&(Ue.current.containerId=L),j!==Ue.current.items&&(Ue.current.items=j)},[ue,We,L,j]),J.useEffect(()=>{if(it===Ue.current.activeId)return;if(it!=null&&Ue.current.activeId==null){Ue.current.activeId=it;return}const pn=setTimeout(()=>{Ue.current.activeId=it},50);return()=>clearTimeout(pn)},[it]),{active:Me,activeIndex:W,attributes:Re,data:Xe,rect:X,index:me,newIndex:We,items:j,isOver:Q,isSorting:ue,isDragging:pe,listeners:re,node:ee,overIndex:Se,over:qe,setNodeRef:Y,setActivatorNodeRef:tt,setDroppableNodeRef:je,setDraggableNodeRef:$,transform:xt??Je,transition:cn()};function cn(){if(xt||en&&Ue.current.newIndex===me)return bw;if(!(_e&&!F0(we)||!S)&&(ue||gt))return No.Transition.toString({...S,property:fm})}}function Ew(h,g){var m,y;return typeof h=="boolean"?{draggable:h,droppable:!1}:{draggable:(m=h?.draggable)!=null?m:g.draggable,droppable:(y=h?.droppable)!=null?y:g.droppable}}function Vc(h){if(!h)return!1;const g=h.data.current;return!!(g&&"sortable"in g&&typeof g.sortable=="object"&&"containerId"in g.sortable&&"items"in g.sortable&&"index"in g.sortable)}const Cw=[Qt.Down,Qt.Right,Qt.Up,Qt.Left],Sw=(h,g)=>{let{context:{active:m,collisionRect:y,droppableRects:E,droppableContainers:v,over:T,scrollableAncestors:O}}=g;if(Cw.includes(h.code)){if(h.preventDefault(),!m||!y)return;const R=[];v.getEnabled().forEach(L=>{if(!L||L!=null&&L.disabled)return;const W=E.get(L.id);if(W)switch(h.code){case Qt.Down:y.top<W.top&&R.push(L);break;case Qt.Up:y.top>W.top&&R.push(L);break;case Qt.Left:y.left>W.left&&R.push(L);break;case Qt.Right:y.left<W.left&&R.push(L);break}});const S=sb({collisionRect:y,droppableRects:E,droppableContainers:R});let j=Y2(S,"id");if(j===T?.id&&S.length>1&&(j=S[1].id),j!=null){const L=v.get(m.id),W=v.get(j),K=W?E.get(W.id):null,Ee=W?.node.current;if(Ee&&K&&L&&W){const Se=Kc(Ee).some((he,X)=>O[X]!==he),Te=dm(L,W),Ce=Tw(L,W),se=Se||!Te?{x:0,y:0}:{x:Ce?y.width-K.width:0,y:Ce?y.height-K.height:0},me={x:K.left,y:K.top};return se.x&&se.y?me:_o(me,se)}}}};function dm(h,g){return!Vc(h)||!Vc(g)?!1:h.data.current.sortable.containerId===g.data.current.sortable.containerId}function Tw(h,g){return!Vc(h)||!Vc(g)||!dm(h,g)?!1:h.data.current.sortable.index<g.data.current.sortable.index}function _w({id:h,active:g,onClick:m}){const{attributes:y,listeners:E,setNodeRef:v,transform:T,transition:O,isDragging:R}=Aw({id:h}),S={transform:No.Translate.toString(T),transition:O,zIndex:R?50:"auto",position:"relative"};return H.jsx("div",{ref:v,style:S,...y,...E,className:Sr("touch-none",R&&"scale-105 transition-transform"),children:H.jsx(P2,{active:g,onClick:m,children:h})})}function Nw({onAddNew:h,onScan:g,onSelectItem:m}){const[y,E]=J.useState([]),[v,T]=J.useState([]),[O,R]=J.useState(""),[S,j]=J.useState(""),[L,W]=J.useState(!1),[K,Ee]=J.useState(null),[le,Se]=J.useState(!1),[Te,Ce]=J.useState(null),[se,me]=J.useState(null),Xe=J.useRef(null),he=J.useCallback((ae,Re)=>{if(Te===ae){Ce(null),me(null);return}const $=Re.getBoundingClientRect();me({top:$.bottom+4,left:$.left}),Ce(ae)},[Te]),X=ab(Gf(V0,{activationConstraint:{distance:8}}),Gf(nm,{activationConstraint:{delay:250,tolerance:5}}),Gf(j0,{coordinateGetter:Sw}));J.useEffect(()=>{fr.vault_items.toArray().then(E),(async()=>{const Re=await fr.categories.orderBy("order").toArray();if(Re.length===0){const $=Kl.map((re,pe)=>({name:re,order:pe,createdAt:new Date().toISOString()}));await fr.categories.bulkAdd($),T(Kl)}else T(Re.map($=>$.name))})()},[]),J.useEffect(()=>{if(!Te)return;const ae=Re=>{Xe.current&&!Xe.current.contains(Re.target)&&(Ce(null),me(null))};return document.addEventListener("mousedown",ae),()=>document.removeEventListener("mousedown",ae)},[Te]);const ee=async(ae,Re)=>{await fr.vault_items.update(ae,{category:Re}),E($=>$.map(re=>re.id===ae?{...re,category:Re}:re)),Ce(null),me(null)},Q=async()=>{if(!S.trim()||v.includes(S.trim()))return;const ae=S.trim(),Re=await fr.categories.count();await fr.categories.add({name:ae,createdAt:new Date().toISOString(),order:Re}),T($=>[...$,ae]),j("")},je=async()=>{if(K){if(K.type==="category"&&K.name){await fr.categories.delete(K.name),T(Re=>Re.filter($=>$!==K.name)),O===K.name&&R("");const ae=await fr.vault_items.where("category").equals(K.name).toArray();for(const Re of ae)await fr.vault_items.update(Re.id,{category:""});fr.vault_items.toArray().then(E)}else K.type==="item"&&(await fr.vault_items.delete(K.id),E(ae=>ae.filter(Re=>Re.id!==K.id)));Ee(null)}},Me=async ae=>{const{active:Re,over:$}=ae;if(!$||Re.id===$.id)return;const re=v.indexOf(Re.id),pe=v.indexOf($.id),qe=[...v];qe.splice(re,1),qe.splice(pe,0,Re.id),T(qe);for(let tt=0;tt<qe.length;tt++)await fr.categories.update(qe[tt],{order:tt})},we=O===""?y:y.filter(ae=>ae.category===O);return H.jsxs("div",{className:"space-y-6",children:[H.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[H.jsxs(Ir,{onClick:h,size:"lg",className:"w-full",children:[H.jsx(vy,{className:"w-4 h-4"}),""]}),H.jsxs(Ir,{onClick:g,variant:"secondary",size:"lg",className:"w-full",children:[H.jsx(U2,{className:"w-4 h-4"}),"QR"]})]}),H.jsx("div",{className:"space-y-2",children:H.jsxs("div",{className:"flex items-start gap-2",children:[H.jsxs("div",{className:Sr("flex-1 flex flex-wrap gap-2 transition-all duration-300 overflow-hidden",!le&&"max-h-[44px]"),children:[H.jsx(P2,{active:O==="",onClick:()=>R(""),children:""}),H.jsx(Dg,{sensors:X,collisionDetection:vg,onDragEnd:Me,children:H.jsx(Bg,{items:v,strategy:Mg,children:v.map(ae=>H.jsx(_w,{id:ae,active:O===ae,onClick:()=>R(ae)},ae))})})]}),H.jsxs("div",{className:"flex items-center gap-1 shrink-0 pt-1",children:[v.length>3&&H.jsx("button",{onClick:()=>Se(!le),className:Sr("p-2 rounded-xl text-zinc-600 hover:text-zinc-400 hover:bg-zinc-800/50 transition-all",le&&"text-blue-400 bg-blue-500/10 hover:text-blue-300"),title:le?"":"",children:H.jsx($p,{className:Sr("w-4 h-4 transition-transform duration-300",le&&"rotate-180")})}),H.jsx("button",{onClick:()=>W(!0),className:"p-2 rounded-xl text-zinc-600 hover:text-zinc-400 hover:bg-zinc-800/50 transition-all",children:H.jsx(_y,{className:"w-4 h-4"})})]})]})}),we.length===0?H.jsxs("div",{className:"text-center py-20",children:[H.jsx("div",{className:"w-16 h-16 bg-zinc-900 rounded-3xl flex items-center justify-center mx-auto mb-4 border border-zinc-800",children:H.jsx(xg,{className:"w-7 h-7 text-zinc-700"})}),H.jsx("p",{className:"text-zinc-500 font-medium mb-1",children:""}),H.jsxs("p",{className:"text-zinc-600 text-sm mb-6 leading-relaxed",children:["",H.jsx("br",{}),"QR"]}),H.jsx(Ir,{onClick:h,children:""})]}):H.jsx("div",{className:"space-y-3 pb-20",children:we.map(ae=>H.jsx(Pa,{onClick:()=>m(ae),children:H.jsxs("div",{className:"p-4 flex items-center gap-4",children:[H.jsx("div",{className:"w-11 h-11 bg-zinc-800 rounded-2xl flex items-center justify-center shrink-0",children:H.jsx(xg,{className:"w-5 h-5 text-zinc-500"})}),H.jsxs("div",{className:"flex-1 min-w-0",children:[H.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[H.jsx("h3",{className:"font-semibold text-zinc-100 truncate",children:ae.title}),H.jsxs("button",{onClick:Re=>{Re.stopPropagation(),he(ae.id,Re.currentTarget)},className:Sr("flex items-center gap-1 text-[10px] px-2.5 py-1 rounded-full font-bold uppercase tracking-tight transition-all shrink-0",Te===ae.id?"bg-blue-600/20 text-blue-400 border border-blue-500/40":"bg-zinc-800 text-zinc-500 hover:bg-zinc-700 hover:text-zinc-300"),title:"",children:[H.jsx(ky,{className:"w-2.5 h-2.5"}),ae.category]})]}),H.jsxs("div",{className:"flex items-center gap-3 text-xs text-zinc-600 font-medium",children:[H.jsx("span",{children:new Date(ae.createdAt).toLocaleDateString()}),ae.hasBiometrics&&H.jsxs("span",{className:"flex items-center gap-1 text-emerald-600",children:[H.jsx(So,{className:"w-3.5 h-3.5"}),""]})]})]}),H.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[H.jsx("button",{onClick:Re=>{Re.stopPropagation(),Ee({type:"item",id:ae.id,name:ae.title})},className:"p-2 text-zinc-700 hover:text-red-400 hover:bg-zinc-800 rounded-xl transition-all",children:H.jsx(pg,{className:"w-4 h-4"})}),H.jsx(ty,{className:"w-4 h-4 text-zinc-800"})]})]})},ae.id))}),H.jsx(j2,{isOpen:L,onClose:()=>W(!1),title:"",children:H.jsxs("div",{className:"space-y-6",children:[H.jsxs("div",{className:"flex gap-2 p-1",children:[H.jsx("input",{type:"text",placeholder:"",className:"flex-1 bg-zinc-950 border border-zinc-800 rounded-2xl px-4 py-3 text-sm text-zinc-100 focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all",value:S,onChange:ae=>j(ae.target.value),onKeyDown:ae=>ae.key==="Enter"&&Q()}),H.jsx(Ir,{onClick:Q,children:""})]}),H.jsxs("div",{className:"space-y-3",children:[H.jsx("label",{className:"text-[11px] uppercase tracking-[0.1em] text-zinc-500 font-black px-1",children:""}),H.jsx("div",{className:"grid grid-cols-1 gap-2 p-1 max-h-[40vh] overflow-y-auto no-scrollbar",children:v.filter(ae=>!Kl.includes(ae)).length===0?H.jsx("p",{className:"text-sm text-zinc-600 px-1 py-10 text-center bg-zinc-950/50 rounded-2xl border border-dashed border-zinc-800",children:""}):H.jsx(Dg,{sensors:X,collisionDetection:vg,onDragEnd:Me,children:H.jsx(Bg,{items:v,strategy:Mg,children:v.filter(ae=>!Kl.includes(ae)).map(ae=>H.jsxs("div",{className:"flex items-center justify-between p-3 pl-4 bg-zinc-800/40 border border-zinc-700/50 rounded-2xl group active:scale-[0.98] transition-transform",children:[H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsx(dy,{className:"w-4 h-4 text-zinc-600 cursor-grab active:cursor-grabbing"}),H.jsx("span",{className:"text-sm font-semibold text-zinc-300",children:ae})]}),H.jsx("button",{onClick:()=>{if(Kl.includes(ae)){alert("");return}Ee({type:"category",id:"",name:ae})},className:"p-2 text-zinc-600 hover:text-red-400 hover:bg-zinc-800 rounded-xl transition-all",children:H.jsx(pg,{className:"w-4 h-4"})})]},ae))})})}),H.jsx("p",{className:"text-[10px] text-zinc-600 px-1 pt-1 italic",children:" "})]})]})}),Te&&se&&Ns.createPortal(H.jsx("div",{ref:Xe,className:"fixed z-[9999] bg-zinc-900 border border-zinc-700 rounded-xl shadow-2xl shadow-black/40 py-1 min-w-[140px] animate-in fade-in slide-in-from-top-2 duration-150",style:{top:se.top,left:se.left},onClick:ae=>ae.stopPropagation(),children:v.map(ae=>{const Re=y.find($=>$.id===Te);return H.jsx("button",{onClick:$=>{$.stopPropagation(),ee(Te,ae)},className:Sr("w-full text-left px-4 py-2.5 text-sm transition-colors",ae===Re?.category?"text-blue-400 bg-blue-500/10 font-semibold":"text-zinc-300 hover:bg-zinc-800 hover:text-zinc-100"),children:ae},ae)})}),document.body),H.jsx(Gy,{isOpen:!!K,onClose:()=>Ee(null),onConfirm:je,title:K?.type==="item"?"":"",description:K?.type==="item"?`${K.name}`:`${K?.name}`})]})}const Rw=1e5,Ow=256,G0="AES-GCM";function Kf(h){const g=new Uint8Array(h);let m="";for(let y=0;y<g.byteLength;y++)m+=String.fromCharCode(g[y]);return window.btoa(m)}function Zf(h){const g=window.atob(h),m=g.length,y=new Uint8Array(m);for(let E=0;E<m;E++)y[E]=g.charCodeAt(E);return y.buffer}async function hm(h,g){const y=new TextEncoder().encode(h),E=await window.crypto.subtle.importKey("raw",y,"PBKDF2",!1,["deriveKey"]);return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:g,iterations:Rw,hash:"SHA-256"},E,{name:G0,length:Ow},!1,["encrypt","decrypt"])}async function Dw(h,g){const y=new TextEncoder().encode(h),E=window.crypto.getRandomValues(new Uint8Array(16)),v=window.crypto.getRandomValues(new Uint8Array(12)),T=await hm(g,E),O=await window.crypto.subtle.encrypt({name:G0,iv:v},T,y),R={ciphertext:Kf(O),iv:Kf(v.buffer),salt:Kf(E.buffer)};return JSON.stringify(R)}async function R0(h,g){const m=JSON.parse(h),y=Zf(m.ciphertext),E=new Uint8Array(Zf(m.iv)),v=new Uint8Array(Zf(m.salt)),T=await hm(g,v);try{const O=await window.crypto.subtle.decrypt({name:G0,iv:E},T,y);return new TextDecoder().decode(O)}catch{throw new Error("Decryption failed. Incorrect password?")}}const Os="master-biometric-credential";function Iw(h){const g=new Uint8Array(h);let m="";for(let y=0;y<g.byteLength;y++)m+=String.fromCharCode(g[y]);return btoa(m)}function kg(h){const g=atob(h),m=new Uint8Array(g.length);for(let y=0;y<g.length;y++)m[y]=g.charCodeAt(y);return m.buffer}async function X0(){return window.PublicKeyCredential!==void 0&&typeof window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable=="function"&&await window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()}async function q0(h,g,m){const y=window.crypto.getRandomValues(new Uint8Array(32)),E=window.crypto.getRandomValues(new Uint8Array(16)),v=m||"Local User",T={challenge:y,rp:{name:"LensKey Vault",id:window.location.hostname},user:{id:E,name:v,displayName:v},pubKeyCredParams:[{alg:-7,type:"public-key"}],authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"required",residentKey:"required",requireResidentKey:!0},timeout:6e4},O=await navigator.credentials.create({publicKey:T});if(O){const R=g?`bio_pass_${g}`:`bio_pass_${Os}`;localStorage.setItem(R,h);const S=Iw(O.rawId);g?(localStorage.setItem(`bio_cred_${g}`,S),m&&localStorage.setItem(`bio_name_${g}`,m)):localStorage.setItem(`bio_cred_${Os}`,S)}else throw new Error("Biometric registration failed")}async function Mw(h){const g=window.crypto.getRandomValues(new Uint8Array(32)),m=[],y=h?`bio_cred_${h}`:`bio_cred_${Os}`,E=localStorage.getItem(y);if(E&&m.push({type:"public-key",id:kg(E),transports:["internal"]}),h){const O=localStorage.getItem(`bio_cred_${Os}`);O&&O!==E&&m.push({type:"public-key",id:kg(O),transports:["internal"]})}const v={challenge:g,rpId:window.location.hostname,userVerification:"required",timeout:6e4,...m.length>0?{allowCredentials:m}:{}};if(await navigator.credentials.get({publicKey:v})){const O=h?`bio_pass_${h}`:`bio_pass_${Os}`,R=localStorage.getItem(O)||localStorage.getItem(`bio_pass_${Os}`);if(R)return R;throw new Error("No password found for this biometric credential")}else throw new Error("Biometric verification failed")}var _s={},Qf,Lg;function Bw(){return Lg||(Lg=1,Qf=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Qf}var Wf={},El={},zg;function Ql(){if(zg)return El;zg=1;let h;const g=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return El.getSymbolSize=function(y){if(!y)throw new Error('"version" cannot be null or undefined');if(y<1||y>40)throw new Error('"version" should be in range from 1 to 40');return y*4+17},El.getSymbolTotalCodewords=function(y){return g[y]},El.getBCHDigit=function(m){let y=0;for(;m!==0;)y++,m>>>=1;return y},El.setToSJISFunction=function(y){if(typeof y!="function")throw new Error('"toSJISFunc" is not a valid function.');h=y},El.isKanjiModeEnabled=function(){return typeof h<"u"},El.toSJIS=function(y){return h(y)},El}var Jf={},Ug;function Y0(){return Ug||(Ug=1,(function(h){h.L={bit:1},h.M={bit:0},h.Q={bit:3},h.H={bit:2};function g(m){if(typeof m!="string")throw new Error("Param is not a string");switch(m.toLowerCase()){case"l":case"low":return h.L;case"m":case"medium":return h.M;case"q":case"quartile":return h.Q;case"h":case"high":return h.H;default:throw new Error("Unknown EC Level: "+m)}}h.isValid=function(y){return y&&typeof y.bit<"u"&&y.bit>=0&&y.bit<4},h.from=function(y,E){if(h.isValid(y))return y;try{return g(y)}catch{return E}}})(Jf)),Jf}var $f,Fg;function kw(){if(Fg)return $f;Fg=1;function h(){this.buffer=[],this.length=0}return h.prototype={get:function(g){const m=Math.floor(g/8);return(this.buffer[m]>>>7-g%8&1)===1},put:function(g,m){for(let y=0;y<m;y++)this.putBit((g>>>m-y-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(g){const m=Math.floor(this.length/8);this.buffer.length<=m&&this.buffer.push(0),g&&(this.buffer[m]|=128>>>this.length%8),this.length++}},$f=h,$f}var e0,Pg;function Lw(){if(Pg)return e0;Pg=1;function h(g){if(!g||g<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=g,this.data=new Uint8Array(g*g),this.reservedBit=new Uint8Array(g*g)}return h.prototype.set=function(g,m,y,E){const v=g*this.size+m;this.data[v]=y,E&&(this.reservedBit[v]=!0)},h.prototype.get=function(g,m){return this.data[g*this.size+m]},h.prototype.xor=function(g,m,y){this.data[g*this.size+m]^=y},h.prototype.isReserved=function(g,m){return this.reservedBit[g*this.size+m]},e0=h,e0}var t0={},jg;function zw(){return jg||(jg=1,(function(h){const g=Ql().getSymbolSize;h.getRowColCoords=function(y){if(y===1)return[];const E=Math.floor(y/7)+2,v=g(y),T=v===145?26:Math.ceil((v-13)/(2*E-2))*2,O=[v-7];for(let R=1;R<E-1;R++)O[R]=O[R-1]-T;return O.push(6),O.reverse()},h.getPositions=function(y){const E=[],v=h.getRowColCoords(y),T=v.length;for(let O=0;O<T;O++)for(let R=0;R<T;R++)O===0&&R===0||O===0&&R===T-1||O===T-1&&R===0||E.push([v[O],v[R]]);return E}})(t0)),t0}var n0={},Hg;function Uw(){if(Hg)return n0;Hg=1;const h=Ql().getSymbolSize,g=7;return n0.getPositions=function(y){const E=h(y);return[[0,0],[E-g,0],[0,E-g]]},n0}var r0={},Vg;function Fw(){return Vg||(Vg=1,(function(h){h.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const g={N1:3,N2:3,N3:40,N4:10};h.isValid=function(E){return E!=null&&E!==""&&!isNaN(E)&&E>=0&&E<=7},h.from=function(E){return h.isValid(E)?parseInt(E,10):void 0},h.getPenaltyN1=function(E){const v=E.size;let T=0,O=0,R=0,S=null,j=null;for(let L=0;L<v;L++){O=R=0,S=j=null;for(let W=0;W<v;W++){let K=E.get(L,W);K===S?O++:(O>=5&&(T+=g.N1+(O-5)),S=K,O=1),K=E.get(W,L),K===j?R++:(R>=5&&(T+=g.N1+(R-5)),j=K,R=1)}O>=5&&(T+=g.N1+(O-5)),R>=5&&(T+=g.N1+(R-5))}return T},h.getPenaltyN2=function(E){const v=E.size;let T=0;for(let O=0;O<v-1;O++)for(let R=0;R<v-1;R++){const S=E.get(O,R)+E.get(O,R+1)+E.get(O+1,R)+E.get(O+1,R+1);(S===4||S===0)&&T++}return T*g.N2},h.getPenaltyN3=function(E){const v=E.size;let T=0,O=0,R=0;for(let S=0;S<v;S++){O=R=0;for(let j=0;j<v;j++)O=O<<1&2047|E.get(S,j),j>=10&&(O===1488||O===93)&&T++,R=R<<1&2047|E.get(j,S),j>=10&&(R===1488||R===93)&&T++}return T*g.N3},h.getPenaltyN4=function(E){let v=0;const T=E.data.length;for(let R=0;R<T;R++)v+=E.data[R];return Math.abs(Math.ceil(v*100/T/5)-10)*g.N4};function m(y,E,v){switch(y){case h.Patterns.PATTERN000:return(E+v)%2===0;case h.Patterns.PATTERN001:return E%2===0;case h.Patterns.PATTERN010:return v%3===0;case h.Patterns.PATTERN011:return(E+v)%3===0;case h.Patterns.PATTERN100:return(Math.floor(E/2)+Math.floor(v/3))%2===0;case h.Patterns.PATTERN101:return E*v%2+E*v%3===0;case h.Patterns.PATTERN110:return(E*v%2+E*v%3)%2===0;case h.Patterns.PATTERN111:return(E*v%3+(E+v)%2)%2===0;default:throw new Error("bad maskPattern:"+y)}}h.applyMask=function(E,v){const T=v.size;for(let O=0;O<T;O++)for(let R=0;R<T;R++)v.isReserved(R,O)||v.xor(R,O,m(E,R,O))},h.getBestMask=function(E,v){const T=Object.keys(h.Patterns).length;let O=0,R=1/0;for(let S=0;S<T;S++){v(S),h.applyMask(S,E);const j=h.getPenaltyN1(E)+h.getPenaltyN2(E)+h.getPenaltyN3(E)+h.getPenaltyN4(E);h.applyMask(S,E),j<R&&(R=j,O=S)}return O}})(r0)),r0}var kc={},Gg;function gm(){if(Gg)return kc;Gg=1;const h=Y0(),g=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],m=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return kc.getBlocksCount=function(E,v){switch(v){case h.L:return g[(E-1)*4+0];case h.M:return g[(E-1)*4+1];case h.Q:return g[(E-1)*4+2];case h.H:return g[(E-1)*4+3];default:return}},kc.getTotalCodewordsCount=function(E,v){switch(v){case h.L:return m[(E-1)*4+0];case h.M:return m[(E-1)*4+1];case h.Q:return m[(E-1)*4+2];case h.H:return m[(E-1)*4+3];default:return}},kc}var i0={},bo={},Xg;function Pw(){if(Xg)return bo;Xg=1;const h=new Uint8Array(512),g=new Uint8Array(256);return(function(){let y=1;for(let E=0;E<255;E++)h[E]=y,g[y]=E,y<<=1,y&256&&(y^=285);for(let E=255;E<512;E++)h[E]=h[E-255]})(),bo.log=function(y){if(y<1)throw new Error("log("+y+")");return g[y]},bo.exp=function(y){return h[y]},bo.mul=function(y,E){return y===0||E===0?0:h[g[y]+g[E]]},bo}var qg;function jw(){return qg||(qg=1,(function(h){const g=Pw();h.mul=function(y,E){const v=new Uint8Array(y.length+E.length-1);for(let T=0;T<y.length;T++)for(let O=0;O<E.length;O++)v[T+O]^=g.mul(y[T],E[O]);return v},h.mod=function(y,E){let v=new Uint8Array(y);for(;v.length-E.length>=0;){const T=v[0];for(let R=0;R<E.length;R++)v[R]^=g.mul(E[R],T);let O=0;for(;O<v.length&&v[O]===0;)O++;v=v.slice(O)}return v},h.generateECPolynomial=function(y){let E=new Uint8Array([1]);for(let v=0;v<y;v++)E=h.mul(E,new Uint8Array([1,g.exp(v)]));return E}})(i0)),i0}var a0,Yg;function Hw(){if(Yg)return a0;Yg=1;const h=jw();function g(m){this.genPoly=void 0,this.degree=m,this.degree&&this.initialize(this.degree)}return g.prototype.initialize=function(y){this.degree=y,this.genPoly=h.generateECPolynomial(this.degree)},g.prototype.encode=function(y){if(!this.genPoly)throw new Error("Encoder not initialized");const E=new Uint8Array(y.length+this.degree);E.set(y);const v=h.mod(E,this.genPoly),T=this.degree-v.length;if(T>0){const O=new Uint8Array(this.degree);return O.set(v,T),O}return v},a0=g,a0}var l0={},s0={},o0={},Kg;function mm(){return Kg||(Kg=1,o0.isValid=function(g){return!isNaN(g)&&g>=1&&g<=40}),o0}var ga={},Zg;function xm(){if(Zg)return ga;Zg=1;const h="[0-9]+",g="[A-Z $%*+\\-./:]+";let m="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";m=m.replace(/u/g,"\\u");const y="(?:(?![A-Z0-9 $%*+\\-./:]|"+m+`)(?:.|[\r
]))+`;ga.KANJI=new RegExp(m,"g"),ga.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ga.BYTE=new RegExp(y,"g"),ga.NUMERIC=new RegExp(h,"g"),ga.ALPHANUMERIC=new RegExp(g,"g");const E=new RegExp("^"+m+"$"),v=new RegExp("^"+h+"$"),T=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return ga.testKanji=function(R){return E.test(R)},ga.testNumeric=function(R){return v.test(R)},ga.testAlphanumeric=function(R){return T.test(R)},ga}var Qg;function Wl(){return Qg||(Qg=1,(function(h){const g=mm(),m=xm();h.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},h.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},h.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},h.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},h.MIXED={bit:-1},h.getCharCountIndicator=function(v,T){if(!v.ccBits)throw new Error("Invalid mode: "+v);if(!g.isValid(T))throw new Error("Invalid version: "+T);return T>=1&&T<10?v.ccBits[0]:T<27?v.ccBits[1]:v.ccBits[2]},h.getBestModeForData=function(v){return m.testNumeric(v)?h.NUMERIC:m.testAlphanumeric(v)?h.ALPHANUMERIC:m.testKanji(v)?h.KANJI:h.BYTE},h.toString=function(v){if(v&&v.id)return v.id;throw new Error("Invalid mode")},h.isValid=function(v){return v&&v.bit&&v.ccBits};function y(E){if(typeof E!="string")throw new Error("Param is not a string");switch(E.toLowerCase()){case"numeric":return h.NUMERIC;case"alphanumeric":return h.ALPHANUMERIC;case"kanji":return h.KANJI;case"byte":return h.BYTE;default:throw new Error("Unknown mode: "+E)}}h.from=function(v,T){if(h.isValid(v))return v;try{return y(v)}catch{return T}}})(s0)),s0}var Wg;function Vw(){return Wg||(Wg=1,(function(h){const g=Ql(),m=gm(),y=Y0(),E=Wl(),v=mm(),T=7973,O=g.getBCHDigit(T);function R(W,K,Ee){for(let le=1;le<=40;le++)if(K<=h.getCapacity(le,Ee,W))return le}function S(W,K){return E.getCharCountIndicator(W,K)+4}function j(W,K){let Ee=0;return W.forEach(function(le){const Se=S(le.mode,K);Ee+=Se+le.getBitsLength()}),Ee}function L(W,K){for(let Ee=1;Ee<=40;Ee++)if(j(W,Ee)<=h.getCapacity(Ee,K,E.MIXED))return Ee}h.from=function(K,Ee){return v.isValid(K)?parseInt(K,10):Ee},h.getCapacity=function(K,Ee,le){if(!v.isValid(K))throw new Error("Invalid QR Code version");typeof le>"u"&&(le=E.BYTE);const Se=g.getSymbolTotalCodewords(K),Te=m.getTotalCodewordsCount(K,Ee),Ce=(Se-Te)*8;if(le===E.MIXED)return Ce;const se=Ce-S(le,K);switch(le){case E.NUMERIC:return Math.floor(se/10*3);case E.ALPHANUMERIC:return Math.floor(se/11*2);case E.KANJI:return Math.floor(se/13);case E.BYTE:default:return Math.floor(se/8)}},h.getBestVersionForData=function(K,Ee){let le;const Se=y.from(Ee,y.M);if(Array.isArray(K)){if(K.length>1)return L(K,Se);if(K.length===0)return 1;le=K[0]}else le=K;return R(le.mode,le.getLength(),Se)},h.getEncodedBits=function(K){if(!v.isValid(K)||K<7)throw new Error("Invalid QR Code version");let Ee=K<<12;for(;g.getBCHDigit(Ee)-O>=0;)Ee^=T<<g.getBCHDigit(Ee)-O;return K<<12|Ee}})(l0)),l0}var c0={},Jg;function Gw(){if(Jg)return c0;Jg=1;const h=Ql(),g=1335,m=21522,y=h.getBCHDigit(g);return c0.getEncodedBits=function(v,T){const O=v.bit<<3|T;let R=O<<10;for(;h.getBCHDigit(R)-y>=0;)R^=g<<h.getBCHDigit(R)-y;return(O<<10|R)^m},c0}var u0={},f0,$g;function Xw(){if($g)return f0;$g=1;const h=Wl();function g(m){this.mode=h.NUMERIC,this.data=m.toString()}return g.getBitsLength=function(y){return 10*Math.floor(y/3)+(y%3?y%3*3+1:0)},g.prototype.getLength=function(){return this.data.length},g.prototype.getBitsLength=function(){return g.getBitsLength(this.data.length)},g.prototype.write=function(y){let E,v,T;for(E=0;E+3<=this.data.length;E+=3)v=this.data.substr(E,3),T=parseInt(v,10),y.put(T,10);const O=this.data.length-E;O>0&&(v=this.data.substr(E),T=parseInt(v,10),y.put(T,O*3+1))},f0=g,f0}var d0,e2;function qw(){if(e2)return d0;e2=1;const h=Wl(),g=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function m(y){this.mode=h.ALPHANUMERIC,this.data=y}return m.getBitsLength=function(E){return 11*Math.floor(E/2)+6*(E%2)},m.prototype.getLength=function(){return this.data.length},m.prototype.getBitsLength=function(){return m.getBitsLength(this.data.length)},m.prototype.write=function(E){let v;for(v=0;v+2<=this.data.length;v+=2){let T=g.indexOf(this.data[v])*45;T+=g.indexOf(this.data[v+1]),E.put(T,11)}this.data.length%2&&E.put(g.indexOf(this.data[v]),6)},d0=m,d0}var h0,t2;function Yw(){if(t2)return h0;t2=1;const h=Wl();function g(m){this.mode=h.BYTE,typeof m=="string"?this.data=new TextEncoder().encode(m):this.data=new Uint8Array(m)}return g.getBitsLength=function(y){return y*8},g.prototype.getLength=function(){return this.data.length},g.prototype.getBitsLength=function(){return g.getBitsLength(this.data.length)},g.prototype.write=function(m){for(let y=0,E=this.data.length;y<E;y++)m.put(this.data[y],8)},h0=g,h0}var g0,n2;function Kw(){if(n2)return g0;n2=1;const h=Wl(),g=Ql();function m(y){this.mode=h.KANJI,this.data=y}return m.getBitsLength=function(E){return E*13},m.prototype.getLength=function(){return this.data.length},m.prototype.getBitsLength=function(){return m.getBitsLength(this.data.length)},m.prototype.write=function(y){let E;for(E=0;E<this.data.length;E++){let v=g.toSJIS(this.data[E]);if(v>=33088&&v<=40956)v-=33088;else if(v>=57408&&v<=60351)v-=49472;else throw new Error("Invalid SJIS character: "+this.data[E]+`
Make sure your charset is UTF-8`);v=(v>>>8&255)*192+(v&255),y.put(v,13)}},g0=m,g0}var m0={exports:{}},r2;function Zw(){return r2||(r2=1,(function(h){var g={single_source_shortest_paths:function(m,y,E){var v={},T={};T[y]=0;var O=g.PriorityQueue.make();O.push(y,0);for(var R,S,j,L,W,K,Ee,le,Se;!O.empty();){R=O.pop(),S=R.value,L=R.cost,W=m[S]||{};for(j in W)W.hasOwnProperty(j)&&(K=W[j],Ee=L+K,le=T[j],Se=typeof T[j]>"u",(Se||le>Ee)&&(T[j]=Ee,O.push(j,Ee),v[j]=S))}if(typeof E<"u"&&typeof T[E]>"u"){var Te=["Could not find a path from ",y," to ",E,"."].join("");throw new Error(Te)}return v},extract_shortest_path_from_predecessor_list:function(m,y){for(var E=[],v=y;v;)E.push(v),m[v],v=m[v];return E.reverse(),E},find_path:function(m,y,E){var v=g.single_source_shortest_paths(m,y,E);return g.extract_shortest_path_from_predecessor_list(v,E)},PriorityQueue:{make:function(m){var y=g.PriorityQueue,E={},v;m=m||{};for(v in y)y.hasOwnProperty(v)&&(E[v]=y[v]);return E.queue=[],E.sorter=m.sorter||y.default_sorter,E},default_sorter:function(m,y){return m.cost-y.cost},push:function(m,y){var E={value:m,cost:y};this.queue.push(E),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};h.exports=g})(m0)),m0.exports}var i2;function Qw(){return i2||(i2=1,(function(h){const g=Wl(),m=Xw(),y=qw(),E=Yw(),v=Kw(),T=xm(),O=Ql(),R=Zw();function S(Te){return unescape(encodeURIComponent(Te)).length}function j(Te,Ce,se){const me=[];let Xe;for(;(Xe=Te.exec(se))!==null;)me.push({data:Xe[0],index:Xe.index,mode:Ce,length:Xe[0].length});return me}function L(Te){const Ce=j(T.NUMERIC,g.NUMERIC,Te),se=j(T.ALPHANUMERIC,g.ALPHANUMERIC,Te);let me,Xe;return O.isKanjiModeEnabled()?(me=j(T.BYTE,g.BYTE,Te),Xe=j(T.KANJI,g.KANJI,Te)):(me=j(T.BYTE_KANJI,g.BYTE,Te),Xe=[]),Ce.concat(se,me,Xe).sort(function(X,ee){return X.index-ee.index}).map(function(X){return{data:X.data,mode:X.mode,length:X.length}})}function W(Te,Ce){switch(Ce){case g.NUMERIC:return m.getBitsLength(Te);case g.ALPHANUMERIC:return y.getBitsLength(Te);case g.KANJI:return v.getBitsLength(Te);case g.BYTE:return E.getBitsLength(Te)}}function K(Te){return Te.reduce(function(Ce,se){const me=Ce.length-1>=0?Ce[Ce.length-1]:null;return me&&me.mode===se.mode?(Ce[Ce.length-1].data+=se.data,Ce):(Ce.push(se),Ce)},[])}function Ee(Te){const Ce=[];for(let se=0;se<Te.length;se++){const me=Te[se];switch(me.mode){case g.NUMERIC:Ce.push([me,{data:me.data,mode:g.ALPHANUMERIC,length:me.length},{data:me.data,mode:g.BYTE,length:me.length}]);break;case g.ALPHANUMERIC:Ce.push([me,{data:me.data,mode:g.BYTE,length:me.length}]);break;case g.KANJI:Ce.push([me,{data:me.data,mode:g.BYTE,length:S(me.data)}]);break;case g.BYTE:Ce.push([{data:me.data,mode:g.BYTE,length:S(me.data)}])}}return Ce}function le(Te,Ce){const se={},me={start:{}};let Xe=["start"];for(let he=0;he<Te.length;he++){const X=Te[he],ee=[];for(let Q=0;Q<X.length;Q++){const je=X[Q],Me=""+he+Q;ee.push(Me),se[Me]={node:je,lastCount:0},me[Me]={};for(let we=0;we<Xe.length;we++){const ae=Xe[we];se[ae]&&se[ae].node.mode===je.mode?(me[ae][Me]=W(se[ae].lastCount+je.length,je.mode)-W(se[ae].lastCount,je.mode),se[ae].lastCount+=je.length):(se[ae]&&(se[ae].lastCount=je.length),me[ae][Me]=W(je.length,je.mode)+4+g.getCharCountIndicator(je.mode,Ce))}}Xe=ee}for(let he=0;he<Xe.length;he++)me[Xe[he]].end=0;return{map:me,table:se}}function Se(Te,Ce){let se;const me=g.getBestModeForData(Te);if(se=g.from(Ce,me),se!==g.BYTE&&se.bit<me.bit)throw new Error('"'+Te+'" cannot be encoded with mode '+g.toString(se)+`.
 Suggested mode is: `+g.toString(me));switch(se===g.KANJI&&!O.isKanjiModeEnabled()&&(se=g.BYTE),se){case g.NUMERIC:return new m(Te);case g.ALPHANUMERIC:return new y(Te);case g.KANJI:return new v(Te);case g.BYTE:return new E(Te)}}h.fromArray=function(Ce){return Ce.reduce(function(se,me){return typeof me=="string"?se.push(Se(me,null)):me.data&&se.push(Se(me.data,me.mode)),se},[])},h.fromString=function(Ce,se){const me=L(Ce,O.isKanjiModeEnabled()),Xe=Ee(me),he=le(Xe,se),X=R.find_path(he.map,"start","end"),ee=[];for(let Q=1;Q<X.length-1;Q++)ee.push(he.table[X[Q]].node);return h.fromArray(K(ee))},h.rawSplit=function(Ce){return h.fromArray(L(Ce,O.isKanjiModeEnabled()))}})(u0)),u0}var a2;function Ww(){if(a2)return Wf;a2=1;const h=Ql(),g=Y0(),m=kw(),y=Lw(),E=zw(),v=Uw(),T=Fw(),O=gm(),R=Hw(),S=Vw(),j=Gw(),L=Wl(),W=Qw();function K(he,X){const ee=he.size,Q=v.getPositions(X);for(let je=0;je<Q.length;je++){const Me=Q[je][0],we=Q[je][1];for(let ae=-1;ae<=7;ae++)if(!(Me+ae<=-1||ee<=Me+ae))for(let Re=-1;Re<=7;Re++)we+Re<=-1||ee<=we+Re||(ae>=0&&ae<=6&&(Re===0||Re===6)||Re>=0&&Re<=6&&(ae===0||ae===6)||ae>=2&&ae<=4&&Re>=2&&Re<=4?he.set(Me+ae,we+Re,!0,!0):he.set(Me+ae,we+Re,!1,!0))}}function Ee(he){const X=he.size;for(let ee=8;ee<X-8;ee++){const Q=ee%2===0;he.set(ee,6,Q,!0),he.set(6,ee,Q,!0)}}function le(he,X){const ee=E.getPositions(X);for(let Q=0;Q<ee.length;Q++){const je=ee[Q][0],Me=ee[Q][1];for(let we=-2;we<=2;we++)for(let ae=-2;ae<=2;ae++)we===-2||we===2||ae===-2||ae===2||we===0&&ae===0?he.set(je+we,Me+ae,!0,!0):he.set(je+we,Me+ae,!1,!0)}}function Se(he,X){const ee=he.size,Q=S.getEncodedBits(X);let je,Me,we;for(let ae=0;ae<18;ae++)je=Math.floor(ae/3),Me=ae%3+ee-8-3,we=(Q>>ae&1)===1,he.set(je,Me,we,!0),he.set(Me,je,we,!0)}function Te(he,X,ee){const Q=he.size,je=j.getEncodedBits(X,ee);let Me,we;for(Me=0;Me<15;Me++)we=(je>>Me&1)===1,Me<6?he.set(Me,8,we,!0):Me<8?he.set(Me+1,8,we,!0):he.set(Q-15+Me,8,we,!0),Me<8?he.set(8,Q-Me-1,we,!0):Me<9?he.set(8,15-Me-1+1,we,!0):he.set(8,15-Me-1,we,!0);he.set(Q-8,8,1,!0)}function Ce(he,X){const ee=he.size;let Q=-1,je=ee-1,Me=7,we=0;for(let ae=ee-1;ae>0;ae-=2)for(ae===6&&ae--;;){for(let Re=0;Re<2;Re++)if(!he.isReserved(je,ae-Re)){let $=!1;we<X.length&&($=(X[we]>>>Me&1)===1),he.set(je,ae-Re,$),Me--,Me===-1&&(we++,Me=7)}if(je+=Q,je<0||ee<=je){je-=Q,Q=-Q;break}}}function se(he,X,ee){const Q=new m;ee.forEach(function(Re){Q.put(Re.mode.bit,4),Q.put(Re.getLength(),L.getCharCountIndicator(Re.mode,he)),Re.write(Q)});const je=h.getSymbolTotalCodewords(he),Me=O.getTotalCodewordsCount(he,X),we=(je-Me)*8;for(Q.getLengthInBits()+4<=we&&Q.put(0,4);Q.getLengthInBits()%8!==0;)Q.putBit(0);const ae=(we-Q.getLengthInBits())/8;for(let Re=0;Re<ae;Re++)Q.put(Re%2?17:236,8);return me(Q,he,X)}function me(he,X,ee){const Q=h.getSymbolTotalCodewords(X),je=O.getTotalCodewordsCount(X,ee),Me=Q-je,we=O.getBlocksCount(X,ee),ae=Q%we,Re=we-ae,$=Math.floor(Q/we),re=Math.floor(Me/we),pe=re+1,qe=$-re,tt=new R(qe);let be=0;const Y=new Array(we),ue=new Array(we);let ze=0;const _e=new Uint8Array(he.buffer);for(let it=0;it<we;it++){const Ue=it<Re?re:pe;Y[it]=_e.slice(be,be+Ue),ue[it]=tt.encode(Y[it]),be+=Ue,ze=Math.max(ze,Ue)}const He=new Uint8Array(Q);let Ae=0,Je,We;for(Je=0;Je<ze;Je++)for(We=0;We<we;We++)Je<Y[We].length&&(He[Ae++]=Y[We][Je]);for(Je=0;Je<qe;Je++)for(We=0;We<we;We++)He[Ae++]=ue[We][Je];return He}function Xe(he,X,ee,Q){let je;if(Array.isArray(he))je=W.fromArray(he);else if(typeof he=="string"){let $=X;if(!$){const re=W.rawSplit(he);$=S.getBestVersionForData(re,ee)}je=W.fromString(he,$||40)}else throw new Error("Invalid data");const Me=S.getBestVersionForData(je,ee);if(!Me)throw new Error("The amount of data is too big to be stored in a QR Code");if(!X)X=Me;else if(X<Me)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+Me+`.
`);const we=se(X,ee,je),ae=h.getSymbolSize(X),Re=new y(ae);return K(Re,X),Ee(Re),le(Re,X),Te(Re,ee,0),X>=7&&Se(Re,X),Ce(Re,we),isNaN(Q)&&(Q=T.getBestMask(Re,Te.bind(null,Re,ee))),T.applyMask(Q,Re),Te(Re,ee,Q),{modules:Re,version:X,errorCorrectionLevel:ee,maskPattern:Q,segments:je}}return Wf.create=function(X,ee){if(typeof X>"u"||X==="")throw new Error("No input text");let Q=g.M,je,Me;return typeof ee<"u"&&(Q=g.from(ee.errorCorrectionLevel,g.M),je=S.from(ee.version),Me=T.from(ee.maskPattern),ee.toSJISFunc&&h.setToSJISFunction(ee.toSJISFunc)),Xe(X,je,Q,Me)},Wf}var x0={},p0={},l2;function pm(){return l2||(l2=1,(function(h){function g(m){if(typeof m=="number"&&(m=m.toString()),typeof m!="string")throw new Error("Color should be defined as hex string");let y=m.slice().replace("#","").split("");if(y.length<3||y.length===5||y.length>8)throw new Error("Invalid hex color: "+m);(y.length===3||y.length===4)&&(y=Array.prototype.concat.apply([],y.map(function(v){return[v,v]}))),y.length===6&&y.push("F","F");const E=parseInt(y.join(""),16);return{r:E>>24&255,g:E>>16&255,b:E>>8&255,a:E&255,hex:"#"+y.slice(0,6).join("")}}h.getOptions=function(y){y||(y={}),y.color||(y.color={});const E=typeof y.margin>"u"||y.margin===null||y.margin<0?4:y.margin,v=y.width&&y.width>=21?y.width:void 0,T=y.scale||4;return{width:v,scale:v?4:T,margin:E,color:{dark:g(y.color.dark||"#000000ff"),light:g(y.color.light||"#ffffffff")},type:y.type,rendererOpts:y.rendererOpts||{}}},h.getScale=function(y,E){return E.width&&E.width>=y+E.margin*2?E.width/(y+E.margin*2):E.scale},h.getImageWidth=function(y,E){const v=h.getScale(y,E);return Math.floor((y+E.margin*2)*v)},h.qrToImageData=function(y,E,v){const T=E.modules.size,O=E.modules.data,R=h.getScale(T,v),S=Math.floor((T+v.margin*2)*R),j=v.margin*R,L=[v.color.light,v.color.dark];for(let W=0;W<S;W++)for(let K=0;K<S;K++){let Ee=(W*S+K)*4,le=v.color.light;if(W>=j&&K>=j&&W<S-j&&K<S-j){const Se=Math.floor((W-j)/R),Te=Math.floor((K-j)/R);le=L[O[Se*T+Te]?1:0]}y[Ee++]=le.r,y[Ee++]=le.g,y[Ee++]=le.b,y[Ee]=le.a}}})(p0)),p0}var s2;function Jw(){return s2||(s2=1,(function(h){const g=pm();function m(E,v,T){E.clearRect(0,0,v.width,v.height),v.style||(v.style={}),v.height=T,v.width=T,v.style.height=T+"px",v.style.width=T+"px"}function y(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}h.render=function(v,T,O){let R=O,S=T;typeof R>"u"&&(!T||!T.getContext)&&(R=T,T=void 0),T||(S=y()),R=g.getOptions(R);const j=g.getImageWidth(v.modules.size,R),L=S.getContext("2d"),W=L.createImageData(j,j);return g.qrToImageData(W.data,v,R),m(L,S,j),L.putImageData(W,0,0),S},h.renderToDataURL=function(v,T,O){let R=O;typeof R>"u"&&(!T||!T.getContext)&&(R=T,T=void 0),R||(R={});const S=h.render(v,T,R),j=R.type||"image/png",L=R.rendererOpts||{};return S.toDataURL(j,L.quality)}})(x0)),x0}var y0={},o2;function $w(){if(o2)return y0;o2=1;const h=pm();function g(E,v){const T=E.a/255,O=v+'="'+E.hex+'"';return T<1?O+" "+v+'-opacity="'+T.toFixed(2).slice(1)+'"':O}function m(E,v,T){let O=E+v;return typeof T<"u"&&(O+=" "+T),O}function y(E,v,T){let O="",R=0,S=!1,j=0;for(let L=0;L<E.length;L++){const W=Math.floor(L%v),K=Math.floor(L/v);!W&&!S&&(S=!0),E[L]?(j++,L>0&&W>0&&E[L-1]||(O+=S?m("M",W+T,.5+K+T):m("m",R,0),R=0,S=!1),W+1<v&&E[L+1]||(O+=m("h",j),j=0)):R++}return O}return y0.render=function(v,T,O){const R=h.getOptions(T),S=v.modules.size,j=v.modules.data,L=S+R.margin*2,W=R.color.light.a?"<path "+g(R.color.light,"fill")+' d="M0 0h'+L+"v"+L+'H0z"/>':"",K="<path "+g(R.color.dark,"stroke")+' d="'+y(j,S,R.margin)+'"/>',Ee='viewBox="0 0 '+L+" "+L+'"',Se='<svg xmlns="http://www.w3.org/2000/svg" '+(R.width?'width="'+R.width+'" height="'+R.width+'" ':"")+Ee+' shape-rendering="crispEdges">'+W+K+`</svg>
`;return typeof O=="function"&&O(null,Se),Se},y0}var c2;function e3(){if(c2)return _s;c2=1;const h=Bw(),g=Ww(),m=Jw(),y=$w();function E(v,T,O,R,S){const j=[].slice.call(arguments,1),L=j.length,W=typeof j[L-1]=="function";if(!W&&!h())throw new Error("Callback required as last argument");if(W){if(L<2)throw new Error("Too few arguments provided");L===2?(S=O,O=T,T=R=void 0):L===3&&(T.getContext&&typeof S>"u"?(S=R,R=void 0):(S=R,R=O,O=T,T=void 0))}else{if(L<1)throw new Error("Too few arguments provided");return L===1?(O=T,T=R=void 0):L===2&&!T.getContext&&(R=O,O=T,T=void 0),new Promise(function(K,Ee){try{const le=g.create(O,R);K(v(le,T,R))}catch(le){Ee(le)}})}try{const K=g.create(O,R);S(null,v(K,T,R))}catch(K){S(K)}}return _s.create=g.create,_s.toCanvas=E.bind(null,m.render),_s.toDataURL=E.bind(null,m.renderToDataURL),_s.toString=E.bind(null,function(v,T,O){return y.render(v,O)}),_s}var t3=e3();const ym=D0(t3);function n3({onBack:h,onSuccess:g}){const[m,y]=J.useState("form"),[E,v]=J.useState([]),[T,O]=J.useState({title:"",category:"",seed:"",password:"",confirmPassword:""}),[R,S]=J.useState(null),[j,L]=J.useState(null),[W,K]=J.useState(!1);J.useEffect(()=>{X0().then(K),fr.categories.toArray().then(Se=>{const Te=Se.map(Ce=>Ce.name);v([...new Set([...Kl,...Te])])})},[]),J.useEffect(()=>{if(m!=="form"){const Se=setTimeout(()=>{O(Te=>({...Te,seed:""}))},3e5);return()=>{clearTimeout(Se),O(Te=>({...Te,seed:""}))}}},[m]);const Ee=async Se=>{if(Se.preventDefault(),S(null),T.password!==T.confirmPassword){S("");return}if(T.password.length<8){S("8");return}try{const Te=await Dw(T.seed,T.password),Ce=crypto.randomUUID();await fr.vault_items.add({id:Ce,title:T.title,category:T.category,encryptedData:Te,createdAt:new Date().toISOString(),hasBiometrics:!1});const se=JSON.stringify({v:1,t:T.title,c:T.category,d:Te}),me=await ym.toDataURL(se,{width:500,margin:2,color:{dark:"#000000",light:"#ffffff"}});L(me),y(W?"biometrics":"qr")}catch(Te){S(""),console.error(Te)}},le=async()=>{try{const Se=await fr.vault_items.orderBy("createdAt").last();Se&&(await q0(T.password,Se.id,T.title),await fr.vault_items.update(Se.id,{hasBiometrics:!0})),y("qr")}catch(Se){console.error(Se),alert(""),y("qr")}};return m==="qr"?H.jsxs("div",{className:"space-y-6",children:[H.jsxs("div",{className:"text-center pt-4",children:[H.jsx("div",{className:"w-14 h-14 bg-emerald-900/30 border border-emerald-800 rounded-2xl flex items-center justify-center mx-auto mb-4",children:H.jsx(Ry,{className:"w-7 h-7 text-emerald-400"})}),H.jsx("h2",{className:"text-xl font-bold mb-1",style:{fontFamily:"var(--font-display)"},children:""}),H.jsx("p",{className:"text-zinc-500 text-sm",children:"QR"})]}),H.jsx(Pa,{children:H.jsx("div",{className:"p-6 bg-white flex justify-center rounded-xl",children:j&&H.jsx("img",{src:j,alt:"Vault QR Code",className:"w-full max-w-[280px]"})})}),H.jsxs("div",{className:"bg-amber-900/20 border border-amber-800/50 rounded-xl p-4 flex gap-3",children:[H.jsx(E0,{className:"w-5 h-5 text-amber-500 shrink-0 mt-0.5"}),H.jsxs("p",{className:"text-sm text-amber-300/80",children:[H.jsx("strong",{children:":"})," QR"]})]}),H.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[H.jsxs(Ir,{variant:"secondary",size:"lg",onClick:()=>window.print(),className:"w-full",children:[H.jsx(Ey,{className:"w-4 h-4"}),""]}),H.jsx(Ir,{size:"lg",onClick:g,className:"w-full",children:""})]})]}):m==="biometrics"?H.jsxs("div",{className:"space-y-6 pt-10 text-center max-w-sm mx-auto",children:[H.jsx("div",{className:"w-20 h-20 bg-blue-900/30 border border-blue-800 rounded-3xl flex items-center justify-center mx-auto",children:H.jsx(So,{className:"w-10 h-10 text-blue-400"})}),H.jsxs("div",{children:[H.jsx("h2",{className:"text-xl font-bold mb-2",style:{fontFamily:"var(--font-display)"},children:""}),H.jsxs("p",{className:"text-zinc-500 text-sm leading-relaxed",children:["",H.jsx("br",{}),""]})]}),H.jsxs("div",{className:"space-y-3 pt-4",children:[H.jsx(Ir,{onClick:le,size:"lg",className:"w-full",children:""}),H.jsx(Ir,{variant:"ghost",onClick:()=>y("qr"),className:"w-full",children:""})]})]}):H.jsxs("div",{className:"space-y-6",children:[H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsx("button",{onClick:h,className:"p-2 hover:bg-zinc-800 rounded-xl transition-colors",children:H.jsx(k0,{className:"w-5 h-5 text-zinc-400"})}),H.jsx("h2",{className:"text-lg font-bold",style:{fontFamily:"var(--font-display)"},children:""})]}),H.jsx(Pa,{children:H.jsxs("form",{onSubmit:Ee,className:"p-5 space-y-5",children:[H.jsx(Rs,{label:"",placeholder:": ",required:!0,value:T.title,onChange:Se=>O({...T,title:Se.target.value})}),H.jsxs("div",{className:"space-y-1.5",children:[H.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:""}),H.jsx("select",{className:"w-full bg-zinc-950 border border-zinc-800 rounded-xl px-4 py-3 text-zinc-100 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all font-sans",value:T.category,onChange:Se=>O({...T,category:Se.target.value}),children:E.map(Se=>H.jsx("option",{value:Se,children:Se},Se))})]}),H.jsx(Rs,{label:" / ",type:"textarea",placeholder:"...",required:!0,rows:4,className:"font-mono",value:T.seed,onChange:Se=>O({...T,seed:Se.target.value})}),H.jsx(Rs,{label:"",type:"password",placeholder:"8",required:!0,value:T.password,onChange:Se=>O({...T,password:Se.target.value})}),H.jsx(Rs,{label:"",type:"password",placeholder:"",required:!0,value:T.confirmPassword,onChange:Se=>O({...T,confirmPassword:Se.target.value})}),R&&H.jsxs("div",{className:"bg-red-900/20 border border-red-800/50 rounded-xl p-3 flex gap-3 text-red-400 text-sm",children:[H.jsx(E0,{className:"w-4 h-4 shrink-0 mt-0.5"}),R]}),H.jsxs(Ir,{type:"submit",size:"lg",className:"w-full",children:[H.jsx(F2,{className:"w-4 h-4"}),""]})]})})]})}var rt;(function(h){h[h.QR_CODE=0]="QR_CODE",h[h.AZTEC=1]="AZTEC",h[h.CODABAR=2]="CODABAR",h[h.CODE_39=3]="CODE_39",h[h.CODE_93=4]="CODE_93",h[h.CODE_128=5]="CODE_128",h[h.DATA_MATRIX=6]="DATA_MATRIX",h[h.MAXICODE=7]="MAXICODE",h[h.ITF=8]="ITF",h[h.EAN_13=9]="EAN_13",h[h.EAN_8=10]="EAN_8",h[h.PDF_417=11]="PDF_417",h[h.RSS_14=12]="RSS_14",h[h.RSS_EXPANDED=13]="RSS_EXPANDED",h[h.UPC_A=14]="UPC_A",h[h.UPC_E=15]="UPC_E",h[h.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(rt||(rt={}));var u2=new Map([[rt.QR_CODE,"QR_CODE"],[rt.AZTEC,"AZTEC"],[rt.CODABAR,"CODABAR"],[rt.CODE_39,"CODE_39"],[rt.CODE_93,"CODE_93"],[rt.CODE_128,"CODE_128"],[rt.DATA_MATRIX,"DATA_MATRIX"],[rt.MAXICODE,"MAXICODE"],[rt.ITF,"ITF"],[rt.EAN_13,"EAN_13"],[rt.EAN_8,"EAN_8"],[rt.PDF_417,"PDF_417"],[rt.RSS_14,"RSS_14"],[rt.RSS_EXPANDED,"RSS_EXPANDED"],[rt.UPC_A,"UPC_A"],[rt.UPC_E,"UPC_E"],[rt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),f2;(function(h){h[h.UNKNOWN=0]="UNKNOWN",h[h.URL=1]="URL"})(f2||(f2={}));function r3(h){return Object.values(rt).includes(h)}var Gc;(function(h){h[h.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",h[h.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Gc||(Gc={}));var i3=(function(){function h(){}return h.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",h.SCAN_DEFAULT_FPS=2,h.DEFAULT_DISABLE_FLIP=!1,h.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,h.DEFAULT_SUPPORTED_SCAN_TYPE=[Gc.SCAN_TYPE_CAMERA,Gc.SCAN_TYPE_FILE],h})(),bm=(function(){function h(g,m){this.format=g,this.formatName=m}return h.prototype.toString=function(){return this.formatName},h.create=function(g){if(!u2.has(g))throw"".concat(g," not in html5QrcodeSupportedFormatsTextMap");return new h(g,u2.get(g))},h})(),d2=(function(){function h(){}return h.createFromText=function(g){var m={text:g};return{decodedText:g,result:m}},h.createFromQrcodeResult=function(g){return{decodedText:g.text,result:g}},h})(),O0;(function(h){h[h.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",h[h.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",h[h.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(O0||(O0={}));var a3=(function(){function h(){}return h.createFrom=function(g){return{errorMessage:g,type:O0.UNKWOWN_ERROR}},h})(),l3=(function(){function h(g){this.verbose=g}return h.prototype.log=function(g){this.verbose&&console.log(g)},h.prototype.warn=function(g){this.verbose&&console.warn(g)},h.prototype.logError=function(g,m){(this.verbose||m===!0)&&console.error(g)},h.prototype.logErrors=function(g){if(g.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(g)},h})();function Fa(h){return typeof h>"u"||h===null}var Ds=(function(){function h(){}return h.codeParseError=function(g){return"QR code parse error, error = ".concat(g)},h.errorGettingUserMedia=function(g){return"Error getting userMedia, error = ".concat(g)},h.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},h.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},h.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},h.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},h.scannerPaused=function(){return"Scanner paused"},h})(),wm=(function(){function h(){}return h.isMediaStreamConstraintsValid=function(g,m){if(typeof g!="object"){var y=typeof g;return m.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(y,"."),!0),!1}for(var E=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],v=new Set(E),T=Object.keys(g),O=0,R=T;O<R.length;O++){var S=R[O];if(v.has(S))return m.logError("".concat(S," is not supported videoConstaints."),!0),!1}return!0},h})(),vo={exports:{}},s3=vo.exports,h2;function o3(){return h2||(h2=1,(function(h,g){(function(m,y){y(g)})(s3,(function(m){function y(D){return D==null}var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,t){D.__proto__=t}||function(D,t){for(var r in t)t.hasOwnProperty(r)&&(D[r]=t[r])};function v(D,t){E(D,t);function r(){this.constructor=D}D.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function T(D,t){var r=Object.setPrototypeOf;r?r(D,t):D.__proto__=t}function O(D,t){t===void 0&&(t=D.constructor);var r=Error.captureStackTrace;r&&r(D,t)}var R=(function(D){v(t,D);function t(r){var a=this.constructor,s=D.call(this,r)||this;return Object.defineProperty(s,"name",{value:a.name,enumerable:!1}),T(s,a.prototype),O(s),s}return t})(Error);class S extends R{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}S.kind="Exception";class j extends S{}j.kind="ArgumentException";class L extends S{}L.kind="IllegalArgumentException";class W{constructor(t){if(this.binarizer=t,t===null)throw new L("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,a,s){const c=this.binarizer.getLuminanceSource().crop(t,r,a,s);return new W(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new W(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new W(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class K extends S{static getChecksumInstance(){return new K}}K.kind="ChecksumException";class Ee{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class le{static arraycopy(t,r,a,s,c){for(;c--;)a[s++]=t[r++]}static currentTimeMillis(){return Date.now()}}class Se extends S{}Se.kind="IndexOutOfBoundsException";class Te extends Se{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}Te.kind="ArrayIndexOutOfBoundsException";class Ce{static fill(t,r){for(let a=0,s=t.length;a<s;a++)t[a]=r}static fillWithin(t,r,a,s){Ce.rangeCheck(t.length,r,a);for(let c=r;c<a;c++)t[c]=s}static rangeCheck(t,r,a){if(r>a)throw new L("fromIndex("+r+") > toIndex("+a+")");if(r<0)throw new Te(r);if(a>t)throw new Te(a)}static asList(...t){return t}static create(t,r,a){return Array.from({length:t}).map(c=>Array.from({length:r}).fill(a))}static createInt32Array(t,r,a){return Array.from({length:t}).map(c=>Int32Array.from({length:r}).fill(a))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let a=0,s=t.length;a<s;a++)if(t[a]!==r[a])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const a of t)r=31*r+a;return r}static fillUint8Array(t,r){for(let a=0;a!==t.length;a++)t[a]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const a=new Uint8Array(r);return a.set(t),a}return t.slice(0,r)}static copyOfRange(t,r,a){const s=a-r,c=new Int32Array(s);return le.arraycopy(t,r,c,0,s),c}static binarySearch(t,r,a){a===void 0&&(a=Ce.numberComparator);let s=0,c=t.length-1;for(;s<=c;){const f=c+s>>1,i=a(r,t[f]);if(i>0)s=f+1;else if(i<0)c=f-1;else return f}return-s-1}static numberComparator(t,r){return t-r}}class se{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let a=31;return r=t<<16,r!==0&&(a-=16,t=r),r=t<<8,r!==0&&(a-=8,t=r),r=t<<4,r!==0&&(a-=4,t=r),r=t<<2,r!==0&&(a-=2,t=r),a-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}se.MIN_VALUE_32_BITS=-2147483648,se.MAX_VALUE=Number.MAX_SAFE_INTEGER;class me{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=me.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=me.makeArray(t);le.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const a=this.bits;let s=Math.floor(t/32),c=a[s];c&=~((1<<(t&31))-1);const f=a.length;for(;c===0;){if(++s===f)return r;c=a[s]}const i=s*32+se.numberOfTrailingZeros(c);return i>r?r:i}getNextUnset(t){const r=this.size;if(t>=r)return r;const a=this.bits;let s=Math.floor(t/32),c=~a[s];c&=~((1<<(t&31))-1);const f=a.length;for(;c===0;){if(++s===f)return r;c=~a[s]}const i=s*32+se.numberOfTrailingZeros(c);return i>r?r:i}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new L;if(r===t)return;r--;const a=Math.floor(t/32),s=Math.floor(r/32),c=this.bits;for(let f=a;f<=s;f++){const i=f>a?0:t&31,d=(2<<(f<s?31:r&31))-(1<<i);c[f]|=d}}clear(){const t=this.bits.length,r=this.bits;for(let a=0;a<t;a++)r[a]=0}isRange(t,r,a){if(r<t||t<0||r>this.size)throw new L;if(r===t)return!0;r--;const s=Math.floor(t/32),c=Math.floor(r/32),f=this.bits;for(let i=s;i<=c;i++){const o=i>s?0:t&31,x=(2<<(i<c?31:r&31))-(1<<o)&4294967295;if((f[i]&x)!==(a?x:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new L("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let a=r;a>0;a--)this.appendBit((t>>a-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let a=0;a<r;a++)this.appendBit(t.get(a))}xor(t){if(this.size!==t.size)throw new L("Sizes don't match");const r=this.bits;for(let a=0,s=r.length;a<s;a++)r[a]^=t.bits[a]}toBytes(t,r,a,s){for(let c=0;c<s;c++){let f=0;for(let i=0;i<8;i++)this.get(t)&&(f|=1<<7-i),t++;r[a+c]=f}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),a=r+1,s=this.bits;for(let c=0;c<a;c++){let f=s[c];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,t[r-c]=f}if(this.size!==a*32){const c=a*32-this.size;let f=t[0]>>>c;for(let i=1;i<a;i++){const o=t[i];f|=o<<32-c,t[i-1]=f,f=o>>>c}t[a-1]=f}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof me))return!1;const r=t;return this.size===r.size&&Ce.equals(this.bits,r.bits)}hashCode(){return 31*this.size+Ce.hashCode(this.bits)}toString(){let t="";for(let r=0,a=this.size;r<a;r++)(r&7)===0&&(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new me(this.size,this.bits.slice())}}var Xe;(function(D){D[D.OTHER=0]="OTHER",D[D.PURE_BARCODE=1]="PURE_BARCODE",D[D.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",D[D.TRY_HARDER=3]="TRY_HARDER",D[D.CHARACTER_SET=4]="CHARACTER_SET",D[D.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",D[D.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",D[D.ASSUME_GS1=7]="ASSUME_GS1",D[D.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",D[D.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",D[D.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Xe||(Xe={}));var he=Xe;class X extends S{static getFormatInstance(){return new X}}X.kind="FormatException";var ee;(function(D){D[D.Cp437=0]="Cp437",D[D.ISO8859_1=1]="ISO8859_1",D[D.ISO8859_2=2]="ISO8859_2",D[D.ISO8859_3=3]="ISO8859_3",D[D.ISO8859_4=4]="ISO8859_4",D[D.ISO8859_5=5]="ISO8859_5",D[D.ISO8859_6=6]="ISO8859_6",D[D.ISO8859_7=7]="ISO8859_7",D[D.ISO8859_8=8]="ISO8859_8",D[D.ISO8859_9=9]="ISO8859_9",D[D.ISO8859_10=10]="ISO8859_10",D[D.ISO8859_11=11]="ISO8859_11",D[D.ISO8859_13=12]="ISO8859_13",D[D.ISO8859_14=13]="ISO8859_14",D[D.ISO8859_15=14]="ISO8859_15",D[D.ISO8859_16=15]="ISO8859_16",D[D.SJIS=16]="SJIS",D[D.Cp1250=17]="Cp1250",D[D.Cp1251=18]="Cp1251",D[D.Cp1252=19]="Cp1252",D[D.Cp1256=20]="Cp1256",D[D.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",D[D.UTF8=22]="UTF8",D[D.ASCII=23]="ASCII",D[D.Big5=24]="Big5",D[D.GB18030=25]="GB18030",D[D.EUC_KR=26]="EUC_KR"})(ee||(ee={}));class Q{constructor(t,r,a,...s){this.valueIdentifier=t,this.name=a,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,Q.VALUE_IDENTIFIER_TO_ECI.set(t,this),Q.NAME_TO_ECI.set(a,this);const c=this.values;for(let f=0,i=c.length;f!==i;f++){const o=c[f];Q.VALUES_TO_ECI.set(o,this)}for(const f of s)Q.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new X("incorect value");const r=Q.VALUES_TO_ECI.get(t);if(r===void 0)throw new X("incorect value");return r}static getCharacterSetECIByName(t){const r=Q.NAME_TO_ECI.get(t);if(r===void 0)throw new X("incorect value");return r}equals(t){if(!(t instanceof Q))return!1;const r=t;return this.getName()===r.getName()}}Q.VALUE_IDENTIFIER_TO_ECI=new Map,Q.VALUES_TO_ECI=new Map,Q.NAME_TO_ECI=new Map,Q.Cp437=new Q(ee.Cp437,Int32Array.from([0,2]),"Cp437"),Q.ISO8859_1=new Q(ee.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Q.ISO8859_2=new Q(ee.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Q.ISO8859_3=new Q(ee.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Q.ISO8859_4=new Q(ee.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Q.ISO8859_5=new Q(ee.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Q.ISO8859_6=new Q(ee.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Q.ISO8859_7=new Q(ee.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Q.ISO8859_8=new Q(ee.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Q.ISO8859_9=new Q(ee.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Q.ISO8859_10=new Q(ee.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Q.ISO8859_11=new Q(ee.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Q.ISO8859_13=new Q(ee.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Q.ISO8859_14=new Q(ee.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Q.ISO8859_15=new Q(ee.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Q.ISO8859_16=new Q(ee.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Q.SJIS=new Q(ee.SJIS,20,"SJIS","Shift_JIS"),Q.Cp1250=new Q(ee.Cp1250,21,"Cp1250","windows-1250"),Q.Cp1251=new Q(ee.Cp1251,22,"Cp1251","windows-1251"),Q.Cp1252=new Q(ee.Cp1252,23,"Cp1252","windows-1252"),Q.Cp1256=new Q(ee.Cp1256,24,"Cp1256","windows-1256"),Q.UnicodeBigUnmarked=new Q(ee.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Q.UTF8=new Q(ee.UTF8,26,"UTF8","UTF-8"),Q.ASCII=new Q(ee.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Q.Big5=new Q(ee.Big5,28,"Big5"),Q.GB18030=new Q(ee.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Q.EUC_KR=new Q(ee.EUC_KR,30,"EUC_KR","EUC-KR");class je extends S{}je.kind="UnsupportedOperationException";class Me{static decode(t,r){const a=this.encodingName(r);return this.customDecoder?this.customDecoder(t,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(t,a):new TextDecoder(a).decode(t)}static shouldDecodeOnFallback(t){return!Me.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const a=this.encodingName(r);return this.customEncoder?this.customEncoder(t,a):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof Q?t:Q.getCharacterSetECIByName(t)}static decodeFallback(t,r){const a=this.encodingCharacterSet(r);if(Me.isDecodeFallbackSupported(a)){let s="";for(let c=0,f=t.length;c<f;c++){let i=t[c].toString(16);i.length<2&&(i="0"+i),s+="%"+i}return decodeURIComponent(s)}if(a.equals(Q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new je(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(Q.UTF8)||t.equals(Q.ISO8859_1)||t.equals(Q.ASCII)}static encodeFallback(t){const a=btoa(unescape(encodeURIComponent(t))).split(""),s=[];for(let c=0;c<a.length;c++)s.push(a[c].charCodeAt(0));return new Uint8Array(s)}}class we{static castAsNonUtf8Char(t,r=null){const a=r?r.getName():this.ISO88591;return Me.decode(new Uint8Array([t]),a)}static guessEncoding(t,r){if(r!=null&&r.get(he.CHARACTER_SET)!==void 0)return r.get(he.CHARACTER_SET).toString();const a=t.length;let s=!0,c=!0,f=!0,i=0,o=0,d=0,x=0,b=0,A=0,C=0,N=0,I=0,k=0,B=0;const z=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let P=0;P<a&&(s||c||f);P++){const U=t[P]&255;f&&(i>0?(U&128)===0?f=!1:i--:(U&128)!==0&&((U&64)===0?f=!1:(i++,(U&32)===0?o++:(i++,(U&16)===0?d++:(i++,(U&8)===0?x++:f=!1))))),s&&(U>127&&U<160?s=!1:U>159&&(U<192||U===215||U===247)&&B++),c&&(b>0?U<64||U===127||U>252?c=!1:b--:U===128||U===160||U>239?c=!1:U>160&&U<224?(A++,N=0,C++,C>I&&(I=C)):U>127?(b++,C=0,N++,N>k&&(k=N)):(C=0,N=0))}return f&&i>0&&(f=!1),c&&b>0&&(c=!1),f&&(z||o+d+x>0)?we.UTF8:c&&(we.ASSUME_SHIFT_JIS||I>=3||k>=3)?we.SHIFT_JIS:s&&c?I===2&&A===2||B*10>=a?we.SHIFT_JIS:we.ISO88591:s?we.ISO88591:c?we.SHIFT_JIS:f?we.UTF8:we.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let a=-1;function s(f,i,o,d,x,b){if(f==="%%")return"%";if(r[++a]===void 0)return;f=d?parseInt(d.substr(1)):void 0;let A=x?parseInt(x.substr(1)):void 0,C;switch(b){case"s":C=r[a];break;case"c":C=r[a][0];break;case"f":C=parseFloat(r[a]).toFixed(f);break;case"p":C=parseFloat(r[a]).toPrecision(f);break;case"e":C=parseFloat(r[a]).toExponential(f);break;case"x":C=parseInt(r[a]).toString(A||16);break;case"d":C=parseFloat(parseInt(r[a],A||10).toPrecision(f)).toFixed(0);break}C=typeof C=="object"?JSON.stringify(C):(+C).toString(A);let N=parseInt(o),I=o&&o[0]+""=="0"?"0":" ";for(;C.length<N;)C=i!==void 0?C+I:I+C;return C}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(c,s)}static getBytes(t,r){return Me.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}we.SHIFT_JIS=Q.SJIS.getName(),we.GB2312="GB2312",we.ISO88591=Q.ISO8859_1.getName(),we.EUC_JP="EUC_JP",we.UTF8=Q.UTF8.getName(),we.PLATFORM_DEFAULT_ENCODING=we.UTF8,we.ASSUME_SHIFT_JIS=!1;class ae{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=we.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,a){for(let s=r;r<r+a;s++)this.append(t[s]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class Re{constructor(t,r,a,s){if(this.width=t,this.height=r,this.rowSize=a,this.bits=s,r==null&&(r=t),this.height=r,t<1||r<1)throw new L("Both dimensions must be greater than 0");a==null&&(a=Math.floor((t+31)/32)),this.rowSize=a,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,a=t[0].length,s=new Re(a,r);for(let c=0;c<r;c++){const f=t[c];for(let i=0;i<a;i++)f[i]&&s.set(i,c)}return s}static parseFromString(t,r,a){if(t===null)throw new L("stringRepresentation cannot be null");const s=new Array(t.length);let c=0,f=0,i=-1,o=0,d=0;for(;d<t.length;)if(t.charAt(d)===`
`||t.charAt(d)==="\r"){if(c>f){if(i===-1)i=c-f;else if(c-f!==i)throw new L("row lengths do not match");f=c,o++}d++}else if(t.substring(d,d+r.length)===r)d+=r.length,s[c]=!0,c++;else if(t.substring(d,d+a.length)===a)d+=a.length,s[c]=!1,c++;else throw new L("illegal character encountered: "+t.substring(d));if(c>f){if(i===-1)i=c-f;else if(c-f!==i)throw new L("row lengths do not match");o++}const x=new Re(i,o);for(let b=0;b<c;b++)s[b]&&x.set(Math.floor(b%i),Math.floor(b/i));return x}get(t,r){const a=r*this.rowSize+Math.floor(t/32);return(this.bits[a]>>>(t&31)&1)!==0}set(t,r){const a=r*this.rowSize+Math.floor(t/32);this.bits[a]|=1<<(t&31)&4294967295}unset(t,r){const a=r*this.rowSize+Math.floor(t/32);this.bits[a]&=~(1<<(t&31)&4294967295)}flip(t,r){const a=r*this.rowSize+Math.floor(t/32);this.bits[a]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new L("input matrix dimensions do not match");const r=new me(Math.floor(this.width/32)+1),a=this.rowSize,s=this.bits;for(let c=0,f=this.height;c<f;c++){const i=c*a,o=t.getRow(c,r).getBitArray();for(let d=0;d<a;d++)s[i+d]^=o[d]}}clear(){const t=this.bits,r=t.length;for(let a=0;a<r;a++)t[a]=0}setRegion(t,r,a,s){if(r<0||t<0)throw new L("Left and top must be nonnegative");if(s<1||a<1)throw new L("Height and width must be at least 1");const c=t+a,f=r+s;if(f>this.height||c>this.width)throw new L("The region must fit inside the matrix");const i=this.rowSize,o=this.bits;for(let d=r;d<f;d++){const x=d*i;for(let b=t;b<c;b++)o[x+Math.floor(b/32)]|=1<<(b&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new me(this.width):r.clear();const a=this.rowSize,s=this.bits,c=t*a;for(let f=0;f<a;f++)r.setBulk(f*32,s[c+f]);return r}setRow(t,r){le.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let a=new me(t),s=new me(t);for(let c=0,f=Math.floor((r+1)/2);c<f;c++)a=this.getRow(c,a),s=this.getRow(r-1-c,s),a.reverse(),s.reverse(),this.setRow(c,s),this.setRow(r-1-c,a)}getEnclosingRectangle(){const t=this.width,r=this.height,a=this.rowSize,s=this.bits;let c=t,f=r,i=-1,o=-1;for(let d=0;d<r;d++)for(let x=0;x<a;x++){const b=s[d*a+x];if(b!==0){if(d<f&&(f=d),d>o&&(o=d),x*32<c){let A=0;for(;(b<<31-A&4294967295)===0;)A++;x*32+A<c&&(c=x*32+A)}if(x*32+31>i){let A=31;for(;!(b>>>A);)A--;x*32+A>i&&(i=x*32+A)}}}return i<c||o<f?null:Int32Array.from([c,f,i-c+1,o-f+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let a=0;for(;a<r.length&&r[a]===0;)a++;if(a===r.length)return null;const s=a/t;let c=a%t*32;const f=r[a];let i=0;for(;(f<<31-i&4294967295)===0;)i++;return c+=i,Int32Array.from([c,s])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let a=r.length-1;for(;a>=0&&r[a]===0;)a--;if(a<0)return null;const s=Math.floor(a/t);let c=Math.floor(a%t)*32;const f=r[a];let i=31;for(;!(f>>>i);)i--;return c+=i,Int32Array.from([c,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Re))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Ce.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+Ce.hashCode(this.bits),t}toString(t="X ",r="  ",a=`
`){return this.buildToString(t,r,a)}buildToString(t,r,a){let s=new ae;for(let c=0,f=this.height;c<f;c++){for(let i=0,o=this.width;i<o;i++)s.append(this.get(i,c)?t:r);s.append(a)}return s.toString()}clone(){return new Re(this.width,this.height,this.rowSize,this.bits.slice())}}class $ extends S{static getNotFoundInstance(){return new $}}$.kind="NotFoundException";class re extends Ee{constructor(t){super(t),this.luminances=re.EMPTY,this.buckets=new Int32Array(re.LUMINANCE_BUCKETS)}getBlackRow(t,r){const a=this.getLuminanceSource(),s=a.getWidth();r==null||r.getSize()<s?r=new me(s):r.clear(),this.initArrays(s);const c=a.getRow(t,this.luminances),f=this.buckets;for(let o=0;o<s;o++)f[(c[o]&255)>>re.LUMINANCE_SHIFT]++;const i=re.estimateBlackPoint(f);if(s<3)for(let o=0;o<s;o++)(c[o]&255)<i&&r.set(o);else{let o=c[0]&255,d=c[1]&255;for(let x=1;x<s-1;x++){const b=c[x+1]&255;(d*4-o-b)/2<i&&r.set(x),o=d,d=b}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),a=t.getHeight(),s=new Re(r,a);this.initArrays(r);const c=this.buckets;for(let o=1;o<5;o++){const d=Math.floor(a*o/5),x=t.getRow(d,this.luminances),b=Math.floor(r*4/5);for(let A=Math.floor(r/5);A<b;A++){const C=x[A]&255;c[C>>re.LUMINANCE_SHIFT]++}}const f=re.estimateBlackPoint(c),i=t.getMatrix();for(let o=0;o<a;o++){const d=o*r;for(let x=0;x<r;x++)(i[d+x]&255)<f&&s.set(x,o)}return s}createBinarizer(t){return new re(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let a=0;a<re.LUMINANCE_BUCKETS;a++)r[a]=0}static estimateBlackPoint(t){const r=t.length;let a=0,s=0,c=0;for(let x=0;x<r;x++)t[x]>c&&(s=x,c=t[x]),t[x]>a&&(a=t[x]);let f=0,i=0;for(let x=0;x<r;x++){const b=x-s,A=t[x]*b*b;A>i&&(f=x,i=A)}if(s>f){const x=s;s=f,f=x}if(f-s<=r/16)throw new $;let o=f-1,d=-1;for(let x=f-1;x>s;x--){const b=x-s,A=b*b*(f-x)*(a-t[x]);A>d&&(o=x,d=A)}return o<<re.LUMINANCE_SHIFT}}re.LUMINANCE_BITS=5,re.LUMINANCE_SHIFT=8-re.LUMINANCE_BITS,re.LUMINANCE_BUCKETS=1<<re.LUMINANCE_BITS,re.EMPTY=Uint8ClampedArray.from([0]);class pe extends re{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),a=t.getHeight();if(r>=pe.MINIMUM_DIMENSION&&a>=pe.MINIMUM_DIMENSION){const s=t.getMatrix();let c=r>>pe.BLOCK_SIZE_POWER;(r&pe.BLOCK_SIZE_MASK)!==0&&c++;let f=a>>pe.BLOCK_SIZE_POWER;(a&pe.BLOCK_SIZE_MASK)!==0&&f++;const i=pe.calculateBlackPoints(s,c,f,r,a),o=new Re(r,a);pe.calculateThresholdForBlock(s,c,f,r,a,i,o),this.matrix=o}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new pe(t)}static calculateThresholdForBlock(t,r,a,s,c,f,i){const o=c-pe.BLOCK_SIZE,d=s-pe.BLOCK_SIZE;for(let x=0;x<a;x++){let b=x<<pe.BLOCK_SIZE_POWER;b>o&&(b=o);const A=pe.cap(x,2,a-3);for(let C=0;C<r;C++){let N=C<<pe.BLOCK_SIZE_POWER;N>d&&(N=d);const I=pe.cap(C,2,r-3);let k=0;for(let z=-2;z<=2;z++){const P=f[A+z];k+=P[I-2]+P[I-1]+P[I]+P[I+1]+P[I+2]}const B=k/25;pe.thresholdBlock(t,N,b,B,s,i)}}}static cap(t,r,a){return t<r?r:t>a?a:t}static thresholdBlock(t,r,a,s,c,f){for(let i=0,o=a*c+r;i<pe.BLOCK_SIZE;i++,o+=c)for(let d=0;d<pe.BLOCK_SIZE;d++)(t[o+d]&255)<=s&&f.set(r+d,a+i)}static calculateBlackPoints(t,r,a,s,c){const f=c-pe.BLOCK_SIZE,i=s-pe.BLOCK_SIZE,o=new Array(a);for(let d=0;d<a;d++){o[d]=new Int32Array(r);let x=d<<pe.BLOCK_SIZE_POWER;x>f&&(x=f);for(let b=0;b<r;b++){let A=b<<pe.BLOCK_SIZE_POWER;A>i&&(A=i);let C=0,N=255,I=0;for(let B=0,z=x*s+A;B<pe.BLOCK_SIZE;B++,z+=s){for(let P=0;P<pe.BLOCK_SIZE;P++){const U=t[z+P]&255;C+=U,U<N&&(N=U),U>I&&(I=U)}if(I-N>pe.MIN_DYNAMIC_RANGE)for(B++,z+=s;B<pe.BLOCK_SIZE;B++,z+=s)for(let P=0;P<pe.BLOCK_SIZE;P++)C+=t[z+P]&255}let k=C>>pe.BLOCK_SIZE_POWER*2;if(I-N<=pe.MIN_DYNAMIC_RANGE&&(k=N/2,d>0&&b>0)){const B=(o[d-1][b]+2*o[d][b-1]+o[d-1][b-1])/4;N<B&&(k=B)}o[d][b]=k}}return o}}pe.BLOCK_SIZE_POWER=3,pe.BLOCK_SIZE=1<<pe.BLOCK_SIZE_POWER,pe.BLOCK_SIZE_MASK=pe.BLOCK_SIZE-1,pe.MINIMUM_DIMENSION=pe.BLOCK_SIZE*5,pe.MIN_DYNAMIC_RANGE=24;class qe{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,a,s){throw new je("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new je("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new je("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new ae;for(let a=0;a<this.height;a++){const s=this.getRow(a,t);for(let c=0;c<this.width;c++){const f=s[c]&255;let i;f<64?i="#":f<128?i="+":f<192?i=".":i=" ",r.append(i)}r.append(`
`)}return r.toString()}}class tt extends qe{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const a=this.delegate.getRow(t,r),s=this.getWidth();for(let c=0;c<s;c++)a[c]=255-(a[c]&255);return a}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(r);for(let s=0;s<r;s++)a[s]=255-(t[s]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,a,s){return new tt(this.delegate.crop(t,r,a,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new tt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new tt(this.delegate.rotateCounterClockwise45())}}class be extends qe{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=be.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return be.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,a){const s=new Uint8ClampedArray(r*a);for(let c=0,f=0,i=t.length;c<i;c+=4,f++){let o;if(t[c+3]===0)o=255;else{const x=t[c],b=t[c+1],A=t[c+2];o=306*x+601*b+117*A+512>>10}s[f]=o}return s}getRow(t,r){if(t<0||t>=this.getHeight())throw new L("Requested row is outside the image: "+t);const a=this.getWidth(),s=t*a;return r===null?r=this.buffer.slice(s,s+a):(r.length<a&&(r=new Uint8ClampedArray(a)),r.set(this.buffer.slice(s,s+a))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,a,s){return super.crop(t,r,a,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),a=r.getContext("2d"),s=t*be.DEGREE_TO_RADIANS,c=this.canvas.width,f=this.canvas.height,i=Math.ceil(Math.abs(Math.cos(s))*c+Math.abs(Math.sin(s))*f),o=Math.ceil(Math.abs(Math.sin(s))*c+Math.abs(Math.cos(s))*f);return r.width=i,r.height=o,a.translate(i/2,o/2),a.rotate(s),a.drawImage(this.canvas,c/-2,f/-2),this.buffer=be.makeBufferFromCanvasImageData(r),this}invert(){return new tt(this)}}be.DEGREE_TO_RADIANS=Math.PI/180;class Y{constructor(t,r,a){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ue=(globalThis||wo||self||window||void 0)&&(globalThis||wo||self||window||void 0).__awaiter||function(D,t,r,a){function s(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function i(x){try{d(a.next(x))}catch(b){f(b)}}function o(x){try{d(a.throw(x))}catch(b){f(b)}}function d(x){x.done?c(x.value):s(x.value).then(i,o)}d((a=a.apply(D,t||[])).next())})};class ze{constructor(t,r=500,a){this.reader=t,this.timeBetweenScansMillis=r,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return ue(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const a of t){const s=a.kind==="video"?"videoinput":a.kind;if(s!=="videoinput")continue;const c=a.deviceId||a.id,f=a.label||`Video device ${r.length+1}`,i=a.groupId,o={deviceId:c,label:f,kind:s,groupId:i};r.push(o)}return r})}getVideoInputDevices(){return ue(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Y(r.deviceId,r.label))})}findDeviceById(t){return ue(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(a=>a.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return ue(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return ue(this,void 0,void 0,function*(){this.reset();let a;t?a={deviceId:{exact:t}}:a={facingMode:"environment"};const s={video:a};return yield this.decodeOnceFromConstraints(s,r)})}decodeOnceFromConstraints(t,r){return ue(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(a,r)})}decodeOnceFromStream(t,r){return ue(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(t,r,a){return ue(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,a)})}decodeFromVideoDevice(t,r,a){return ue(this,void 0,void 0,function*(){let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const c={video:s};return yield this.decodeFromConstraints(c,r,a)})}decodeFromConstraints(t,r,a){return ue(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(s,r,a)})}decodeFromStream(t,r,a){return ue(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(s,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return ue(this,void 0,void 0,function*(){const a=this.prepareVideoElement(r);return this.addVideoSource(a,t),this.videoElement=a,this.stream=t,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(t){return new Promise((r,a)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return ue(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const a=document.getElementById(t);if(!a)throw new j(`element with id '${t}' not found`);if(a.nodeName.toLowerCase()!==r.toLowerCase())throw new j(`element with id '${t}' must be an ${r} element`);return a}decodeFromImage(t,r){if(!t&&!r)throw new j("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new j("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,a){if(t===void 0&&r===void 0)throw new j("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,a):this.decodeFromVideoElementContinuously(t,a)}decodeFromImageElement(t){if(!t)throw new j("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let a;return this.isImageLoaded(r)?a=this.decodeOnce(r,!1,!0):a=this._decodeOnLoadImage(r),a}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(a,r)}_decodeFromVideoElementSetup(t){if(!t)throw new j("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new j("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const a=this._decodeOnLoadImage(r);return r.src=t,a}decodeFromVideoUrl(t){if(!t)throw new j("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),a=this.decodeFromVideoElement(r);return r.src=t,a}decodeFromVideoUrlContinuously(t,r){if(!t)throw new j("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(a,r);return a.src=t,s}_decodeOnLoadImage(t){return new Promise((r,a)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,a),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return ue(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return ue(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,a=!0){this._stopAsyncDecode=!1;const s=(c,f)=>{if(this._stopAsyncDecode){f(new $("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const i=this.decode(t);c(i)}catch(i){const o=r&&i instanceof $,x=(i instanceof K||i instanceof X)&&a;if(o||x)return setTimeout(s,this._timeBetweenDecodingAttempts,c,f);f(i)}};return new Promise((c,f)=>s(c,f))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(t);r(s,null),setTimeout(a,this.timeBetweenScansMillis)}catch(s){r(null,s);const c=s instanceof K||s instanceof X,f=s instanceof $;(c||f)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,a){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,a=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),a=new be(r),s=new pe(a);return new W(s)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let a,s;return typeof t<"u"&&(t instanceof HTMLVideoElement?(a=t.videoWidth,s=t.videoHeight):t instanceof HTMLImageElement&&(a=t.naturalWidth||t.width,s=t.naturalHeight||t.height)),r.style.width=a+"px",r.style.height=s+"px",r.width=a,r.height=s,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class _e{constructor(t,r,a=r==null?0:8*r.length,s,c,f=le.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=a,this.resultPoints=s,this.format=c,this.timestamp=f,this.text=t,this.rawBytes=r,a==null?this.numBits=r==null?0:8*r.length:this.numBits=a,this.resultPoints=s,this.format=c,this.resultMetadata=null,f==null?this.timestamp=le.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const a=new Array(r.length+t.length);le.arraycopy(r,0,a,0,r.length),le.arraycopy(t,0,a,r.length,t.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var He;(function(D){D[D.AZTEC=0]="AZTEC",D[D.CODABAR=1]="CODABAR",D[D.CODE_39=2]="CODE_39",D[D.CODE_93=3]="CODE_93",D[D.CODE_128=4]="CODE_128",D[D.DATA_MATRIX=5]="DATA_MATRIX",D[D.EAN_8=6]="EAN_8",D[D.EAN_13=7]="EAN_13",D[D.ITF=8]="ITF",D[D.MAXICODE=9]="MAXICODE",D[D.PDF_417=10]="PDF_417",D[D.QR_CODE=11]="QR_CODE",D[D.RSS_14=12]="RSS_14",D[D.RSS_EXPANDED=13]="RSS_EXPANDED",D[D.UPC_A=14]="UPC_A",D[D.UPC_E=15]="UPC_E",D[D.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(He||(He={}));var Ae=He,Je;(function(D){D[D.OTHER=0]="OTHER",D[D.ORIENTATION=1]="ORIENTATION",D[D.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",D[D.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",D[D.ISSUE_NUMBER=4]="ISSUE_NUMBER",D[D.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",D[D.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",D[D.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",D[D.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",D[D.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",D[D.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Je||(Je={}));var We=Je;class it{constructor(t,r,a,s,c=-1,f=-1){this.rawBytes=t,this.text=r,this.byteSegments=a,this.ecLevel=s,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=f,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ue{exp(t){return this.expTable[t]}log(t){if(t===0)throw new L;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class en{constructor(t,r){if(r.length===0)throw new L;this.field=t;const a=r.length;if(a>1&&r[0]===0){let s=1;for(;s<a&&r[s]===0;)s++;s===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-s),le.arraycopy(r,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let a;if(t===1){a=0;for(let f=0,i=r.length;f!==i;f++){const o=r[f];a=Ue.addOrSubtract(a,o)}return a}a=r[0];const s=r.length,c=this.field;for(let f=1;f<s;f++)a=Ue.addOrSubtract(c.multiply(t,a),r[f]);return a}addOrSubtract(t){if(!this.field.equals(t.field))throw new L("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,a=t.coefficients;if(r.length>a.length){const f=r;r=a,a=f}let s=new Int32Array(a.length);const c=a.length-r.length;le.arraycopy(a,0,s,0,c);for(let f=c;f<a.length;f++)s[f]=Ue.addOrSubtract(r[f-c],a[f]);return new en(this.field,s)}multiply(t){if(!this.field.equals(t.field))throw new L("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,a=r.length,s=t.coefficients,c=s.length,f=new Int32Array(a+c-1),i=this.field;for(let o=0;o<a;o++){const d=r[o];for(let x=0;x<c;x++)f[o+x]=Ue.addOrSubtract(f[o+x],i.multiply(d,s[x]))}return new en(i,f)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,a=this.field,s=new Int32Array(r),c=this.coefficients;for(let f=0;f<r;f++)s[f]=a.multiply(c[f],t);return new en(a,s)}multiplyByMonomial(t,r){if(t<0)throw new L;if(r===0)return this.field.getZero();const a=this.coefficients,s=a.length,c=new Int32Array(s+t),f=this.field;for(let i=0;i<s;i++)c[i]=f.multiply(a[i],r);return new en(f,c)}divide(t){if(!this.field.equals(t.field))throw new L("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new L("Divide by 0");const r=this.field;let a=r.getZero(),s=this;const c=t.getCoefficient(t.getDegree()),f=r.inverse(c);for(;s.getDegree()>=t.getDegree()&&!s.isZero();){const i=s.getDegree()-t.getDegree(),o=r.multiply(s.getCoefficient(s.getDegree()),f),d=t.multiplyByMonomial(i,o),x=r.buildMonomial(i,o);a=a.addOrSubtract(x),s=s.addOrSubtract(d)}return[a,s]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);if(a!==0){if(a<0?(t+=" - ",a=-a):t.length>0&&(t+=" + "),r===0||a!==1){const s=this.field.log(a);s===0?t+="1":s===1?t+="a":(t+="a^",t+=s)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class gt extends S{}gt.kind="ArithmeticException";class xt extends Ue{constructor(t,r,a){super(),this.primitive=t,this.size=r,this.generatorBase=a;const s=new Int32Array(r);let c=1;for(let i=0;i<r;i++)s[i]=c,c*=2,c>=r&&(c^=t,c&=r-1);this.expTable=s;const f=new Int32Array(r);for(let i=0;i<r-1;i++)f[s[i]]=i;this.logTable=f,this.zero=new en(this,Int32Array.from([0])),this.one=new en(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new L;if(r===0)return this.zero;const a=new Int32Array(t+1);return a[0]=r,new en(this,a)}inverse(t){if(t===0)throw new gt;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+se.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}xt.AZTEC_DATA_12=new xt(4201,4096,1),xt.AZTEC_DATA_10=new xt(1033,1024,1),xt.AZTEC_DATA_6=new xt(67,64,1),xt.AZTEC_PARAM=new xt(19,16,1),xt.QR_CODE_FIELD_256=new xt(285,256,0),xt.DATA_MATRIX_FIELD_256=new xt(301,256,1),xt.AZTEC_DATA_8=xt.DATA_MATRIX_FIELD_256,xt.MAXICODE_FIELD_64=xt.AZTEC_DATA_6;class cn extends S{}cn.kind="ReedSolomonException";class pn extends S{}pn.kind="IllegalStateException";class Tr{constructor(t){this.field=t}decode(t,r){const a=this.field,s=new en(a,t),c=new Int32Array(r);let f=!0;for(let C=0;C<r;C++){const N=s.evaluateAt(a.exp(C+a.getGeneratorBase()));c[c.length-1-C]=N,N!==0&&(f=!1)}if(f)return;const i=new en(a,c),o=this.runEuclideanAlgorithm(a.buildMonomial(r,1),i,r),d=o[0],x=o[1],b=this.findErrorLocations(d),A=this.findErrorMagnitudes(x,b);for(let C=0;C<b.length;C++){const N=t.length-1-a.log(b[C]);if(N<0)throw new cn("Bad error location");t[N]=xt.addOrSubtract(t[N],A[C])}}runEuclideanAlgorithm(t,r,a){if(t.getDegree()<r.getDegree()){const C=t;t=r,r=C}const s=this.field;let c=t,f=r,i=s.getZero(),o=s.getOne();for(;f.getDegree()>=(a/2|0);){let C=c,N=i;if(c=f,i=o,c.isZero())throw new cn("r_{i-1} was zero");f=C;let I=s.getZero();const k=c.getCoefficient(c.getDegree()),B=s.inverse(k);for(;f.getDegree()>=c.getDegree()&&!f.isZero();){const z=f.getDegree()-c.getDegree(),P=s.multiply(f.getCoefficient(f.getDegree()),B);I=I.addOrSubtract(s.buildMonomial(z,P)),f=f.addOrSubtract(c.multiplyByMonomial(z,P))}if(o=I.multiply(i).addOrSubtract(N),f.getDegree()>=c.getDegree())throw new pn("Division algorithm failed to reduce polynomial?")}const d=o.getCoefficient(0);if(d===0)throw new cn("sigmaTilde(0) was zero");const x=s.inverse(d),b=o.multiplyScalar(x),A=f.multiplyScalar(x);return[b,A]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const a=new Int32Array(r);let s=0;const c=this.field;for(let f=1;f<c.getSize()&&s<r;f++)t.evaluateAt(f)===0&&(a[s]=c.inverse(f),s++);if(s!==r)throw new cn("Error locator degree does not match number of roots");return a}findErrorMagnitudes(t,r){const a=r.length,s=new Int32Array(a),c=this.field;for(let f=0;f<a;f++){const i=c.inverse(r[f]);let o=1;for(let d=0;d<a;d++)if(f!==d){const x=c.multiply(r[d],i),b=(x&1)===0?x|1:x&-2;o=c.multiply(o,b)}s[f]=c.multiply(t.evaluateAt(i),c.inverse(o)),c.getGeneratorBase()!==0&&(s[f]=c.multiply(s[f],i))}return s}}var Gn;(function(D){D[D.UPPER=0]="UPPER",D[D.LOWER=1]="LOWER",D[D.MIXED=2]="MIXED",D[D.DIGIT=3]="DIGIT",D[D.PUNCT=4]="PUNCT",D[D.BINARY=5]="BINARY"})(Gn||(Gn={}));class Wt{decode(t){this.ddata=t;let r=t.getBits(),a=this.extractBits(r),s=this.correctBits(a),c=Wt.convertBoolArrayToByteArray(s),f=Wt.getEncodedData(s),i=new it(c,f,null,null);return i.setNumBits(s.length),i}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,a=Gn.UPPER,s=Gn.UPPER,c="",f=0;for(;f<r;)if(s===Gn.BINARY){if(r-f<5)break;let i=Wt.readCode(t,f,5);if(f+=5,i===0){if(r-f<11)break;i=Wt.readCode(t,f,11)+31,f+=11}for(let o=0;o<i;o++){if(r-f<8){f=r;break}const d=Wt.readCode(t,f,8);c+=we.castAsNonUtf8Char(d),f+=8}s=a}else{let i=s===Gn.DIGIT?4:5;if(r-f<i)break;let o=Wt.readCode(t,f,i);f+=i;let d=Wt.getCharacter(s,o);d.startsWith("CTRL_")?(a=s,s=Wt.getTable(d.charAt(5)),d.charAt(6)==="L"&&(a=s)):(c+=d,s=a)}return c}static getTable(t){switch(t){case"L":return Gn.LOWER;case"P":return Gn.PUNCT;case"M":return Gn.MIXED;case"D":return Gn.DIGIT;case"B":return Gn.BINARY;default:return Gn.UPPER}}static getCharacter(t,r){switch(t){case Gn.UPPER:return Wt.UPPER_TABLE[r];case Gn.LOWER:return Wt.LOWER_TABLE[r];case Gn.MIXED:return Wt.MIXED_TABLE[r];case Gn.PUNCT:return Wt.PUNCT_TABLE[r];case Gn.DIGIT:return Wt.DIGIT_TABLE[r];default:throw new pn("Bad table")}}correctBits(t){let r,a;this.ddata.getNbLayers()<=2?(a=6,r=xt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,r=xt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,r=xt.AZTEC_DATA_10):(a=12,r=xt.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),c=t.length/a;if(c<s)throw new X;let f=t.length%a,i=new Int32Array(c);for(let A=0;A<c;A++,f+=a)i[A]=Wt.readCode(t,f,a);try{new Tr(r).decode(i,c-s)}catch(A){throw new X(A)}let o=(1<<a)-1,d=0;for(let A=0;A<s;A++){let C=i[A];if(C===0||C===o)throw new X;(C===1||C===o-1)&&d++}let x=new Array(s*a-d),b=0;for(let A=0;A<s;A++){let C=i[A];if(C===1||C===o-1)x.fill(C>1,b,b+a-1),b+=a-1;else for(let N=a-1;N>=0;--N)x[b++]=(C&1<<N)!==0}return x}extractBits(t){let r=this.ddata.isCompact(),a=this.ddata.getNbLayers(),s=(r?11:14)+a*4,c=new Int32Array(s),f=new Array(this.totalBitsInLayer(a,r));if(r)for(let i=0;i<c.length;i++)c[i]=i;else{let i=s+1+2*se.truncDivision(se.truncDivision(s,2)-1,15),o=s/2,d=se.truncDivision(i,2);for(let x=0;x<o;x++){let b=x+se.truncDivision(x,15);c[o-x-1]=d-b-1,c[o+x]=d+b+1}}for(let i=0,o=0;i<a;i++){let d=(a-i)*4+(r?9:12),x=i*2,b=s-1-x;for(let A=0;A<d;A++){let C=A*2;for(let N=0;N<2;N++)f[o+C+N]=t.get(c[x+N],c[x+A]),f[o+2*d+C+N]=t.get(c[x+A],c[b-N]),f[o+4*d+C+N]=t.get(c[b-N],c[b-A]),f[o+6*d+C+N]=t.get(c[b-A],c[x+N])}o+=d*8}return f}static readCode(t,r,a){let s=0;for(let c=r;c<r+a;c++)s<<=1,t[c]&&(s|=1);return s}static readByte(t,r){let a=t.length-r;return a>=8?Wt.readCode(t,r,8):Wt.readCode(t,r,a)<<8-a}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let a=0;a<r.length;a++)r[a]=Wt.readByte(t,8*a);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Wt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Wt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Wt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Wt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Wt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class _t{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,a,s){const c=t-a,f=r-s;return Math.sqrt(c*c+f*f)}static sum(t){let r=0;for(let a=0,s=t.length;a!==s;a++){const c=t[a];r+=c}return r}}class ir{static floatToIntBits(t){return t}}ir.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ke{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Ke){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*ir.floatToIntBits(this.x)+ir.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),a=this.distance(t[1],t[2]),s=this.distance(t[0],t[2]);let c,f,i;if(a>=r&&a>=s?(f=t[0],c=t[1],i=t[2]):s>=a&&s>=r?(f=t[1],c=t[0],i=t[2]):(f=t[2],c=t[0],i=t[1]),this.crossProductZ(c,f,i)<0){const o=c;c=i,i=o}t[0]=c,t[1]=f,t[2]=i}static distance(t,r){return _t.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,a){const s=r.x,c=r.y;return(a.x-s)*(t.y-c)-(a.y-c)*(t.x-s)}}class ti{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class pi extends ti{constructor(t,r,a,s,c){super(t,r),this.compact=a,this.nbDatablocks=s,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class yn{constructor(t,r,a,s){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=yn.INIT_SIZE),a==null&&(a=t.getWidth()/2|0),s==null&&(s=t.getHeight()/2|0);const c=r/2|0;if(this.leftInit=a-c,this.rightInit=a+c,this.upInit=s-c,this.downInit=s+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new $}detect(){let t=this.leftInit,r=this.rightInit,a=this.upInit,s=this.downInit,c=!1,f=!0,i=!1,o=!1,d=!1,x=!1,b=!1;const A=this.width,C=this.height;for(;f;){f=!1;let N=!0;for(;(N||!o)&&r<A;)N=this.containsBlackPoint(a,s,r,!1),N?(r++,f=!0,o=!0):o||r++;if(r>=A){c=!0;break}let I=!0;for(;(I||!d)&&s<C;)I=this.containsBlackPoint(t,r,s,!0),I?(s++,f=!0,d=!0):d||s++;if(s>=C){c=!0;break}let k=!0;for(;(k||!x)&&t>=0;)k=this.containsBlackPoint(a,s,t,!1),k?(t--,f=!0,x=!0):x||t--;if(t<0){c=!0;break}let B=!0;for(;(B||!b)&&a>=0;)B=this.containsBlackPoint(t,r,a,!0),B?(a--,f=!0,b=!0):b||a--;if(a<0){c=!0;break}f&&(i=!0)}if(!c&&i){const N=r-t;let I=null;for(let P=1;I===null&&P<N;P++)I=this.getBlackPointOnSegment(t,s-P,t+P,s);if(I==null)throw new $;let k=null;for(let P=1;k===null&&P<N;P++)k=this.getBlackPointOnSegment(t,a+P,t+P,a);if(k==null)throw new $;let B=null;for(let P=1;B===null&&P<N;P++)B=this.getBlackPointOnSegment(r,a+P,r-P,a);if(B==null)throw new $;let z=null;for(let P=1;z===null&&P<N;P++)z=this.getBlackPointOnSegment(r,s-P,r-P,s);if(z==null)throw new $;return this.centerEdges(z,I,B,k)}else throw new $}getBlackPointOnSegment(t,r,a,s){const c=_t.round(_t.distance(t,r,a,s)),f=(a-t)/c,i=(s-r)/c,o=this.image;for(let d=0;d<c;d++){const x=_t.round(t+d*f),b=_t.round(r+d*i);if(o.get(x,b))return new Ke(x,b)}return null}centerEdges(t,r,a,s){const c=t.getX(),f=t.getY(),i=r.getX(),o=r.getY(),d=a.getX(),x=a.getY(),b=s.getX(),A=s.getY(),C=yn.CORR;return c<this.width/2?[new Ke(b-C,A+C),new Ke(i+C,o+C),new Ke(d-C,x-C),new Ke(c+C,f-C)]:[new Ke(b+C,A+C),new Ke(i+C,o-C),new Ke(d-C,x+C),new Ke(c-C,f-C)]}containsBlackPoint(t,r,a,s){const c=this.image;if(s){for(let f=t;f<=r;f++)if(c.get(f,a))return!0}else for(let f=t;f<=r;f++)if(c.get(a,f))return!0;return!1}}yn.INIT_SIZE=10,yn.CORR=1;class yi{static checkAndNudgePoints(t,r){const a=t.getWidth(),s=t.getHeight();let c=!0;for(let f=0;f<r.length&&c;f+=2){const i=Math.floor(r[f]),o=Math.floor(r[f+1]);if(i<-1||i>a||o<-1||o>s)throw new $;c=!1,i===-1?(r[f]=0,c=!0):i===a&&(r[f]=a-1,c=!0),o===-1?(r[f+1]=0,c=!0):o===s&&(r[f+1]=s-1,c=!0)}c=!0;for(let f=r.length-2;f>=0&&c;f-=2){const i=Math.floor(r[f]),o=Math.floor(r[f+1]);if(i<-1||i>a||o<-1||o>s)throw new $;c=!1,i===-1?(r[f]=0,c=!0):i===a&&(r[f]=a-1,c=!0),o===-1?(r[f+1]=0,c=!0):o===s&&(r[f+1]=s-1,c=!0)}}}class dn{constructor(t,r,a,s,c,f,i,o,d){this.a11=t,this.a21=r,this.a31=a,this.a12=s,this.a22=c,this.a32=f,this.a13=i,this.a23=o,this.a33=d}static quadrilateralToQuadrilateral(t,r,a,s,c,f,i,o,d,x,b,A,C,N,I,k){const B=dn.quadrilateralToSquare(t,r,a,s,c,f,i,o);return dn.squareToQuadrilateral(d,x,b,A,C,N,I,k).times(B)}transformPoints(t){const r=t.length,a=this.a11,s=this.a12,c=this.a13,f=this.a21,i=this.a22,o=this.a23,d=this.a31,x=this.a32,b=this.a33;for(let A=0;A<r;A+=2){const C=t[A],N=t[A+1],I=c*C+o*N+b;t[A]=(a*C+f*N+d)/I,t[A+1]=(s*C+i*N+x)/I}}transformPointsWithValues(t,r){const a=this.a11,s=this.a12,c=this.a13,f=this.a21,i=this.a22,o=this.a23,d=this.a31,x=this.a32,b=this.a33,A=t.length;for(let C=0;C<A;C++){const N=t[C],I=r[C],k=c*N+o*I+b;t[C]=(a*N+f*I+d)/k,r[C]=(s*N+i*I+x)/k}}static squareToQuadrilateral(t,r,a,s,c,f,i,o){const d=t-a+c-i,x=r-s+f-o;if(d===0&&x===0)return new dn(a-t,c-a,t,s-r,f-s,r,0,0,1);{const b=a-c,A=i-c,C=s-f,N=o-f,I=b*N-A*C,k=(d*N-A*x)/I,B=(b*x-d*C)/I;return new dn(a-t+k*a,i-t+B*i,t,s-r+k*s,o-r+B*o,r,k,B,1)}}static quadrilateralToSquare(t,r,a,s,c,f,i,o){return dn.squareToQuadrilateral(t,r,a,s,c,f,i,o).buildAdjoint()}buildAdjoint(){return new dn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new dn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class dr extends yi{sampleGrid(t,r,a,s,c,f,i,o,d,x,b,A,C,N,I,k,B,z,P){const U=dn.quadrilateralToQuadrilateral(s,c,f,i,o,d,x,b,A,C,N,I,k,B,z,P);return this.sampleGridWithTransform(t,r,a,U)}sampleGridWithTransform(t,r,a,s){if(r<=0||a<=0)throw new $;const c=new Re(r,a),f=new Float32Array(2*r);for(let i=0;i<a;i++){const o=f.length,d=i+.5;for(let x=0;x<o;x+=2)f[x]=x/2+.5,f[x+1]=d;s.transformPoints(f),yi.checkAndNudgePoints(t,f);try{for(let x=0;x<o;x+=2)t.get(Math.floor(f[x]),Math.floor(f[x+1]))&&c.set(x/2,i)}catch{throw new $}}return c}}class Xn{static setGridSampler(t){Xn.gridSampler=t}static getInstance(){return Xn.gridSampler}}Xn.gridSampler=new dr;class bn{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new Ke(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ki{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),a=this.getBullsEyeCorners(r);if(t){let f=a[0];a[0]=a[2],a[2]=f}this.extractParameters(a);let s=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),c=this.getMatrixCornerPoints(a);return new pi(s,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new $;let r=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(a,r);let s=0;for(let f=0;f<4;f++){let i=a[(this.shift+f)%4];this.compact?(s<<=7,s+=i>>1&127):(s<<=10,s+=(i>>2&992)+(i>>1&31))}let c=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(t,r){let a=0;t.forEach((s,c,f)=>{let i=(s>>r-2<<1)+(s&1);a=(a<<3)+i}),a=((a&1)<<11)+(a>>1);for(let s=0;s<4;s++)if(se.bitCount(a^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new $}getCorrectedParameterData(t,r){let a,s;r?(a=7,s=2):(a=10,s=4);let c=a-s,f=new Int32Array(a);for(let o=a-1;o>=0;--o)f[o]=t&15,t>>=4;try{new Tr(xt.AZTEC_PARAM).decode(f,c)}catch{throw new $}let i=0;for(let o=0;o<s;o++)i=(i<<4)+f[o];return i}getBullsEyeCorners(t){let r=t,a=t,s=t,c=t,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let b=this.getFirstDifferent(r,f,1,-1),A=this.getFirstDifferent(a,f,1,1),C=this.getFirstDifferent(s,f,-1,1),N=this.getFirstDifferent(c,f,-1,-1);if(this.nbCenterLayers>2){let I=this.distancePoint(N,b)*this.nbCenterLayers/(this.distancePoint(c,r)*(this.nbCenterLayers+2));if(I<.75||I>1.25||!this.isWhiteOrBlackRectangle(b,A,C,N))break}r=b,a=A,s=C,c=N,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new $;this.compact=this.nbCenterLayers===5;let i=new Ke(r.getX()+.5,r.getY()-.5),o=new Ke(a.getX()+.5,a.getY()+.5),d=new Ke(s.getX()-.5,s.getY()+.5),x=new Ke(c.getX()-.5,c.getY()-.5);return this.expandSquare([i,o,d,x],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,a,s;try{let i=new yn(this.image).detect();t=i[0],r=i[1],a=i[2],s=i[3]}catch{let o=this.image.getWidth()/2,d=this.image.getHeight()/2;t=this.getFirstDifferent(new bn(o+7,d-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new bn(o+7,d+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new bn(o-7,d+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new bn(o-7,d-7),!1,-1,-1).toResultPoint()}let c=_t.round((t.getX()+s.getX()+r.getX()+a.getX())/4),f=_t.round((t.getY()+s.getY()+r.getY()+a.getY())/4);try{let i=new yn(this.image,15,c,f).detect();t=i[0],r=i[1],a=i[2],s=i[3]}catch{t=this.getFirstDifferent(new bn(c+7,f-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new bn(c+7,f+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new bn(c-7,f+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new bn(c-7,f-7),!1,-1,-1).toResultPoint()}return c=_t.round((t.getX()+s.getX()+r.getX()+a.getX())/4),f=_t.round((t.getY()+s.getY()+r.getY()+a.getY())/4),new bn(c,f)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,a,s,c){let f=Xn.getInstance(),i=this.getDimension(),o=i/2-this.nbCenterLayers,d=i/2+this.nbCenterLayers;return f.sampleGrid(t,i,i,o,o,d,o,d,d,o,d,r.getX(),r.getY(),a.getX(),a.getY(),s.getX(),s.getY(),c.getX(),c.getY())}sampleLine(t,r,a){let s=0,c=this.distanceResultPoint(t,r),f=c/a,i=t.getX(),o=t.getY(),d=f*(r.getX()-t.getX())/c,x=f*(r.getY()-t.getY())/c;for(let b=0;b<a;b++)this.image.get(_t.round(i+b*d),_t.round(o+b*x))&&(s|=1<<a-b-1);return s}isWhiteOrBlackRectangle(t,r,a,s){let c=3;t=new bn(t.getX()-c,t.getY()+c),r=new bn(r.getX()-c,r.getY()-c),a=new bn(a.getX()+c,a.getY()-c),s=new bn(s.getX()+c,s.getY()+c);let f=this.getColor(s,t);if(f===0)return!1;let i=this.getColor(t,r);return i!==f||(i=this.getColor(r,a),i!==f)?!1:(i=this.getColor(a,s),i===f)}getColor(t,r){let a=this.distancePoint(t,r),s=(r.getX()-t.getX())/a,c=(r.getY()-t.getY())/a,f=0,i=t.getX(),o=t.getY(),d=this.image.get(t.getX(),t.getY()),x=Math.ceil(a);for(let A=0;A<x;A++)i+=s,o+=c,this.image.get(_t.round(i),_t.round(o))!==d&&f++;let b=f/a;return b>.1&&b<.9?0:b<=.1===d?1:-1}getFirstDifferent(t,r,a,s){let c=t.getX()+a,f=t.getY()+s;for(;this.isValid(c,f)&&this.image.get(c,f)===r;)c+=a,f+=s;for(c-=a,f-=s;this.isValid(c,f)&&this.image.get(c,f)===r;)c+=a;for(c-=a;this.isValid(c,f)&&this.image.get(c,f)===r;)f+=s;return f-=s,new bn(c,f)}expandSquare(t,r,a){let s=a/(2*r),c=t[0].getX()-t[2].getX(),f=t[0].getY()-t[2].getY(),i=(t[0].getX()+t[2].getX())/2,o=(t[0].getY()+t[2].getY())/2,d=new Ke(i+s*c,o+s*f),x=new Ke(i-s*c,o-s*f);c=t[1].getX()-t[3].getX(),f=t[1].getY()-t[3].getY(),i=(t[1].getX()+t[3].getX())/2,o=(t[1].getY()+t[3].getY())/2;let b=new Ke(i+s*c,o+s*f),A=new Ke(i-s*c,o-s*f);return[d,b,x,A]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=_t.round(t.getX()),a=_t.round(t.getY());return this.isValid(r,a)}distancePoint(t,r){return _t.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return _t.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(se.truncDivision(this.nbLayers-4,8)+1)+15}}class hr{decode(t,r=null){let a=null,s=new ki(t.getBlackMatrix()),c=null,f=null;try{let x=s.detectMirror(!1);c=x.getPoints(),this.reportFoundResultPoints(r,c),f=new Wt().decode(x)}catch(x){a=x}if(f==null)try{let x=s.detectMirror(!0);c=x.getPoints(),this.reportFoundResultPoints(r,c),f=new Wt().decode(x)}catch(x){throw a??x}let i=new _e(f.getText(),f.getRawBytes(),f.getNumBits(),c,Ae.AZTEC,le.currentTimeMillis()),o=f.getByteSegments();o!=null&&i.putMetadata(We.BYTE_SEGMENTS,o);let d=f.getECLevel();return d!=null&&i.putMetadata(We.ERROR_CORRECTION_LEVEL,d),i}reportFoundResultPoints(t,r){if(t!=null){let a=t.get(he.NEED_RESULT_POINT_CALLBACK);a!=null&&r.forEach((s,c,f)=>{a.foundPossibleResultPoint(s)})}}reset(){}}class ni extends ze{constructor(t=500){super(new hr,t)}}class tn{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(he.TRY_HARDER)===!0&&t.isRotateSupported()){const c=t.rotateCounterClockwise(),f=this.doDecode(c,r),i=f.getResultMetadata();let o=270;i!==null&&i.get(We.ORIENTATION)===!0&&(o=o+i.get(We.ORIENTATION)%360),f.putMetadata(We.ORIENTATION,o);const d=f.getResultPoints();if(d!==null){const x=c.getHeight();for(let b=0;b<d.length;b++)d[b]=new Ke(x-d[b].getY()-1,d[b].getX())}return f}else throw new $}}reset(){}doDecode(t,r){const a=t.getWidth(),s=t.getHeight();let c=new me(a);const f=r&&r.get(he.TRY_HARDER)===!0,i=Math.max(1,s>>(f?8:5));let o;f?o=s:o=15;const d=Math.trunc(s/2);for(let x=0;x<o;x++){const b=Math.trunc((x+1)/2),A=(x&1)===0,C=d+i*(A?b:-b);if(C<0||C>=s)break;try{c=t.getBlackRow(C,c)}catch{continue}for(let N=0;N<2;N++){if(N===1&&(c.reverse(),r&&r.get(he.NEED_RESULT_POINT_CALLBACK)===!0)){const I=new Map;r.forEach((k,B)=>I.set(B,k)),I.delete(he.NEED_RESULT_POINT_CALLBACK),r=I}try{const I=this.decodeRow(C,c,r);if(N===1){I.putMetadata(We.ORIENTATION,180);const k=I.getResultPoints();k!==null&&(k[0]=new Ke(a-k[0].getX()-1,k[0].getY()),k[1]=new Ke(a-k[1].getX()-1,k[1].getY()))}return I}catch{}}}throw new $}static recordPattern(t,r,a){const s=a.length;for(let d=0;d<s;d++)a[d]=0;const c=t.getSize();if(r>=c)throw new $;let f=!t.get(r),i=0,o=r;for(;o<c;){if(t.get(o)!==f)a[i]++;else{if(++i===s)break;a[i]=1,f=!f}o++}if(!(i===s||i===s-1&&o===c))throw new $}static recordPatternInReverse(t,r,a){let s=a.length,c=t.get(r);for(;r>0&&s>=0;)t.get(--r)!==c&&(s--,c=!c);if(s>=0)throw new $;tn.recordPattern(t,r+1,a)}static patternMatchVariance(t,r,a){const s=t.length;let c=0,f=0;for(let d=0;d<s;d++)c+=t[d],f+=r[d];if(c<f)return Number.POSITIVE_INFINITY;const i=c/f;a*=i;let o=0;for(let d=0;d<s;d++){const x=t[d],b=r[d]*i,A=x>b?x-b:b-x;if(A>a)return Number.POSITIVE_INFINITY;o+=A}return o/c}}class Fe extends tn{static findStartPattern(t){const r=t.getSize(),a=t.getNextSet(0);let s=0,c=Int32Array.from([0,0,0,0,0,0]),f=a,i=!1;const o=6;for(let d=a;d<r;d++)if(t.get(d)!==i)c[s]++;else{if(s===o-1){let x=Fe.MAX_AVG_VARIANCE,b=-1;for(let A=Fe.CODE_START_A;A<=Fe.CODE_START_C;A++){const C=tn.patternMatchVariance(c,Fe.CODE_PATTERNS[A],Fe.MAX_INDIVIDUAL_VARIANCE);C<x&&(x=C,b=A)}if(b>=0&&t.isRange(Math.max(0,f-(d-f)/2),f,!1))return Int32Array.from([f,d,b]);f+=c[0]+c[1],c=c.slice(2,c.length-1),c[s-1]=0,c[s]=0,s--}else s++;c[s]=1,i=!i}throw new $}static decodeCode(t,r,a){tn.recordPattern(t,a,r);let s=Fe.MAX_AVG_VARIANCE,c=-1;for(let f=0;f<Fe.CODE_PATTERNS.length;f++){const i=Fe.CODE_PATTERNS[f],o=this.patternMatchVariance(r,i,Fe.MAX_INDIVIDUAL_VARIANCE);o<s&&(s=o,c=f)}if(c>=0)return c;throw new $}decodeRow(t,r,a){const s=a&&a.get(he.ASSUME_GS1)===!0,c=Fe.findStartPattern(r),f=c[2];let i=0;const o=new Uint8Array(20);o[i++]=f;let d;switch(f){case Fe.CODE_START_A:d=Fe.CODE_CODE_A;break;case Fe.CODE_START_B:d=Fe.CODE_CODE_B;break;case Fe.CODE_START_C:d=Fe.CODE_CODE_C;break;default:throw new X}let x=!1,b=!1,A="",C=c[0],N=c[1];const I=Int32Array.from([0,0,0,0,0,0]);let k=0,B=0,z=f,P=0,U=!0,G=!1,V=!1;for(;!x;){const ke=b;switch(b=!1,k=B,B=Fe.decodeCode(r,I,N),o[i++]=B,B!==Fe.CODE_STOP&&(U=!0),B!==Fe.CODE_STOP&&(P++,z+=P*B),C=N,N+=I.reduce(($e,Qe)=>$e+Qe,0),B){case Fe.CODE_START_A:case Fe.CODE_START_B:case Fe.CODE_START_C:throw new X}switch(d){case Fe.CODE_CODE_A:if(B<64)V===G?A+=String.fromCharCode(32+B):A+=String.fromCharCode(32+B+128),V=!1;else if(B<96)V===G?A+=String.fromCharCode(B-64):A+=String.fromCharCode(B+64),V=!1;else switch(B!==Fe.CODE_STOP&&(U=!1),B){case Fe.CODE_FNC_1:s&&(A.length===0?A+="]C1":A+="");break;case Fe.CODE_FNC_2:case Fe.CODE_FNC_3:break;case Fe.CODE_FNC_4_A:!G&&V?(G=!0,V=!1):G&&V?(G=!1,V=!1):V=!0;break;case Fe.CODE_SHIFT:b=!0,d=Fe.CODE_CODE_B;break;case Fe.CODE_CODE_B:d=Fe.CODE_CODE_B;break;case Fe.CODE_CODE_C:d=Fe.CODE_CODE_C;break;case Fe.CODE_STOP:x=!0;break}break;case Fe.CODE_CODE_B:if(B<96)V===G?A+=String.fromCharCode(32+B):A+=String.fromCharCode(32+B+128),V=!1;else switch(B!==Fe.CODE_STOP&&(U=!1),B){case Fe.CODE_FNC_1:s&&(A.length===0?A+="]C1":A+="");break;case Fe.CODE_FNC_2:case Fe.CODE_FNC_3:break;case Fe.CODE_FNC_4_B:!G&&V?(G=!0,V=!1):G&&V?(G=!1,V=!1):V=!0;break;case Fe.CODE_SHIFT:b=!0,d=Fe.CODE_CODE_A;break;case Fe.CODE_CODE_A:d=Fe.CODE_CODE_A;break;case Fe.CODE_CODE_C:d=Fe.CODE_CODE_C;break;case Fe.CODE_STOP:x=!0;break}break;case Fe.CODE_CODE_C:if(B<100)B<10&&(A+="0"),A+=B;else switch(B!==Fe.CODE_STOP&&(U=!1),B){case Fe.CODE_FNC_1:s&&(A.length===0?A+="]C1":A+="");break;case Fe.CODE_CODE_A:d=Fe.CODE_CODE_A;break;case Fe.CODE_CODE_B:d=Fe.CODE_CODE_B;break;case Fe.CODE_STOP:x=!0;break}break}ke&&(d=d===Fe.CODE_CODE_A?Fe.CODE_CODE_B:Fe.CODE_CODE_A)}const ne=N-C;if(N=r.getNextUnset(N),!r.isRange(N,Math.min(r.getSize(),N+(N-C)/2),!1))throw new $;if(z-=P*k,z%103!==k)throw new K;const ce=A.length;if(ce===0)throw new $;ce>0&&U&&(d===Fe.CODE_CODE_C?A=A.substring(0,ce-2):A=A.substring(0,ce-1));const te=(c[1]+c[0])/2,ge=C+ne/2,Oe=o.length,Ve=new Uint8Array(Oe);for(let ke=0;ke<Oe;ke++)Ve[ke]=o[ke];const Ge=[new Ke(te,t),new Ke(ge,t)];return new _e(A,Ve,0,Ge,Ae.CODE_128,new Date().getTime())}}Fe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Fe.MAX_AVG_VARIANCE=.25,Fe.MAX_INDIVIDUAL_VARIANCE=.7,Fe.CODE_SHIFT=98,Fe.CODE_CODE_C=99,Fe.CODE_CODE_B=100,Fe.CODE_CODE_A=101,Fe.CODE_FNC_1=102,Fe.CODE_FNC_2=97,Fe.CODE_FNC_3=96,Fe.CODE_FNC_4_A=101,Fe.CODE_FNC_4_B=100,Fe.CODE_START_A=103,Fe.CODE_START_B=104,Fe.CODE_START_C=105,Fe.CODE_STOP=106;class Dt extends tn{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,a){let s=this.counters;s.fill(0),this.decodeRowResult="";let c=Dt.findAsteriskPattern(r,s),f=r.getNextSet(c[1]),i=r.getSize(),o,d;do{Dt.recordPattern(r,f,s);let I=Dt.toNarrowWidePattern(s);if(I<0)throw new $;o=Dt.patternToChar(I),this.decodeRowResult+=o,d=f;for(let k of s)f+=k;f=r.getNextSet(f)}while(o!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let x=0;for(let I of s)x+=I;let b=f-d-x;if(f!==i&&b*2<x)throw new $;if(this.usingCheckDigit){let I=this.decodeRowResult.length-1,k=0;for(let B=0;B<I;B++)k+=Dt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(B));if(this.decodeRowResult.charAt(I)!==Dt.ALPHABET_STRING.charAt(k%43))throw new K;this.decodeRowResult=this.decodeRowResult.substring(0,I)}if(this.decodeRowResult.length===0)throw new $;let A;this.extendedMode?A=Dt.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let C=(c[1]+c[0])/2,N=d+x/2;return new _e(A,null,0,[new Ke(C,t),new Ke(N,t)],Ae.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let a=t.getSize(),s=t.getNextSet(0),c=0,f=s,i=!1,o=r.length;for(let d=s;d<a;d++)if(t.get(d)!==i)r[c]++;else{if(c===o-1){if(this.toNarrowWidePattern(r)===Dt.ASTERISK_ENCODING&&t.isRange(Math.max(0,f-Math.floor((d-f)/2)),f,!1))return[f,d];f+=r[0]+r[1],r.copyWithin(0,2,2+c-1),r[c-1]=0,r[c]=0,c--}else c++;r[c]=1,i=!i}throw new $}static toNarrowWidePattern(t){let r=t.length,a=0,s;do{let c=2147483647;for(let o of t)o<c&&o>a&&(c=o);a=c,s=0;let f=0,i=0;for(let o=0;o<r;o++){let d=t[o];d>a&&(i|=1<<r-1-o,s++,f+=d)}if(s===3){for(let o=0;o<r&&s>0;o++){let d=t[o];if(d>a&&(s--,d*2>=f))return-1}return i}}while(s>3);return-1}static patternToChar(t){for(let r=0;r<Dt.CHARACTER_ENCODINGS.length;r++)if(Dt.CHARACTER_ENCODINGS[r]===t)return Dt.ALPHABET_STRING.charAt(r);if(t===Dt.ASTERISK_ENCODING)return"*";throw new $}static decodeExtended(t){let r=t.length,a="";for(let s=0;s<r;s++){let c=t.charAt(s);if(c==="+"||c==="$"||c==="%"||c==="/"){let f=t.charAt(s+1),i="\0";switch(c){case"+":if(f>="A"&&f<="Z")i=String.fromCharCode(f.charCodeAt(0)+32);else throw new X;break;case"$":if(f>="A"&&f<="Z")i=String.fromCharCode(f.charCodeAt(0)-64);else throw new X;break;case"%":if(f>="A"&&f<="E")i=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")i=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")i=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")i=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")i="\0";else if(f==="V")i="@";else if(f==="W")i="`";else if(f==="X"||f==="Y"||f==="Z")i="";else throw new X;break;case"/":if(f>="A"&&f<="O")i=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")i=":";else throw new X;break}a+=i,s++}else a+=c}return a}}Dt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Dt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Dt.ASTERISK_ENCODING=148;class Le extends tn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,a){let s=this.decodeStart(r),c=this.decodeEnd(r),f=new ae;Le.decodeMiddle(r,s[1],c[0],f);let i=f.toString(),o=null;a!=null&&(o=a.get(he.ALLOWED_LENGTHS)),o==null&&(o=Le.DEFAULT_ALLOWED_LENGTHS);let d=i.length,x=!1,b=0;for(let N of o){if(d===N){x=!0;break}N>b&&(b=N)}if(!x&&d>b&&(x=!0),!x)throw new X;const A=[new Ke(s[1],t),new Ke(c[0],t)];return new _e(i,null,0,A,Ae.ITF,new Date().getTime())}static decodeMiddle(t,r,a,s){let c=new Int32Array(10),f=new Int32Array(5),i=new Int32Array(5);for(c.fill(0),f.fill(0),i.fill(0);r<a;){tn.recordPattern(t,r,c);for(let d=0;d<5;d++){let x=2*d;f[d]=c[x],i[d]=c[x+1]}let o=Le.decodeDigit(f);s.append(o.toString()),o=this.decodeDigit(i),s.append(o.toString()),c.forEach(function(d){r+=d})}}decodeStart(t){let r=Le.skipWhiteSpace(t),a=Le.findGuardPattern(t,r,Le.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(t,a[0]),a}validateQuietZone(t,r){let a=this.narrowLineWidth*10;a=a<r?a:r;for(let s=r-1;a>0&&s>=0&&!t.get(s);s--)a--;if(a!==0)throw new $}static skipWhiteSpace(t){const r=t.getSize(),a=t.getNextSet(0);if(a===r)throw new $;return a}decodeEnd(t){t.reverse();try{let r=Le.skipWhiteSpace(t),a;try{a=Le.findGuardPattern(t,r,Le.END_PATTERN_REVERSED[0])}catch(c){c instanceof $&&(a=Le.findGuardPattern(t,r,Le.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,a[0]);let s=a[0];return a[0]=t.getSize()-a[1],a[1]=t.getSize()-s,a}finally{t.reverse()}}static findGuardPattern(t,r,a){let s=a.length,c=new Int32Array(s),f=t.getSize(),i=!1,o=0,d=r;c.fill(0);for(let x=r;x<f;x++)if(t.get(x)!==i)c[o]++;else{if(o===s-1){if(tn.patternMatchVariance(c,a,Le.MAX_INDIVIDUAL_VARIANCE)<Le.MAX_AVG_VARIANCE)return[d,x];d+=c[0]+c[1],le.arraycopy(c,2,c,0,o-1),c[o-1]=0,c[o]=0,o--}else o++;c[o]=1,i=!i}throw new $}static decodeDigit(t){let r=Le.MAX_AVG_VARIANCE,a=-1,s=Le.PATTERNS.length;for(let c=0;c<s;c++){let f=Le.PATTERNS[c],i=tn.patternMatchVariance(t,f,Le.MAX_INDIVIDUAL_VARIANCE);i<r?(r=i,a=c):i===r&&(a=-1)}if(a>=0)return a%10;throw new $}}Le.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Le.MAX_AVG_VARIANCE=.38,Le.MAX_INDIVIDUAL_VARIANCE=.5,Le.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Le.START_PATTERN=Int32Array.from([1,1,1,1]),Le.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class an extends tn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,a,s=0,c=Int32Array.from([0,0,0]);for(;!r;){c=Int32Array.from([0,0,0]),a=an.findGuardPattern(t,s,!1,this.START_END_PATTERN,c);let f=a[0];s=a[1];let i=f-(s-f);i>=0&&(r=t.isRange(i,f,!1))}return a}static checkChecksum(t){return an.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let a=parseInt(t.charAt(r-1),10);return an.getStandardUPCEANChecksum(t.substring(0,r-1))===a}static getStandardUPCEANChecksum(t){let r=t.length,a=0;for(let s=r-1;s>=0;s-=2){let c=t.charAt(s).charCodeAt(0)-48;if(c<0||c>9)throw new X;a+=c}a*=3;for(let s=r-2;s>=0;s-=2){let c=t.charAt(s).charCodeAt(0)-48;if(c<0||c>9)throw new X;a+=c}return(1e3-a)%10}static decodeEnd(t,r){return an.findGuardPattern(t,r,!1,an.START_END_PATTERN,new Int32Array(an.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,a,s){return this.findGuardPattern(t,r,a,s,new Int32Array(s.length))}static findGuardPattern(t,r,a,s,c){let f=t.getSize();r=a?t.getNextUnset(r):t.getNextSet(r);let i=0,o=r,d=s.length,x=a;for(let b=r;b<f;b++)if(t.get(b)!==x)c[i]++;else{if(i===d-1){if(tn.patternMatchVariance(c,s,an.MAX_INDIVIDUAL_VARIANCE)<an.MAX_AVG_VARIANCE)return Int32Array.from([o,b]);o+=c[0]+c[1];let A=c.slice(2,c.length-1);for(let C=0;C<i-1;C++)c[C]=A[C];c[i-1]=0,c[i]=0,i--}else i++;c[i]=1,x=!x}throw new $}static decodeDigit(t,r,a,s){this.recordPattern(t,a,r);let c=this.MAX_AVG_VARIANCE,f=-1,i=s.length;for(let o=0;o<i;o++){let d=s[o],x=tn.patternMatchVariance(r,d,an.MAX_INDIVIDUAL_VARIANCE);x<c&&(c=x,f=o)}if(f>=0)return f;throw new $}}an.MAX_AVG_VARIANCE=.48,an.MAX_INDIVIDUAL_VARIANCE=.7,an.START_END_PATTERN=Int32Array.from([1,1,1]),an.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),an.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),an.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class _r{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,a){let s=this.decodeRowStringBuffer,c=this.decodeMiddle(r,a,s),f=s.toString(),i=_r.parseExtensionString(f),o=[new Ke((a[0]+a[1])/2,t),new Ke(c,t)],d=new _e(f,null,0,o,Ae.UPC_EAN_EXTENSION,new Date().getTime());return i!=null&&d.putAllMetadata(i),d}decodeMiddle(t,r,a){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let c=t.getSize(),f=r[1],i=0;for(let d=0;d<5&&f<c;d++){let x=an.decodeDigit(t,s,f,an.L_AND_G_PATTERNS);a+=String.fromCharCode(48+x%10);for(let b of s)f+=b;x>=10&&(i|=1<<4-d),d!==4&&(f=t.getNextSet(f),f=t.getNextUnset(f))}if(a.length!==5)throw new $;let o=this.determineCheckDigit(i);if(_r.extensionChecksum(a.toString())!==o)throw new $;return f}static extensionChecksum(t){let r=t.length,a=0;for(let s=r-2;s>=0;s-=2)a+=t.charAt(s).charCodeAt(0)-48;a*=3;for(let s=r-1;s>=0;s-=2)a+=t.charAt(s).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new $}static parseExtensionString(t){if(t.length!==5)return null;let r=_r.parseExtension5String(t);return r==null?null:new Map([[We.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let a=parseInt(t.substring(1)),s=(a/100).toString(),c=a%100,f=c<10?"0"+c:c.toString();return r+s+"."+f}}class Li{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,a){let s=this.decodeRowStringBuffer,c=this.decodeMiddle(r,a,s),f=s.toString(),i=Li.parseExtensionString(f),o=[new Ke((a[0]+a[1])/2,t),new Ke(c,t)],d=new _e(f,null,0,o,Ae.UPC_EAN_EXTENSION,new Date().getTime());return i!=null&&d.putAllMetadata(i),d}decodeMiddle(t,r,a){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let c=t.getSize(),f=r[1],i=0;for(let o=0;o<2&&f<c;o++){let d=an.decodeDigit(t,s,f,an.L_AND_G_PATTERNS);a+=String.fromCharCode(48+d%10);for(let x of s)f+=x;d>=10&&(i|=1<<1-o),o!==1&&(f=t.getNextSet(f),f=t.getNextUnset(f))}if(a.length!==2)throw new $;if(parseInt(a.toString())%4!==i)throw new $;return f}static parseExtensionString(t){return t.length!==2?null:new Map([[We.ISSUE_NUMBER,parseInt(t)]])}}class Ye{static decodeRow(t,r,a){let s=an.findGuardPattern(r,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new _r().decodeRow(t,r,s)}catch{return new Li().decodeRow(t,r,s)}}}Ye.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Rt extends an{constructor(){super(),this.decodeRowStringBuffer="",Rt.L_AND_G_PATTERNS=Rt.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=Rt.L_PATTERNS[t-10],a=new Int32Array(r.length);for(let s=0;s<r.length;s++)a[s]=r[r.length-s-1];Rt.L_AND_G_PATTERNS[t]=a}}decodeRow(t,r,a){let s=Rt.findStartGuardPattern(r),c=a==null?null:a.get(he.NEED_RESULT_POINT_CALLBACK);if(c!=null){const U=new Ke((s[0]+s[1])/2,t);c.foundPossibleResultPoint(U)}let f=this.decodeMiddle(r,s,this.decodeRowStringBuffer),i=f.rowOffset,o=f.resultString;if(c!=null){const U=new Ke(i,t);c.foundPossibleResultPoint(U)}let d=this.decodeEnd(r,i);if(c!=null){const U=new Ke((d[0]+d[1])/2,t);c.foundPossibleResultPoint(U)}let x=d[1],b=x+(x-d[0]);if(b>=r.getSize()||!r.isRange(x,b,!1))throw new $;let A=o.toString();if(A.length<8)throw new X;if(!Rt.checkChecksum(A))throw new K;let C=(s[1]+s[0])/2,N=(d[1]+d[0])/2,I=this.getBarcodeFormat(),k=[new Ke(C,t),new Ke(N,t)],B=new _e(A,null,0,k,I,new Date().getTime()),z=0;try{let U=Ye.decodeRow(t,r,d[1]);B.putMetadata(We.UPC_EAN_EXTENSION,U.getText()),B.putAllMetadata(U.getResultMetadata()),B.addResultPoints(U.getResultPoints()),z=U.getText().length}catch{}let P=a==null?null:a.get(he.ALLOWED_EAN_EXTENSIONS);if(P!=null){let U=!1;for(let G in P)if(z.toString()===G){U=!0;break}if(!U)throw new $}return B}decodeEnd(t,r){return Rt.findGuardPattern(t,r,!1,Rt.START_END_PATTERN,new Int32Array(Rt.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return Rt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let a=parseInt(t.charAt(r-1),10);return Rt.getStandardUPCEANChecksum(t.substring(0,r-1))===a}static getStandardUPCEANChecksum(t){let r=t.length,a=0;for(let s=r-1;s>=0;s-=2){let c=t.charAt(s).charCodeAt(0)-48;if(c<0||c>9)throw new X;a+=c}a*=3;for(let s=r-2;s>=0;s-=2){let c=t.charAt(s).charCodeAt(0)-48;if(c<0||c>9)throw new X;a+=c}return(1e3-a)%10}}class ln extends Rt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,a){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let c=t.getSize(),f=r[1],i=0;for(let d=0;d<6&&f<c;d++){let x=Rt.decodeDigit(t,s,f,Rt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+x%10);for(let b of s)f+=b;x>=10&&(i|=1<<5-d)}a=ln.determineFirstDigit(a,i),f=Rt.findGuardPattern(t,f,!0,Rt.MIDDLE_PATTERN,new Int32Array(Rt.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<6&&f<c;d++){let x=Rt.decodeDigit(t,s,f,Rt.L_PATTERNS);a+=String.fromCharCode(48+x);for(let b of s)f+=b}return{rowOffset:f,resultString:a}}getBarcodeFormat(){return Ae.EAN_13}static determineFirstDigit(t,r){for(let a=0;a<10;a++)if(r===this.FIRST_DIGIT_ENCODINGS[a])return t=String.fromCharCode(48+a)+t,t;throw new $}}ln.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Sn extends Rt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,a){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let c=t.getSize(),f=r[1];for(let o=0;o<4&&f<c;o++){let d=Rt.decodeDigit(t,s,f,Rt.L_PATTERNS);a+=String.fromCharCode(48+d);for(let x of s)f+=x}f=Rt.findGuardPattern(t,f,!0,Rt.MIDDLE_PATTERN,new Int32Array(Rt.MIDDLE_PATTERN.length).fill(0))[1];for(let o=0;o<4&&f<c;o++){let d=Rt.decodeDigit(t,s,f,Rt.L_PATTERNS);a+=String.fromCharCode(48+d);for(let x of s)f+=x}return{rowOffset:f,resultString:a}}getBarcodeFormat(){return Ae.EAN_8}}class qn extends Rt{constructor(){super(...arguments),this.ean13Reader=new ln}getBarcodeFormat(){return Ae.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,a))}decodeMiddle(t,r,a){return this.ean13Reader.decodeMiddle(t,r,a)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let a=new _e(r.substring(1),null,null,t.getResultPoints(),Ae.UPC_A);return t.getResultMetadata()!=null&&a.putAllMetadata(t.getResultMetadata()),a}else throw new $}reset(){this.ean13Reader.reset()}}class hn extends Rt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,a){const s=this.decodeMiddleCounters.map(d=>d);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const c=t.getSize();let f=r[1],i=0;for(let d=0;d<6&&f<c;d++){const x=hn.decodeDigit(t,s,f,hn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+x%10);for(let b of s)f+=b;x>=10&&(i|=1<<5-d)}let o=hn.determineNumSysAndCheckDigit(a,i);return{rowOffset:f,resultString:o}}decodeEnd(t,r){return hn.findGuardPatternWithoutCounters(t,r,!0,hn.MIDDLE_END_PATTERN)}checkChecksum(t){return Rt.checkChecksum(hn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let a=0;a<=1;a++)for(let s=0;s<10;s++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][s]){let c=String.fromCharCode(48+a),f=String.fromCharCode(48+s);return c+t+f}throw $.getNotFoundInstance()}getBarcodeFormat(){return Ae.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(c=>c.charCodeAt(0)),a=new ae;a.append(t.charAt(0));let s=r[5];switch(s){case 0:case 1:case 2:a.appendChars(r,0,2),a.append(s),a.append("0000"),a.appendChars(r,2,3);break;case 3:a.appendChars(r,0,3),a.append("00000"),a.appendChars(r,3,2);break;case 4:a.appendChars(r,0,4),a.append("00000"),a.append(r[4]);break;default:a.appendChars(r,0,5),a.append("0000"),a.append(s);break}return t.length>=8&&a.append(t.charAt(7)),a.toString()}}hn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),hn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class gr extends tn{constructor(t){super();let r=t==null?null:t.get(he.POSSIBLE_FORMATS),a=[];y(r)?(a.push(new ln),a.push(new qn),a.push(new Sn),a.push(new hn)):(r.indexOf(Ae.EAN_13)>-1&&a.push(new ln),r.indexOf(Ae.UPC_A)>-1&&a.push(new qn),r.indexOf(Ae.EAN_8)>-1&&a.push(new Sn),r.indexOf(Ae.UPC_E)>-1&&a.push(new hn)),this.readers=a}decodeRow(t,r,a){for(let s of this.readers)try{const c=s.decodeRow(t,r,a),f=c.getBarcodeFormat()===Ae.EAN_13&&c.getText().charAt(0)==="0",i=a==null?null:a.get(he.POSSIBLE_FORMATS),o=i==null||i.includes(Ae.UPC_A);if(f&&o){const d=c.getRawBytes(),x=new _e(c.getText().substring(1),d,d?d.length:null,c.getResultPoints(),Ae.UPC_A);return x.putAllMetadata(c.getResultMetadata()),x}return c}catch{}throw new $}reset(){for(let t of this.readers)t.reset()}}class Xt extends tn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let a=0;a<r.length;a++)if(tn.patternMatchVariance(t,r[a],Xt.MAX_INDIVIDUAL_VARIANCE)<Xt.MAX_AVG_VARIANCE)return a;throw new $}static count(t){return _t.sum(new Int32Array(t))}static increment(t,r){let a=0,s=r[0];for(let c=1;c<t.length;c++)r[c]>s&&(s=r[c],a=c);t[a]++}static decrement(t,r){let a=0,s=r[0];for(let c=1;c<t.length;c++)r[c]<s&&(s=r[c],a=c);t[a]--}static isFinderPattern(t){let r=t[0]+t[1],a=r+t[2]+t[3],s=r/a;if(s>=Xt.MIN_FINDER_PATTERN_RATIO&&s<=Xt.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let i of t)i>f&&(f=i),i<c&&(c=i);return f<10*c}return!1}}Xt.MAX_AVG_VARIANCE=.2,Xt.MAX_INDIVIDUAL_VARIANCE=.45,Xt.MIN_FINDER_PATTERN_RATIO=9.5/12,Xt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Tn{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof Tn))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Yn{constructor(t,r,a,s,c){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Ke(a,c)),this.resultPoints.push(new Ke(s,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Yn))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class Jt{constructor(){}static getRSSvalue(t,r,a){let s=0;for(let o of t)s+=o;let c=0,f=0,i=t.length;for(let o=0;o<i-1;o++){let d;for(d=1,f|=1<<o;d<t[o];d++,f&=~(1<<o)){let x=Jt.combins(s-d-1,i-o-2);if(a&&f===0&&s-d-(i-o-1)>=i-o-1&&(x-=Jt.combins(s-d-(i-o),i-o-2)),i-o-1>1){let b=0;for(let A=s-d-(i-o-2);A>r;A--)b+=Jt.combins(s-d-A-1,i-o-3);x-=b*(i-1-o)}else s-d>r&&x--;c+=x}s-=d}return c}static combins(t,r){let a,s;t-r>r?(s=r,a=t-r):(s=t-r,a=r);let c=1,f=1;for(let i=t;i>a;i--)c*=i,f<=s&&(c/=f,f++);for(;f<=s;)c/=f,f++;return c}}class Nr{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let a=12*r,s=new me(a),c=0,i=t[0].getRightChar().getValue();for(let o=11;o>=0;--o)(i&1<<o)!=0&&s.set(c),c++;for(let o=1;o<t.length;++o){let d=t[o],x=d.getLeftChar().getValue();for(let b=11;b>=0;--b)(x&1<<b)!=0&&s.set(c),c++;if(d.getRightChar()!=null){let b=d.getRightChar().getValue();for(let A=11;A>=0;--A)(b&1<<A)!=0&&s.set(c),c++}}return s}}class vt{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class qt{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class zn extends qt{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===zn.FNC1}}zn.FNC1="$";class Wn extends qt{constructor(t,r,a){super(t),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class wn extends qt{constructor(t,r,a){if(super(t),r<0||r>10||a<0||a>10)throw new X;this.firstDigit=r,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===wn.FNC1}isSecondDigitFNC1(){return this.secondDigit===wn.FNC1}isAnyFNC1(){return this.firstDigit===wn.FNC1||this.secondDigit===wn.FNC1}}wn.FNC1=10;class Ze{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new $;let r=t.substring(0,2);for(let c of Ze.TWO_DIGIT_DATA_LENGTH)if(c[0]===r)return c[1]===Ze.VARIABLE_LENGTH?Ze.processVariableAI(2,c[2],t):Ze.processFixedAI(2,c[1],t);if(t.length<3)throw new $;let a=t.substring(0,3);for(let c of Ze.THREE_DIGIT_DATA_LENGTH)if(c[0]===a)return c[1]===Ze.VARIABLE_LENGTH?Ze.processVariableAI(3,c[2],t):Ze.processFixedAI(3,c[1],t);for(let c of Ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===a)return c[1]===Ze.VARIABLE_LENGTH?Ze.processVariableAI(4,c[2],t):Ze.processFixedAI(4,c[1],t);if(t.length<4)throw new $;let s=t.substring(0,4);for(let c of Ze.FOUR_DIGIT_DATA_LENGTH)if(c[0]===s)return c[1]===Ze.VARIABLE_LENGTH?Ze.processVariableAI(4,c[2],t):Ze.processFixedAI(4,c[1],t);throw new $}static processFixedAI(t,r,a){if(a.length<t)throw new $;let s=a.substring(0,t);if(a.length<t+r)throw new $;let c=a.substring(t,t+r),f=a.substring(t+r),i="("+s+")"+c,o=Ze.parseFieldsInGeneralPurpose(f);return o==null?i:i+o}static processVariableAI(t,r,a){let s=a.substring(0,t),c;a.length<t+r?c=a.length:c=t+r;let f=a.substring(t,c),i=a.substring(c),o="("+s+")"+f,d=Ze.parseFieldsInGeneralPurpose(i);return d==null?o:o+d}}Ze.VARIABLE_LENGTH=[],Ze.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ze.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ze.VARIABLE_LENGTH,20],["22",Ze.VARIABLE_LENGTH,29],["30",Ze.VARIABLE_LENGTH,8],["37",Ze.VARIABLE_LENGTH,8],["90",Ze.VARIABLE_LENGTH,30],["91",Ze.VARIABLE_LENGTH,30],["92",Ze.VARIABLE_LENGTH,30],["93",Ze.VARIABLE_LENGTH,30],["94",Ze.VARIABLE_LENGTH,30],["95",Ze.VARIABLE_LENGTH,30],["96",Ze.VARIABLE_LENGTH,30],["97",Ze.VARIABLE_LENGTH,3],["98",Ze.VARIABLE_LENGTH,30],["99",Ze.VARIABLE_LENGTH,30]],Ze.THREE_DIGIT_DATA_LENGTH=[["240",Ze.VARIABLE_LENGTH,30],["241",Ze.VARIABLE_LENGTH,30],["242",Ze.VARIABLE_LENGTH,6],["250",Ze.VARIABLE_LENGTH,30],["251",Ze.VARIABLE_LENGTH,30],["253",Ze.VARIABLE_LENGTH,17],["254",Ze.VARIABLE_LENGTH,20],["400",Ze.VARIABLE_LENGTH,30],["401",Ze.VARIABLE_LENGTH,30],["402",17],["403",Ze.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ze.VARIABLE_LENGTH,20],["421",Ze.VARIABLE_LENGTH,15],["422",3],["423",Ze.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ze.VARIABLE_LENGTH,15],["391",Ze.VARIABLE_LENGTH,18],["392",Ze.VARIABLE_LENGTH,15],["393",Ze.VARIABLE_LENGTH,18],["703",Ze.VARIABLE_LENGTH,30]],Ze.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ze.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ze.VARIABLE_LENGTH,20],["8003",Ze.VARIABLE_LENGTH,30],["8004",Ze.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ze.VARIABLE_LENGTH,30],["8008",Ze.VARIABLE_LENGTH,12],["8018",18],["8020",Ze.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ze.VARIABLE_LENGTH,70],["8200",Ze.VARIABLE_LENGTH,70]];class ar{constructor(t){this.buffer=new ae,this.information=t}decodeAllCodes(t,r){let a=r,s=null;do{let c=this.decodeGeneralPurposeField(a,s),f=Ze.parseFieldsInGeneralPurpose(c.getNewString());if(f!=null&&t.append(f),c.isRemaining()?s=""+c.getRemainingValue():s=null,a===c.getNewPosition())break;a=c.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(t,4);return c===0?new wn(this.information.getSize(),wn.FNC1,wn.FNC1):new wn(this.information.getSize(),c-1,wn.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),a=(r-8)/11,s=(r-8)%11;return new wn(t+7,a,s)}extractNumericValueFromBitArray(t,r){return ar.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,a){let s=0;for(let c=0;c<a;++c)t.get(r+c)&&(s|=1<<a-c-1);return s}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new Wn(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Wn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let a=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(a!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new Wn(this.current.getPosition(),this.buffer.toString()):r=new Wn(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new vt(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new Wn(this.current.getPosition(),this.buffer.toString());return new vt(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new vt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Wn(this.current.getPosition(),this.buffer.toString());return new vt(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new vt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Wn(this.current.getPosition(),this.buffer.toString());return new vt(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new vt(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<116)return!0;if(t+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,8);return s>=232&&s<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new zn(t+5,zn.FNC1);if(r>=5&&r<15)return new zn(t+5,"0"+(r-5));let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<90)return new zn(t+7,""+(a+1));if(a>=90&&a<116)return new zn(t+7,""+(a+7));let s=this.extractNumericValueFromBitArray(t,8),c;switch(s){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new X}return new zn(t+8,c)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,6);return a>=16&&a<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new zn(t+5,zn.FNC1);if(r>=5&&r<15)return new zn(t+5,"0"+(r-5));let a=this.extractNumericValueFromBitArray(t,6);if(a>=32&&a<58)return new zn(t+6,""+(a+33));let s;switch(a){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new pn("Decoding invalid alphanumeric value: "+a)}return new zn(t+6,s)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class gn{constructor(t){this.information=t,this.generalDecoder=new ar(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Pt extends gn{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let a=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,a)}encodeCompressedGtinWithoutAI(t,r,a){for(let s=0;s<4;++s){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*s,10);c/100===0&&t.append("0"),c/10===0&&t.append("0"),t.append(c)}Pt.appendCheckDigit(t,a)}static appendCheckDigit(t,r){let a=0;for(let s=0;s<13;s++){let c=t.charAt(s+r).charCodeAt(0)-48;a+=(s&1)===0?3*c:c}a=10-a%10,a===10&&(a=0),t.append(a)}}Pt.GTIN_SIZE=40;class Jn extends Pt{constructor(t){super(t)}parseInformation(){let t=new ae;t.append("(01)");let r=t.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(Jn.HEADER_SIZE,4);return t.append(a),this.encodeCompressedGtinWithoutAI(t,Jn.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,Jn.HEADER_SIZE+44)}}Jn.HEADER_SIZE=4;class bi extends gn{constructor(t){super(t)}parseInformation(){let t=new ae;return this.getGeneralDecoder().decodeAllCodes(t,bi.HEADER_SIZE)}}bi.HEADER_SIZE=5;class ja extends Pt{constructor(t){super(t)}encodeCompressedWeight(t,r,a){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,a);this.addWeightCode(t,s);let c=this.checkWeight(s),f=1e5;for(let i=0;i<5;++i)c/f===0&&t.append("0"),f/=10;t.append(c)}}class lr extends ja{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=lr.HEADER_SIZE+ja.GTIN_SIZE+lr.WEIGHT_SIZE)throw new $;let t=new ae;return this.encodeCompressedGtin(t,lr.HEADER_SIZE),this.encodeCompressedWeight(t,lr.HEADER_SIZE+ja.GTIN_SIZE,lr.WEIGHT_SIZE),t.toString()}}lr.HEADER_SIZE=5,lr.WEIGHT_SIZE=15;class Tl extends lr{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class Zr extends lr{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Mr extends Pt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Mr.HEADER_SIZE+Pt.GTIN_SIZE)throw new $;let t=new ae;this.encodeCompressedGtin(t,Mr.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Mr.HEADER_SIZE+Pt.GTIN_SIZE,Mr.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(Mr.HEADER_SIZE+Pt.GTIN_SIZE+Mr.LAST_DIGIT_SIZE,null);return t.append(a.getNewString()),t.toString()}}Mr.HEADER_SIZE=8,Mr.LAST_DIGIT_SIZE=2;class Un extends Pt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Un.HEADER_SIZE+Pt.GTIN_SIZE)throw new $;let t=new ae;this.encodeCompressedGtin(t,Un.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Un.HEADER_SIZE+Pt.GTIN_SIZE,Un.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Un.HEADER_SIZE+Pt.GTIN_SIZE+Un.LAST_DIGIT_SIZE,Un.FIRST_THREE_DIGITS_SIZE);a/100==0&&t.append("0"),a/10==0&&t.append("0"),t.append(a);let s=this.getGeneralDecoder().decodeGeneralPurposeField(Un.HEADER_SIZE+Pt.GTIN_SIZE+Un.LAST_DIGIT_SIZE+Un.FIRST_THREE_DIGITS_SIZE,null);return t.append(s.getNewString()),t.toString()}}Un.HEADER_SIZE=8,Un.LAST_DIGIT_SIZE=2,Un.FIRST_THREE_DIGITS_SIZE=10;class mt extends ja{constructor(t,r,a){super(t),this.dateCode=a,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=mt.HEADER_SIZE+mt.GTIN_SIZE+mt.WEIGHT_SIZE+mt.DATE_SIZE)throw new $;let t=new ae;return this.encodeCompressedGtin(t,mt.HEADER_SIZE),this.encodeCompressedWeight(t,mt.HEADER_SIZE+mt.GTIN_SIZE,mt.WEIGHT_SIZE),this.encodeCompressedDate(t,mt.HEADER_SIZE+mt.GTIN_SIZE+mt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,mt.DATE_SIZE);if(a==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let s=a%32;a/=32;let c=a%12+1;a/=12;let f=a;f/10==0&&t.append("0"),t.append(f),c/10==0&&t.append("0"),t.append(c),s/10==0&&t.append("0"),t.append(s)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}mt.HEADER_SIZE=8,mt.WEIGHT_SIZE=20,mt.DATE_SIZE=16;function Hr(D){try{if(D.get(1))return new Jn(D);if(!D.get(2))return new bi(D);switch(ar.extractNumericValueFromBitArray(D,1,4)){case 4:return new Tl(D);case 5:return new Zr(D)}switch(ar.extractNumericValueFromBitArray(D,1,5)){case 12:return new Mr(D);case 13:return new Un(D)}switch(ar.extractNumericValueFromBitArray(D,1,7)){case 56:return new mt(D,"310","11");case 57:return new mt(D,"320","11");case 58:return new mt(D,"310","13");case 59:return new mt(D,"320","13");case 60:return new mt(D,"310","15");case 61:return new mt(D,"320","15");case 62:return new mt(D,"310","17");case 63:return new mt(D,"320","17")}}catch(t){throw console.log(t),new pn("unknown decoder: "+D)}}class Pn{constructor(t,r,a,s){this.leftchar=t,this.rightchar=r,this.finderpattern=a,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof Pn?Pn.equalsOrNull(t.leftchar,r.leftchar)&&Pn.equalsOrNull(t.rightchar,r.rightchar)&&Pn.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:Pn.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class jn{constructor(t,r,a){this.pairs=t,this.rowNumber=r,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof jn?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let a;return t.forEach((s,c)=>{r.forEach(f=>{s.getLeftChar().getValue()===f.getLeftChar().getValue()&&s.getRightChar().getValue()===f.getRightChar().getValue()&&s.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(a=!0)})}),a}}class Ie extends Xt{constructor(t){super(...arguments),this.pairs=new Array(Ie.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,a){this.pairs.length=0,this.startFromEven=!1;try{return Ie.constructResult(this.decodeRow2pairs(t,r))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,Ie.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(c){if(c instanceof $){if(!this.pairs.length)throw new $;a=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(t,!1),s){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new $}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let a=r;a<this.rows.length;a++){let s=this.rows[a];this.pairs.length=0;for(let f of t)this.pairs.push(f.getPairs());if(this.pairs.push(s.getPairs()),!Ie.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(t);c.push(s);try{return this.checkRows(c,a+1)}catch(f){this.verbose&&console.log(f)}}throw new $}static isValidSequence(t){for(let r of Ie.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let a=!0;for(let s=0;s<t.length;s++)if(t[s].getFinderPattern().getValue()!=r[s]){a=!1;break}if(a)return!0}return!1}storeRow(t,r){let a=0,s=!1,c=!1;for(;a<this.rows.length;){let f=this.rows[a];if(f.getRowNumber()>t){c=f.isEquivalent(this.pairs);break}s=f.isEquivalent(this.pairs),a++}c||s||Ie.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new jn(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let a of r)if(a.getPairs().length!==t.length){for(let s of a.getPairs())for(let c of t)if(Pn.equals(s,c))break}}static isPartialRow(t,r){for(let a of r){let s=!0;for(let c of t){let f=!1;for(let i of a.getPairs())if(c.equals(i)){f=!0;break}if(!f){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=Nr.buildBitArray(t),s=Hr(r).parseInformation(),c=t[0].getFinderPattern().getResultPoints(),f=t[t.length-1].getFinderPattern().getResultPoints(),i=[c[0],c[1],f[0],f[1]];return new _e(s,null,null,i,Ae.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),a=t.getRightChar();if(a==null)return!1;let s=a.getChecksumPortion(),c=2;for(let i=1;i<this.pairs.size();++i){let o=this.pairs.get(i);s+=o.getLeftChar().getChecksumPortion(),c++;let d=o.getRightChar();d!=null&&(s+=d.getChecksumPortion(),c++)}return s%=211,211*(c-4)+s==r.getValue()}static getNextSecondBar(t,r){let a;return t.get(r)?(a=t.getNextUnset(r),a=t.getNextSet(a)):(a=t.getNextSet(r),a=t.getNextUnset(a)),a}retrieveNextPair(t,r,a){let s=r.length%2==0;this.startFromEven&&(s=!s);let c,f=!0,i=-1;do this.findNextPair(t,r,i),c=this.parseFoundFinderPattern(t,a,s),c==null?i=Ie.getNextSecondBar(t,this.startEnd[0]):f=!1;while(f);let o=this.decodeDataCharacter(t,c,s,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new $;let d;try{d=this.decodeDataCharacter(t,c,s,!1)}catch(x){d=null,this.verbose&&console.log(x)}return new Pn(o,d,c,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,a){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let c=t.getSize(),f;a>=0?f=a:this.isEmptyPair(r)?f=0:f=r[r.length-1].getFinderPattern().getStartEnd()[1];let i=r.length%2!=0;this.startFromEven&&(i=!i);let o=!1;for(;f<c&&(o=!t.get(f),!!o);)f++;let d=0,x=f;for(let b=f;b<c;b++)if(t.get(b)!=o)s[d]++;else{if(d==3){if(i&&Ie.reverseCounters(s),Ie.isFinderPattern(s)){this.startEnd[0]=x,this.startEnd[1]=b;return}i&&Ie.reverseCounters(s),x+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,d--}else d++;s[d]=1,o=!o}throw new $}static reverseCounters(t){let r=t.length;for(let a=0;a<r/2;++a){let s=t[a];t[a]=t[r-a-1],t[r-a-1]=s}}parseFoundFinderPattern(t,r,a){let s,c,f;if(a){let d=this.startEnd[0]-1;for(;d>=0&&!t.get(d);)d--;d++,s=this.startEnd[0]-d,c=d,f=this.startEnd[1]}else c=this.startEnd[0],f=t.getNextUnset(this.startEnd[1]+1),s=f-this.startEnd[1];let i=this.getDecodeFinderCounters();le.arraycopy(i,0,i,1,i.length-1),i[0]=s;let o;try{o=this.parseFinderValue(i,Ie.FINDER_PATTERNS)}catch{return null}return new Yn(o,[c,f],c,f,r)}decodeDataCharacter(t,r,a,s){let c=this.getDataCharacterCounters();for(let ge=0;ge<c.length;ge++)c[ge]=0;if(s)Ie.recordPatternInReverse(t,r.getStartEnd()[0],c);else{Ie.recordPattern(t,r.getStartEnd()[1],c);for(let ge=0,Oe=c.length-1;ge<Oe;ge++,Oe--){let Ve=c[ge];c[ge]=c[Oe],c[Oe]=Ve}}let f=17,i=_t.sum(new Int32Array(c))/f,o=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(i-o)/o>.3)throw new $;let d=this.getOddCounts(),x=this.getEvenCounts(),b=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let ge=0;ge<c.length;ge++){let Oe=1*c[ge]/i,Ve=Oe+.5;if(Ve<1){if(Oe<.3)throw new $;Ve=1}else if(Ve>8){if(Oe>8.7)throw new $;Ve=8}let Ge=ge/2;(ge&1)==0?(d[Ge]=Ve,b[Ge]=Oe-Ve):(x[Ge]=Ve,A[Ge]=Oe-Ve)}this.adjustOddEvenCounts(f);let C=4*r.getValue()+(a?0:2)+(s?0:1)-1,N=0,I=0;for(let ge=d.length-1;ge>=0;ge--){if(Ie.isNotA1left(r,a,s)){let Oe=Ie.WEIGHTS[C][2*ge];I+=d[ge]*Oe}N+=d[ge]}let k=0;for(let ge=x.length-1;ge>=0;ge--)if(Ie.isNotA1left(r,a,s)){let Oe=Ie.WEIGHTS[C][2*ge+1];k+=x[ge]*Oe}let B=I+k;if((N&1)!=0||N>13||N<4)throw new $;let z=(13-N)/2,P=Ie.SYMBOL_WIDEST[z],U=9-P,G=Jt.getRSSvalue(d,P,!0),V=Jt.getRSSvalue(x,U,!1),ne=Ie.EVEN_TOTAL_SUBSET[z],ce=Ie.GSUM[z],te=G*ne+V+ce;return new Tn(te,B)}static isNotA1left(t,r,a){return!(t.getValue()==0&&r&&a)}adjustOddEvenCounts(t){let r=_t.sum(new Int32Array(this.getOddCounts())),a=_t.sum(new Int32Array(this.getEvenCounts())),s=!1,c=!1;r>13?c=!0:r<4&&(s=!0);let f=!1,i=!1;a>13?i=!0:a<4&&(f=!0);let o=r+a-t,d=(r&1)==1,x=(a&1)==0;if(o==1)if(d){if(x)throw new $;c=!0}else{if(!x)throw new $;i=!0}else if(o==-1)if(d){if(x)throw new $;s=!0}else{if(!x)throw new $;f=!0}else if(o==0){if(d){if(!x)throw new $;r<a?(s=!0,i=!0):(c=!0,f=!0)}else if(x)throw new $}else throw new $;if(s){if(c)throw new $;Ie.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Ie.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(i)throw new $;Ie.increment(this.getEvenCounts(),this.getOddRoundingErrors())}i&&Ie.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ie.SYMBOL_WIDEST=[7,5,4,3,1],Ie.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ie.GSUM=[0,348,1388,2948,3988],Ie.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ie.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ie.FINDER_PAT_A=0,Ie.FINDER_PAT_B=1,Ie.FINDER_PAT_C=2,Ie.FINDER_PAT_D=3,Ie.FINDER_PAT_E=4,Ie.FINDER_PAT_F=5,Ie.FINDER_PATTERN_SEQUENCES=[[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_C,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_C],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_E],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F]],Ie.MAX_PAIRS=11;class xa extends Tn{constructor(t,r,a){super(t,r),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class $t extends Xt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,a){const s=this.decodePair(r,!1,t,a);$t.addOrTally(this.possibleLeftPairs,s),r.reverse();let c=this.decodePair(r,!0,t,a);$t.addOrTally(this.possibleRightPairs,c),r.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let i of this.possibleRightPairs)if(i.getCount()>1&&$t.checkChecksum(f,i))return $t.constructResult(f,i)}throw new $}static addOrTally(t,r){if(r==null)return;let a=!1;for(let s of t)if(s.getValue()===r.getValue()){s.incrementCount(),a=!0;break}a||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let a=4537077*t.getValue()+r.getValue(),s=new String(a).toString(),c=new ae;for(let d=13-s.length;d>0;d--)c.append("0");c.append(s);let f=0;for(let d=0;d<13;d++){let x=c.charAt(d).charCodeAt(0)-48;f+=(d&1)===0?3*x:x}f=10-f%10,f===10&&(f=0),c.append(f.toString());let i=t.getFinderPattern().getResultPoints(),o=r.getFinderPattern().getResultPoints();return new _e(c.toString(),null,0,[i[0],i[1],o[0],o[1]],Ae.RSS_14,new Date().getTime())}static checkChecksum(t,r){let a=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,s=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,a===s}decodePair(t,r,a,s){try{let c=this.findFinderPattern(t,r),f=this.parseFoundFinderPattern(t,a,r,c),i=s==null?null:s.get(he.NEED_RESULT_POINT_CALLBACK);if(i!=null){let x=(c[0]+c[1])/2;r&&(x=t.getSize()-1-x),i.foundPossibleResultPoint(new Ke(x,a))}let o=this.decodeDataCharacter(t,f,!0),d=this.decodeDataCharacter(t,f,!1);return new xa(1597*o.getValue()+d.getValue(),o.getChecksumPortion()+4*d.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(t,r,a){let s=this.getDataCharacterCounters();for(let k=0;k<s.length;k++)s[k]=0;if(a)tn.recordPatternInReverse(t,r.getStartEnd()[0],s);else{tn.recordPattern(t,r.getStartEnd()[1]+1,s);for(let k=0,B=s.length-1;k<B;k++,B--){let z=s[k];s[k]=s[B],s[B]=z}}let c=a?16:15,f=_t.sum(new Int32Array(s))/c,i=this.getOddCounts(),o=this.getEvenCounts(),d=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors();for(let k=0;k<s.length;k++){let B=s[k]/f,z=Math.floor(B+.5);z<1?z=1:z>8&&(z=8);let P=Math.floor(k/2);(k&1)===0?(i[P]=z,d[P]=B-z):(o[P]=z,x[P]=B-z)}this.adjustOddEvenCounts(a,c);let b=0,A=0;for(let k=i.length-1;k>=0;k--)A*=9,A+=i[k],b+=i[k];let C=0,N=0;for(let k=o.length-1;k>=0;k--)C*=9,C+=o[k],N+=o[k];let I=A+3*C;if(a){if((b&1)!==0||b>12||b<4)throw new $;let k=(12-b)/2,B=$t.OUTSIDE_ODD_WIDEST[k],z=9-B,P=Jt.getRSSvalue(i,B,!1),U=Jt.getRSSvalue(o,z,!0),G=$t.OUTSIDE_EVEN_TOTAL_SUBSET[k],V=$t.OUTSIDE_GSUM[k];return new Tn(P*G+U+V,I)}else{if((N&1)!==0||N>10||N<4)throw new $;let k=(10-N)/2,B=$t.INSIDE_ODD_WIDEST[k],z=9-B,P=Jt.getRSSvalue(i,B,!0),U=Jt.getRSSvalue(o,z,!1),G=$t.INSIDE_ODD_TOTAL_SUBSET[k],V=$t.INSIDE_GSUM[k];return new Tn(U*G+P+V,I)}}findFinderPattern(t,r){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let s=t.getSize(),c=!1,f=0;for(;f<s&&(c=!t.get(f),r!==c);)f++;let i=0,o=f;for(let d=f;d<s;d++)if(t.get(d)!==c)a[i]++;else{if(i===3){if(Xt.isFinderPattern(a))return[o,d];o+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,i--}else i++;a[i]=1,c=!c}throw new $}parseFoundFinderPattern(t,r,a,s){let c=t.get(s[0]),f=s[0]-1;for(;f>=0&&c!==t.get(f);)f--;f++;const i=s[0]-f,o=this.getDecodeFinderCounters(),d=new Int32Array(o.length);le.arraycopy(o,0,d,1,o.length-1),d[0]=i;const x=this.parseFinderValue(d,$t.FINDER_PATTERNS);let b=f,A=s[1];return a&&(b=t.getSize()-1-b,A=t.getSize()-1-A),new Yn(x,[f,s[1]],b,A,r)}adjustOddEvenCounts(t,r){let a=_t.sum(new Int32Array(this.getOddCounts())),s=_t.sum(new Int32Array(this.getEvenCounts())),c=!1,f=!1,i=!1,o=!1;t?(a>12?f=!0:a<4&&(c=!0),s>12?o=!0:s<4&&(i=!0)):(a>11?f=!0:a<5&&(c=!0),s>10?o=!0:s<4&&(i=!0));let d=a+s-r,x=(a&1)===(t?1:0),b=(s&1)===1;if(d===1)if(x){if(b)throw new $;f=!0}else{if(!b)throw new $;o=!0}else if(d===-1)if(x){if(b)throw new $;c=!0}else{if(!b)throw new $;i=!0}else if(d===0){if(x){if(!b)throw new $;a<s?(c=!0,o=!0):(f=!0,i=!0)}else if(b)throw new $}else throw new $;if(c){if(f)throw new $;Xt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Xt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),i){if(o)throw new $;Xt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}o&&Xt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}$t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],$t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],$t.OUTSIDE_GSUM=[0,161,961,2015,2715],$t.INSIDE_GSUM=[0,336,1036,1516],$t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],$t.INSIDE_ODD_WIDEST=[2,4,6,8],$t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Br extends tn{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const a=t?t.get(he.POSSIBLE_FORMATS):null,s=t&&t.get(he.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(Ae.EAN_13)||a.includes(Ae.UPC_A)||a.includes(Ae.EAN_8)||a.includes(Ae.UPC_E))&&this.readers.push(new gr(t)),a.includes(Ae.CODE_39)&&this.readers.push(new Dt(s)),a.includes(Ae.CODE_128)&&this.readers.push(new Fe),a.includes(Ae.ITF)&&this.readers.push(new Le),a.includes(Ae.RSS_14)&&this.readers.push(new $t),a.includes(Ae.RSS_EXPANDED)&&this.readers.push(new Ie(this.verbose))):(this.readers.push(new gr(t)),this.readers.push(new Dt),this.readers.push(new gr(t)),this.readers.push(new Fe),this.readers.push(new Le),this.readers.push(new $t),this.readers.push(new Ie(this.verbose)))}decodeRow(t,r,a){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(t,r,a)}catch{}throw new $}reset(){this.readers.forEach(t=>t.reset())}}class Yi extends ze{constructor(t=500,r){super(new Br(r),t,r)}}class jt{constructor(t,r,a){this.ecCodewords=t,this.ecBlocks=[r],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Bt{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Mt{constructor(t,r,a,s,c,f){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=a,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=c,this.ecBlocks=f;let i=0;const o=f.getECCodewords(),d=f.getECBlocks();for(let x of d)i+=x.getCount()*(x.getDataCodewords()+o);this.totalCodewords=i}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if((t&1)!==0||(r&1)!==0)throw new X;for(let a of Mt.VERSIONS)if(a.symbolSizeRows===t&&a.symbolSizeColumns===r)return a;throw new X}toString(){return""+this.versionNumber}static buildVersions(){return[new Mt(1,10,10,8,8,new jt(5,new Bt(1,3))),new Mt(2,12,12,10,10,new jt(7,new Bt(1,5))),new Mt(3,14,14,12,12,new jt(10,new Bt(1,8))),new Mt(4,16,16,14,14,new jt(12,new Bt(1,12))),new Mt(5,18,18,16,16,new jt(14,new Bt(1,18))),new Mt(6,20,20,18,18,new jt(18,new Bt(1,22))),new Mt(7,22,22,20,20,new jt(20,new Bt(1,30))),new Mt(8,24,24,22,22,new jt(24,new Bt(1,36))),new Mt(9,26,26,24,24,new jt(28,new Bt(1,44))),new Mt(10,32,32,14,14,new jt(36,new Bt(1,62))),new Mt(11,36,36,16,16,new jt(42,new Bt(1,86))),new Mt(12,40,40,18,18,new jt(48,new Bt(1,114))),new Mt(13,44,44,20,20,new jt(56,new Bt(1,144))),new Mt(14,48,48,22,22,new jt(68,new Bt(1,174))),new Mt(15,52,52,24,24,new jt(42,new Bt(2,102))),new Mt(16,64,64,14,14,new jt(56,new Bt(2,140))),new Mt(17,72,72,16,16,new jt(36,new Bt(4,92))),new Mt(18,80,80,18,18,new jt(48,new Bt(4,114))),new Mt(19,88,88,20,20,new jt(56,new Bt(4,144))),new Mt(20,96,96,22,22,new jt(68,new Bt(4,174))),new Mt(21,104,104,24,24,new jt(56,new Bt(6,136))),new Mt(22,120,120,18,18,new jt(68,new Bt(6,175))),new Mt(23,132,132,20,20,new jt(62,new Bt(8,163))),new Mt(24,144,144,22,22,new jt(62,new Bt(8,156),new Bt(2,155))),new Mt(25,8,18,6,16,new jt(7,new Bt(1,5))),new Mt(26,8,32,6,14,new jt(11,new Bt(1,10))),new Mt(27,12,26,10,24,new jt(14,new Bt(1,16))),new Mt(28,12,36,10,16,new jt(18,new Bt(1,22))),new Mt(29,16,36,14,16,new jt(24,new Bt(1,32))),new Mt(30,16,48,14,22,new jt(28,new Bt(1,49)))]}}Mt.VERSIONS=Mt.buildVersions();class Et{constructor(t){const r=t.getHeight();if(r<8||r>144||(r&1)!==0)throw new X;this.version=Et.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Re(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),a=t.getWidth();return Mt.getVersionForDimensions(r,a)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,a=4,s=0;const c=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let i=!1,o=!1,d=!1,x=!1;do if(a===c&&s===0&&!i)t[r++]=this.readCorner1(c,f)&255,a-=2,s+=2,i=!0;else if(a===c-2&&s===0&&(f&3)!==0&&!o)t[r++]=this.readCorner2(c,f)&255,a-=2,s+=2,o=!0;else if(a===c+4&&s===2&&(f&7)===0&&!d)t[r++]=this.readCorner3(c,f)&255,a-=2,s+=2,d=!0;else if(a===c-2&&s===0&&(f&7)===4&&!x)t[r++]=this.readCorner4(c,f)&255,a-=2,s+=2,x=!0;else{do a<c&&s>=0&&!this.readMappingMatrix.get(s,a)&&(t[r++]=this.readUtah(a,s,c,f)&255),a-=2,s+=2;while(a>=0&&s<f);a+=1,s+=3;do a>=0&&s<f&&!this.readMappingMatrix.get(s,a)&&(t[r++]=this.readUtah(a,s,c,f)&255),a+=2,s-=2;while(a<c&&s>=0);a+=3,s+=1}while(a<c||s<f);if(r!==this.version.getTotalCodewords())throw new X;return t}readModule(t,r,a,s){return t<0&&(t+=a,r+=4-(a+4&7)),r<0&&(r+=s,t+=4-(s+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,a,s){let c=0;return this.readModule(t-2,r-2,a,s)&&(c|=1),c<<=1,this.readModule(t-2,r-1,a,s)&&(c|=1),c<<=1,this.readModule(t-1,r-2,a,s)&&(c|=1),c<<=1,this.readModule(t-1,r-1,a,s)&&(c|=1),c<<=1,this.readModule(t-1,r,a,s)&&(c|=1),c<<=1,this.readModule(t,r-2,a,s)&&(c|=1),c<<=1,this.readModule(t,r-1,a,s)&&(c|=1),c<<=1,this.readModule(t,r,a,s)&&(c|=1),c}readCorner1(t,r){let a=0;return this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,1,t,r)&&(a|=1),a<<=1,this.readModule(t-1,2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a<<=1,this.readModule(2,r-1,t,r)&&(a|=1),a<<=1,this.readModule(3,r-1,t,r)&&(a|=1),a}readCorner2(t,r){let a=0;return this.readModule(t-3,0,t,r)&&(a|=1),a<<=1,this.readModule(t-2,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(0,r-4,t,r)&&(a|=1),a<<=1,this.readModule(0,r-3,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a}readCorner3(t,r){let a=0;return this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,r-1,t,r)&&(a|=1),a<<=1,this.readModule(0,r-3,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-3,t,r)&&(a|=1),a<<=1,this.readModule(1,r-2,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a}readCorner4(t,r){let a=0;return this.readModule(t-3,0,t,r)&&(a|=1),a<<=1,this.readModule(t-2,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a<<=1,this.readModule(2,r-1,t,r)&&(a|=1),a<<=1,this.readModule(3,r-1,t,r)&&(a|=1),a}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new L("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),f=r/s|0,i=a/c|0,o=f*s,d=i*c,x=new Re(d,o);for(let b=0;b<f;++b){const A=b*s;for(let C=0;C<i;++C){const N=C*c;for(let I=0;I<s;++I){const k=b*(s+2)+1+I,B=A+I;for(let z=0;z<c;++z){const P=C*(c+2)+1+z;if(t.get(P,k)){const U=N+z;x.set(U,B)}}}}}return x}}class Ki{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const a=r.getECBlocks();let s=0;const c=a.getECBlocks();for(let I of c)s+=I.getCount();const f=new Array(s);let i=0;for(let I of c)for(let k=0;k<I.getCount();k++){const B=I.getDataCodewords(),z=a.getECCodewords()+B;f[i++]=new Ki(B,new Uint8Array(z))}const d=f[0].codewords.length-a.getECCodewords(),x=d-1;let b=0;for(let I=0;I<x;I++)for(let k=0;k<i;k++)f[k].codewords[I]=t[b++];const A=r.getVersionNumber()===24,C=A?8:i;for(let I=0;I<C;I++)f[I].codewords[d-1]=t[b++];const N=f[0].codewords.length;for(let I=d;I<N;I++)for(let k=0;k<i;k++){const B=A?(k+8)%i:k,z=A&&B>7?I-1:I;f[B].codewords[z]=t[b++]}if(b!==t.length)throw new L;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Vr{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new L(""+t);let r=0,a=this.bitOffset,s=this.byteOffset;const c=this.bytes;if(a>0){const f=8-a,i=t<f?t:f,o=f-i,d=255>>8-i<<o;r=(c[s]&d)>>o,t-=i,a+=i,a===8&&(a=0,s++)}if(t>0){for(;t>=8;)r=r<<8|c[s]&255,s++,t-=8;if(t>0){const f=8-t,i=255>>f<<f;r=r<<t|(c[s]&i)>>f,a+=t}}return this.bitOffset=a,this.byteOffset=s,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var zt;(function(D){D[D.PAD_ENCODE=0]="PAD_ENCODE",D[D.ASCII_ENCODE=1]="ASCII_ENCODE",D[D.C40_ENCODE=2]="C40_ENCODE",D[D.TEXT_ENCODE=3]="TEXT_ENCODE",D[D.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",D[D.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",D[D.BASE256_ENCODE=6]="BASE256_ENCODE"})(zt||(zt={}));class kr{static decode(t){const r=new Vr(t),a=new ae,s=new ae,c=new Array;let f=zt.ASCII_ENCODE;do if(f===zt.ASCII_ENCODE)f=this.decodeAsciiSegment(r,a,s);else{switch(f){case zt.C40_ENCODE:this.decodeC40Segment(r,a);break;case zt.TEXT_ENCODE:this.decodeTextSegment(r,a);break;case zt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,a);break;case zt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,a);break;case zt.BASE256_ENCODE:this.decodeBase256Segment(r,a,c);break;default:throw new X}f=zt.ASCII_ENCODE}while(f!==zt.PAD_ENCODE&&r.available()>0);return s.length()>0&&a.append(s.toString()),new it(t,a.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(t,r,a){let s=!1;do{let c=t.readBits(8);if(c===0)throw new X;if(c<=128)return s&&(c+=128),r.append(String.fromCharCode(c-1)),zt.ASCII_ENCODE;if(c===129)return zt.PAD_ENCODE;if(c<=229){const f=c-130;f<10&&r.append("0"),r.append(""+f)}else switch(c){case 230:return zt.C40_ENCODE;case 231:return zt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:r.append("[)>05"),a.insert(0,"");break;case 237:r.append("[)>06"),a.insert(0,"");break;case 238:return zt.ANSIX12_ENCODE;case 239:return zt.TEXT_ENCODE;case 240:return zt.EDIFACT_ENCODE;case 241:break;default:if(c!==254||t.available()!==0)throw new X;break}}while(t.available()>0);return zt.ASCII_ENCODE}static decodeC40Segment(t,r){let a=!1;const s=[];let c=0;do{if(t.available()===8)return;const f=t.readBits(8);if(f===254)return;this.parseTwoBytes(f,t.readBits(8),s);for(let i=0;i<3;i++){const o=s[i];switch(c){case 0:if(o<3)c=o+1;else if(o<this.C40_BASIC_SET_CHARS.length){const d=this.C40_BASIC_SET_CHARS[o];a?(r.append(String.fromCharCode(d.charCodeAt(0)+128)),a=!1):r.append(d)}else throw new X;break;case 1:a?(r.append(String.fromCharCode(o+128)),a=!1):r.append(String.fromCharCode(o)),c=0;break;case 2:if(o<this.C40_SHIFT2_SET_CHARS.length){const d=this.C40_SHIFT2_SET_CHARS[o];a?(r.append(String.fromCharCode(d.charCodeAt(0)+128)),a=!1):r.append(d)}else switch(o){case 27:r.append("");break;case 30:a=!0;break;default:throw new X}c=0;break;case 3:a?(r.append(String.fromCharCode(o+224)),a=!1):r.append(String.fromCharCode(o+96)),c=0;break;default:throw new X}}}while(t.available()>0)}static decodeTextSegment(t,r){let a=!1,s=[],c=0;do{if(t.available()===8)return;const f=t.readBits(8);if(f===254)return;this.parseTwoBytes(f,t.readBits(8),s);for(let i=0;i<3;i++){const o=s[i];switch(c){case 0:if(o<3)c=o+1;else if(o<this.TEXT_BASIC_SET_CHARS.length){const d=this.TEXT_BASIC_SET_CHARS[o];a?(r.append(String.fromCharCode(d.charCodeAt(0)+128)),a=!1):r.append(d)}else throw new X;break;case 1:a?(r.append(String.fromCharCode(o+128)),a=!1):r.append(String.fromCharCode(o)),c=0;break;case 2:if(o<this.TEXT_SHIFT2_SET_CHARS.length){const d=this.TEXT_SHIFT2_SET_CHARS[o];a?(r.append(String.fromCharCode(d.charCodeAt(0)+128)),a=!1):r.append(d)}else switch(o){case 27:r.append("");break;case 30:a=!0;break;default:throw new X}c=0;break;case 3:if(o<this.TEXT_SHIFT3_SET_CHARS.length){const d=this.TEXT_SHIFT3_SET_CHARS[o];a?(r.append(String.fromCharCode(d.charCodeAt(0)+128)),a=!1):r.append(d),c=0}else throw new X;break;default:throw new X}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const a=[];do{if(t.available()===8)return;const s=t.readBits(8);if(s===254)return;this.parseTwoBytes(s,t.readBits(8),a);for(let c=0;c<3;c++){const f=a[c];switch(f){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(f<14)r.append(String.fromCharCode(f+44));else if(f<40)r.append(String.fromCharCode(f+51));else throw new X;break}}}while(t.available()>0)}static parseTwoBytes(t,r,a){let s=(t<<8)+r-1,c=Math.floor(s/1600);a[0]=c,s-=c*1600,c=Math.floor(s/40),a[1]=c,a[2]=s-c*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let a=0;a<4;a++){let s=t.readBits(6);if(s===31){const c=8-t.getBitOffset();c!==8&&t.readBits(c);return}(s&32)===0&&(s|=64),r.append(String.fromCharCode(s))}}while(t.available()>0)}static decodeBase256Segment(t,r,a){let s=1+t.getByteOffset();const c=this.unrandomize255State(t.readBits(8),s++);let f;if(c===0?f=t.available()/8|0:c<250?f=c:f=250*(c-249)+this.unrandomize255State(t.readBits(8),s++),f<0)throw new X;const i=new Uint8Array(f);for(let o=0;o<f;o++){if(t.available()<8)throw new X;i[o]=this.unrandomize255State(t.readBits(8),s++)}a.push(i);try{r.append(Me.decode(i,we.ISO88591))}catch(o){throw new pn("Platform does not support required encoding: "+o.message)}}static unrandomize255State(t,r){const a=149*r%255+1,s=t-a;return s>=0?s:s+256}}kr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],kr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],kr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],kr.TEXT_SHIFT2_SET_CHARS=kr.C40_SHIFT2_SET_CHARS,kr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Jl{constructor(){this.rsDecoder=new Tr(xt.DATA_MATRIX_FIELD_256)}decode(t){const r=new Et(t),a=r.getVersion(),s=r.readCodewords(),c=Ki.getDataBlocks(s,a);let f=0;for(let d of c)f+=d.getNumDataCodewords();const i=new Uint8Array(f),o=c.length;for(let d=0;d<o;d++){const x=c[d],b=x.getCodewords(),A=x.getNumDataCodewords();this.correctErrors(b,A);for(let C=0;C<A;C++)i[C*o+d]=b[C]}return kr.decode(i)}correctErrors(t,r){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-r)}catch{throw new K}for(let s=0;s<r;s++)t[s]=a[s]}}class _n{constructor(t){this.image=t,this.rectangleDetector=new yn(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new $;r=this.shiftToModuleCenter(r);const a=r[0],s=r[1],c=r[2],f=r[3];let i=this.transitionsBetween(a,f)+1,o=this.transitionsBetween(c,f)+1;(i&1)===1&&(i+=1),(o&1)===1&&(o+=1),4*i<7*o&&4*o<7*i&&(i=o=Math.max(i,o));let d=_n.sampleGrid(this.image,a,s,c,f,i,o);return new ti(d,[a,s,c,f])}static shiftPoint(t,r,a){let s=(r.getX()-t.getX())/(a+1),c=(r.getY()-t.getY())/(a+1);return new Ke(t.getX()+s,t.getY()+c)}static moveAway(t,r,a){let s=t.getX(),c=t.getY();return s<r?s-=1:s+=1,c<a?c-=1:c+=1,new Ke(s,c)}detectSolid1(t){let r=t[0],a=t[1],s=t[3],c=t[2],f=this.transitionsBetween(r,a),i=this.transitionsBetween(a,s),o=this.transitionsBetween(s,c),d=this.transitionsBetween(c,r),x=f,b=[c,r,a,s];return x>i&&(x=i,b[0]=r,b[1]=a,b[2]=s,b[3]=c),x>o&&(x=o,b[0]=a,b[1]=s,b[2]=c,b[3]=r),x>d&&(b[0]=s,b[1]=c,b[2]=r,b[3]=a),b}detectSolid2(t){let r=t[0],a=t[1],s=t[2],c=t[3],f=this.transitionsBetween(r,c),i=_n.shiftPoint(a,s,(f+1)*4),o=_n.shiftPoint(s,a,(f+1)*4),d=this.transitionsBetween(i,r),x=this.transitionsBetween(o,c);return d<x?(t[0]=r,t[1]=a,t[2]=s,t[3]=c):(t[0]=a,t[1]=s,t[2]=c,t[3]=r),t}correctTopRight(t){let r=t[0],a=t[1],s=t[2],c=t[3],f=this.transitionsBetween(r,c),i=this.transitionsBetween(a,c),o=_n.shiftPoint(r,a,(i+1)*4),d=_n.shiftPoint(s,a,(f+1)*4);f=this.transitionsBetween(o,c),i=this.transitionsBetween(d,c);let x=new Ke(c.getX()+(s.getX()-a.getX())/(f+1),c.getY()+(s.getY()-a.getY())/(f+1)),b=new Ke(c.getX()+(r.getX()-a.getX())/(i+1),c.getY()+(r.getY()-a.getY())/(i+1));if(!this.isValid(x))return this.isValid(b)?b:null;if(!this.isValid(b))return x;let A=this.transitionsBetween(o,x)+this.transitionsBetween(d,x),C=this.transitionsBetween(o,b)+this.transitionsBetween(d,b);return A>C?x:b}shiftToModuleCenter(t){let r=t[0],a=t[1],s=t[2],c=t[3],f=this.transitionsBetween(r,c)+1,i=this.transitionsBetween(s,c)+1,o=_n.shiftPoint(r,a,i*4),d=_n.shiftPoint(s,a,f*4);f=this.transitionsBetween(o,c)+1,i=this.transitionsBetween(d,c)+1,(f&1)===1&&(f+=1),(i&1)===1&&(i+=1);let x=(r.getX()+a.getX()+s.getX()+c.getX())/4,b=(r.getY()+a.getY()+s.getY()+c.getY())/4;r=_n.moveAway(r,x,b),a=_n.moveAway(a,x,b),s=_n.moveAway(s,x,b),c=_n.moveAway(c,x,b);let A,C;return o=_n.shiftPoint(r,a,i*4),o=_n.shiftPoint(o,c,f*4),A=_n.shiftPoint(a,r,i*4),A=_n.shiftPoint(A,s,f*4),d=_n.shiftPoint(s,c,i*4),d=_n.shiftPoint(d,a,f*4),C=_n.shiftPoint(c,s,i*4),C=_n.shiftPoint(C,r,f*4),[o,A,d,C]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,a,s,c,f,i){return Xn.getInstance().sampleGrid(t,f,i,.5,.5,f-.5,.5,f-.5,i-.5,.5,i-.5,r.getX(),r.getY(),c.getX(),c.getY(),s.getX(),s.getY(),a.getX(),a.getY())}transitionsBetween(t,r){let a=Math.trunc(t.getX()),s=Math.trunc(t.getY()),c=Math.trunc(r.getX()),f=Math.trunc(r.getY()),i=Math.abs(f-s)>Math.abs(c-a);if(i){let I=a;a=s,s=I,I=c,c=f,f=I}let o=Math.abs(c-a),d=Math.abs(f-s),x=-o/2,b=s<f?1:-1,A=a<c?1:-1,C=0,N=this.image.get(i?s:a,i?a:s);for(let I=a,k=s;I!==c;I+=A){let B=this.image.get(i?k:I,i?I:k);if(B!==N&&(C++,N=B),x+=d,x>0){if(k===f)break;k+=b,x-=o}}return C}}class ri{constructor(){this.decoder=new Jl}decode(t,r=null){let a,s;if(r!=null&&r.has(he.PURE_BARCODE)){const d=ri.extractPureBits(t.getBlackMatrix());a=this.decoder.decode(d),s=ri.NO_POINTS}else{const d=new _n(t.getBlackMatrix()).detect();a=this.decoder.decode(d.getBits()),s=d.getPoints()}const c=a.getRawBytes(),f=new _e(a.getText(),c,8*c.length,s,Ae.DATA_MATRIX,le.currentTimeMillis()),i=a.getByteSegments();i!=null&&f.putMetadata(We.BYTE_SEGMENTS,i);const o=a.getECLevel();return o!=null&&f.putMetadata(We.ERROR_CORRECTION_LEVEL,o),f}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(r==null||a==null)throw new $;const s=this.moduleSize(r,t);let c=r[1];const f=a[1];let i=r[0];const d=(a[0]-i+1)/s,x=(f-c+1)/s;if(d<=0||x<=0)throw new $;const b=s/2;c+=b,i+=b;const A=new Re(d,x);for(let C=0;C<x;C++){const N=c+C*s;for(let I=0;I<d;I++)t.get(i+I*s,N)&&A.set(I,C)}return A}static moduleSize(t,r){const a=r.getWidth();let s=t[0];const c=t[1];for(;s<a&&r.get(s,c);)s++;if(s===a)throw new $;const f=s-t[0];if(f===0)throw new $;return f}}ri.NO_POINTS=[];class nn extends ze{constructor(t=500){super(new ri,t)}}var ii;(function(D){D[D.L=0]="L",D[D.M=1]="M",D[D.Q=2]="Q",D[D.H=3]="H"})(ii||(ii={}));class At{constructor(t,r,a){this.value=t,this.stringValue=r,this.bits=a,At.FOR_BITS.set(a,this),At.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return At.L;case"M":return At.M;case"Q":return At.Q;case"H":return At.H;default:throw new j(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof At))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=At.FOR_BITS.size)throw new L;return At.FOR_BITS.get(t)}}At.FOR_BITS=new Map,At.FOR_VALUE=new Map,At.L=new At(ii.L,"L",1),At.M=new At(ii.M,"M",0),At.Q=new At(ii.Q,"Q",3),At.H=new At(ii.H,"H",2);class Mn{constructor(t){this.errorCorrectionLevel=At.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return se.bitCount(t^r)}static decodeFormatInformation(t,r){const a=Mn.doDecodeFormatInformation(t,r);return a!==null?a:Mn.doDecodeFormatInformation(t^Mn.FORMAT_INFO_MASK_QR,r^Mn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let a=Number.MAX_SAFE_INTEGER,s=0;for(const c of Mn.FORMAT_INFO_DECODE_LOOKUP){const f=c[0];if(f===t||f===r)return new Mn(c[1]);let i=Mn.numBitsDiffering(t,f);i<a&&(s=c[1],a=i),t!==r&&(i=Mn.numBitsDiffering(r,f),i<a&&(s=c[1],a=i))}return a<=3?new Mn(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Mn))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Mn.FORMAT_INFO_MASK_QR=21522,Mn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class oe{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const a of r)t+=a.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class F{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class nt{constructor(t,r,...a){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=a;let s=0;const c=a[0].getECCodewordsPerBlock(),f=a[0].getECBlocks();for(const i of f)s+=i.getCount()*(i.getDataCodewords()+c);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new X;try{return this.getVersionForNumber((t-17)/4)}catch{throw new X}}static getVersionForNumber(t){if(t<1||t>40)throw new L;return nt.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,a=0;for(let s=0;s<nt.VERSION_DECODE_INFO.length;s++){const c=nt.VERSION_DECODE_INFO[s];if(c===t)return nt.getVersionForNumber(s+7);const f=Mn.numBitsDiffering(t,c);f<r&&(a=s+7,r=f)}return r<=3?nt.getVersionForNumber(a):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new Re(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const a=this.alignmentPatternCenters.length;for(let s=0;s<a;s++){const c=this.alignmentPatternCenters[s]-2;for(let f=0;f<a;f++)s===0&&(f===0||f===a-1)||s===a-1&&f===0||r.setRegion(this.alignmentPatternCenters[f]-2,c,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}nt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),nt.VERSIONS=[new nt(1,new Int32Array(0),new oe(7,new F(1,19)),new oe(10,new F(1,16)),new oe(13,new F(1,13)),new oe(17,new F(1,9))),new nt(2,Int32Array.from([6,18]),new oe(10,new F(1,34)),new oe(16,new F(1,28)),new oe(22,new F(1,22)),new oe(28,new F(1,16))),new nt(3,Int32Array.from([6,22]),new oe(15,new F(1,55)),new oe(26,new F(1,44)),new oe(18,new F(2,17)),new oe(22,new F(2,13))),new nt(4,Int32Array.from([6,26]),new oe(20,new F(1,80)),new oe(18,new F(2,32)),new oe(26,new F(2,24)),new oe(16,new F(4,9))),new nt(5,Int32Array.from([6,30]),new oe(26,new F(1,108)),new oe(24,new F(2,43)),new oe(18,new F(2,15),new F(2,16)),new oe(22,new F(2,11),new F(2,12))),new nt(6,Int32Array.from([6,34]),new oe(18,new F(2,68)),new oe(16,new F(4,27)),new oe(24,new F(4,19)),new oe(28,new F(4,15))),new nt(7,Int32Array.from([6,22,38]),new oe(20,new F(2,78)),new oe(18,new F(4,31)),new oe(18,new F(2,14),new F(4,15)),new oe(26,new F(4,13),new F(1,14))),new nt(8,Int32Array.from([6,24,42]),new oe(24,new F(2,97)),new oe(22,new F(2,38),new F(2,39)),new oe(22,new F(4,18),new F(2,19)),new oe(26,new F(4,14),new F(2,15))),new nt(9,Int32Array.from([6,26,46]),new oe(30,new F(2,116)),new oe(22,new F(3,36),new F(2,37)),new oe(20,new F(4,16),new F(4,17)),new oe(24,new F(4,12),new F(4,13))),new nt(10,Int32Array.from([6,28,50]),new oe(18,new F(2,68),new F(2,69)),new oe(26,new F(4,43),new F(1,44)),new oe(24,new F(6,19),new F(2,20)),new oe(28,new F(6,15),new F(2,16))),new nt(11,Int32Array.from([6,30,54]),new oe(20,new F(4,81)),new oe(30,new F(1,50),new F(4,51)),new oe(28,new F(4,22),new F(4,23)),new oe(24,new F(3,12),new F(8,13))),new nt(12,Int32Array.from([6,32,58]),new oe(24,new F(2,92),new F(2,93)),new oe(22,new F(6,36),new F(2,37)),new oe(26,new F(4,20),new F(6,21)),new oe(28,new F(7,14),new F(4,15))),new nt(13,Int32Array.from([6,34,62]),new oe(26,new F(4,107)),new oe(22,new F(8,37),new F(1,38)),new oe(24,new F(8,20),new F(4,21)),new oe(22,new F(12,11),new F(4,12))),new nt(14,Int32Array.from([6,26,46,66]),new oe(30,new F(3,115),new F(1,116)),new oe(24,new F(4,40),new F(5,41)),new oe(20,new F(11,16),new F(5,17)),new oe(24,new F(11,12),new F(5,13))),new nt(15,Int32Array.from([6,26,48,70]),new oe(22,new F(5,87),new F(1,88)),new oe(24,new F(5,41),new F(5,42)),new oe(30,new F(5,24),new F(7,25)),new oe(24,new F(11,12),new F(7,13))),new nt(16,Int32Array.from([6,26,50,74]),new oe(24,new F(5,98),new F(1,99)),new oe(28,new F(7,45),new F(3,46)),new oe(24,new F(15,19),new F(2,20)),new oe(30,new F(3,15),new F(13,16))),new nt(17,Int32Array.from([6,30,54,78]),new oe(28,new F(1,107),new F(5,108)),new oe(28,new F(10,46),new F(1,47)),new oe(28,new F(1,22),new F(15,23)),new oe(28,new F(2,14),new F(17,15))),new nt(18,Int32Array.from([6,30,56,82]),new oe(30,new F(5,120),new F(1,121)),new oe(26,new F(9,43),new F(4,44)),new oe(28,new F(17,22),new F(1,23)),new oe(28,new F(2,14),new F(19,15))),new nt(19,Int32Array.from([6,30,58,86]),new oe(28,new F(3,113),new F(4,114)),new oe(26,new F(3,44),new F(11,45)),new oe(26,new F(17,21),new F(4,22)),new oe(26,new F(9,13),new F(16,14))),new nt(20,Int32Array.from([6,34,62,90]),new oe(28,new F(3,107),new F(5,108)),new oe(26,new F(3,41),new F(13,42)),new oe(30,new F(15,24),new F(5,25)),new oe(28,new F(15,15),new F(10,16))),new nt(21,Int32Array.from([6,28,50,72,94]),new oe(28,new F(4,116),new F(4,117)),new oe(26,new F(17,42)),new oe(28,new F(17,22),new F(6,23)),new oe(30,new F(19,16),new F(6,17))),new nt(22,Int32Array.from([6,26,50,74,98]),new oe(28,new F(2,111),new F(7,112)),new oe(28,new F(17,46)),new oe(30,new F(7,24),new F(16,25)),new oe(24,new F(34,13))),new nt(23,Int32Array.from([6,30,54,78,102]),new oe(30,new F(4,121),new F(5,122)),new oe(28,new F(4,47),new F(14,48)),new oe(30,new F(11,24),new F(14,25)),new oe(30,new F(16,15),new F(14,16))),new nt(24,Int32Array.from([6,28,54,80,106]),new oe(30,new F(6,117),new F(4,118)),new oe(28,new F(6,45),new F(14,46)),new oe(30,new F(11,24),new F(16,25)),new oe(30,new F(30,16),new F(2,17))),new nt(25,Int32Array.from([6,32,58,84,110]),new oe(26,new F(8,106),new F(4,107)),new oe(28,new F(8,47),new F(13,48)),new oe(30,new F(7,24),new F(22,25)),new oe(30,new F(22,15),new F(13,16))),new nt(26,Int32Array.from([6,30,58,86,114]),new oe(28,new F(10,114),new F(2,115)),new oe(28,new F(19,46),new F(4,47)),new oe(28,new F(28,22),new F(6,23)),new oe(30,new F(33,16),new F(4,17))),new nt(27,Int32Array.from([6,34,62,90,118]),new oe(30,new F(8,122),new F(4,123)),new oe(28,new F(22,45),new F(3,46)),new oe(30,new F(8,23),new F(26,24)),new oe(30,new F(12,15),new F(28,16))),new nt(28,Int32Array.from([6,26,50,74,98,122]),new oe(30,new F(3,117),new F(10,118)),new oe(28,new F(3,45),new F(23,46)),new oe(30,new F(4,24),new F(31,25)),new oe(30,new F(11,15),new F(31,16))),new nt(29,Int32Array.from([6,30,54,78,102,126]),new oe(30,new F(7,116),new F(7,117)),new oe(28,new F(21,45),new F(7,46)),new oe(30,new F(1,23),new F(37,24)),new oe(30,new F(19,15),new F(26,16))),new nt(30,Int32Array.from([6,26,52,78,104,130]),new oe(30,new F(5,115),new F(10,116)),new oe(28,new F(19,47),new F(10,48)),new oe(30,new F(15,24),new F(25,25)),new oe(30,new F(23,15),new F(25,16))),new nt(31,Int32Array.from([6,30,56,82,108,134]),new oe(30,new F(13,115),new F(3,116)),new oe(28,new F(2,46),new F(29,47)),new oe(30,new F(42,24),new F(1,25)),new oe(30,new F(23,15),new F(28,16))),new nt(32,Int32Array.from([6,34,60,86,112,138]),new oe(30,new F(17,115)),new oe(28,new F(10,46),new F(23,47)),new oe(30,new F(10,24),new F(35,25)),new oe(30,new F(19,15),new F(35,16))),new nt(33,Int32Array.from([6,30,58,86,114,142]),new oe(30,new F(17,115),new F(1,116)),new oe(28,new F(14,46),new F(21,47)),new oe(30,new F(29,24),new F(19,25)),new oe(30,new F(11,15),new F(46,16))),new nt(34,Int32Array.from([6,34,62,90,118,146]),new oe(30,new F(13,115),new F(6,116)),new oe(28,new F(14,46),new F(23,47)),new oe(30,new F(44,24),new F(7,25)),new oe(30,new F(59,16),new F(1,17))),new nt(35,Int32Array.from([6,30,54,78,102,126,150]),new oe(30,new F(12,121),new F(7,122)),new oe(28,new F(12,47),new F(26,48)),new oe(30,new F(39,24),new F(14,25)),new oe(30,new F(22,15),new F(41,16))),new nt(36,Int32Array.from([6,24,50,76,102,128,154]),new oe(30,new F(6,121),new F(14,122)),new oe(28,new F(6,47),new F(34,48)),new oe(30,new F(46,24),new F(10,25)),new oe(30,new F(2,15),new F(64,16))),new nt(37,Int32Array.from([6,28,54,80,106,132,158]),new oe(30,new F(17,122),new F(4,123)),new oe(28,new F(29,46),new F(14,47)),new oe(30,new F(49,24),new F(10,25)),new oe(30,new F(24,15),new F(46,16))),new nt(38,Int32Array.from([6,32,58,84,110,136,162]),new oe(30,new F(4,122),new F(18,123)),new oe(28,new F(13,46),new F(32,47)),new oe(30,new F(48,24),new F(14,25)),new oe(30,new F(42,15),new F(32,16))),new nt(39,Int32Array.from([6,26,54,82,110,138,166]),new oe(30,new F(20,117),new F(4,118)),new oe(28,new F(40,47),new F(7,48)),new oe(30,new F(43,24),new F(22,25)),new oe(30,new F(10,15),new F(67,16))),new nt(40,Int32Array.from([6,30,58,86,114,142,170]),new oe(30,new F(19,118),new F(6,119)),new oe(28,new F(18,47),new F(31,48)),new oe(30,new F(34,24),new F(34,25)),new oe(30,new F(20,15),new F(61,16)))];var Kn;(function(D){D[D.DATA_MASK_000=0]="DATA_MASK_000",D[D.DATA_MASK_001=1]="DATA_MASK_001",D[D.DATA_MASK_010=2]="DATA_MASK_010",D[D.DATA_MASK_011=3]="DATA_MASK_011",D[D.DATA_MASK_100=4]="DATA_MASK_100",D[D.DATA_MASK_101=5]="DATA_MASK_101",D[D.DATA_MASK_110=6]="DATA_MASK_110",D[D.DATA_MASK_111=7]="DATA_MASK_111"})(Kn||(Kn={}));class mr{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let a=0;a<r;a++)for(let s=0;s<r;s++)this.isMasked(a,s)&&t.flip(s,a)}}mr.values=new Map([[Kn.DATA_MASK_000,new mr(Kn.DATA_MASK_000,(D,t)=>(D+t&1)===0)],[Kn.DATA_MASK_001,new mr(Kn.DATA_MASK_001,(D,t)=>(D&1)===0)],[Kn.DATA_MASK_010,new mr(Kn.DATA_MASK_010,(D,t)=>t%3===0)],[Kn.DATA_MASK_011,new mr(Kn.DATA_MASK_011,(D,t)=>(D+t)%3===0)],[Kn.DATA_MASK_100,new mr(Kn.DATA_MASK_100,(D,t)=>(Math.floor(D/2)+Math.floor(t/3)&1)===0)],[Kn.DATA_MASK_101,new mr(Kn.DATA_MASK_101,(D,t)=>D*t%6===0)],[Kn.DATA_MASK_110,new mr(Kn.DATA_MASK_110,(D,t)=>D*t%6<3)],[Kn.DATA_MASK_111,new mr(Kn.DATA_MASK_111,(D,t)=>(D+t+D*t%3&1)===0)]]);class Zi{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new X;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let c=0;c<6;c++)t=this.copyBit(c,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let c=5;c>=0;c--)t=this.copyBit(8,c,t);const r=this.bitMatrix.getHeight();let a=0;const s=r-7;for(let c=r-1;c>=s;c--)a=this.copyBit(8,c,a);for(let c=r-8;c<r;c++)a=this.copyBit(c,8,a);if(this.parsedFormatInfo=Mn.decodeFormatInformation(t,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new X}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return nt.getVersionForNumber(r);let a=0;const s=t-11;for(let f=5;f>=0;f--)for(let i=t-9;i>=s;i--)a=this.copyBit(i,f,a);let c=nt.decodeVersionInformation(a);if(c!==null&&c.getDimensionForVersion()===t)return this.parsedVersion=c,c;a=0;for(let f=5;f>=0;f--)for(let i=t-9;i>=s;i--)a=this.copyBit(f,i,a);if(c=nt.decodeVersionInformation(a),c!==null&&c.getDimensionForVersion()===t)return this.parsedVersion=c,c;throw new X}copyBit(t,r,a){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?a<<1|1:a<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),a=mr.values.get(t.getDataMask()),s=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,s);const c=r.buildFunctionPattern();let f=!0;const i=new Uint8Array(r.getTotalCodewords());let o=0,d=0,x=0;for(let b=s-1;b>0;b-=2){b===6&&b--;for(let A=0;A<s;A++){const C=f?s-1-A:A;for(let N=0;N<2;N++)c.get(b-N,C)||(x++,d<<=1,this.bitMatrix.get(b-N,C)&&(d|=1),x===8&&(i[o++]=d,x=0,d=0))}f=!f}if(o!==r.getTotalCodewords())throw new X;return i}remask(){if(this.parsedFormatInfo===null)return;const t=mr.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,a=t.getWidth();r<a;r++)for(let s=r+1,c=t.getHeight();s<c;s++)t.get(r,s)!==t.get(s,r)&&(t.flip(s,r),t.flip(r,s))}}class _l{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,a){if(t.length!==r.getTotalCodewords())throw new L;const s=r.getECBlocksForLevel(a);let c=0;const f=s.getECBlocks();for(const N of f)c+=N.getCount();const i=new Array(c);let o=0;for(const N of f)for(let I=0;I<N.getCount();I++){const k=N.getDataCodewords(),B=s.getECCodewordsPerBlock()+k;i[o++]=new _l(k,new Uint8Array(B))}const d=i[0].codewords.length;let x=i.length-1;for(;x>=0&&i[x].codewords.length!==d;)x--;x++;const b=d-s.getECCodewordsPerBlock();let A=0;for(let N=0;N<b;N++)for(let I=0;I<o;I++)i[I].codewords[N]=t[A++];for(let N=x;N<o;N++)i[N].codewords[b]=t[A++];const C=i[0].codewords.length;for(let N=b;N<C;N++)for(let I=0;I<o;I++){const k=I<x?N:N+1;i[I].codewords[k]=t[A++]}return i}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var bt;(function(D){D[D.TERMINATOR=0]="TERMINATOR",D[D.NUMERIC=1]="NUMERIC",D[D.ALPHANUMERIC=2]="ALPHANUMERIC",D[D.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",D[D.BYTE=4]="BYTE",D[D.ECI=5]="ECI",D[D.KANJI=6]="KANJI",D[D.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",D[D.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",D[D.HANZI=9]="HANZI"})(bt||(bt={}));class ct{constructor(t,r,a,s){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=a,this.bits=s,ct.FOR_BITS.set(s,this),ct.FOR_VALUE.set(t,this)}static forBits(t){const r=ct.FOR_BITS.get(t);if(r===void 0)throw new L;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let a;return r<=9?a=0:r<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof ct))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}ct.FOR_BITS=new Map,ct.FOR_VALUE=new Map,ct.TERMINATOR=new ct(bt.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ct.NUMERIC=new ct(bt.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ct.ALPHANUMERIC=new ct(bt.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ct.STRUCTURED_APPEND=new ct(bt.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ct.BYTE=new ct(bt.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ct.ECI=new ct(bt.ECI,"ECI",Int32Array.from([0,0,0]),7),ct.KANJI=new ct(bt.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ct.FNC1_FIRST_POSITION=new ct(bt.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ct.FNC1_SECOND_POSITION=new ct(bt.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ct.HANZI=new ct(bt.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class vn{static decode(t,r,a,s){const c=new Vr(t);let f=new ae;const i=new Array;let o=-1,d=-1;try{let x=null,b=!1,A;do{if(c.available()<4)A=ct.TERMINATOR;else{const C=c.readBits(4);A=ct.forBits(C)}switch(A){case ct.TERMINATOR:break;case ct.FNC1_FIRST_POSITION:case ct.FNC1_SECOND_POSITION:b=!0;break;case ct.STRUCTURED_APPEND:if(c.available()<16)throw new X;o=c.readBits(8),d=c.readBits(8);break;case ct.ECI:const C=vn.parseECIValue(c);if(x=Q.getCharacterSetECIByValue(C),x===null)throw new X;break;case ct.HANZI:const N=c.readBits(4),I=c.readBits(A.getCharacterCountBits(r));N===vn.GB2312_SUBSET&&vn.decodeHanziSegment(c,f,I);break;default:const k=c.readBits(A.getCharacterCountBits(r));switch(A){case ct.NUMERIC:vn.decodeNumericSegment(c,f,k);break;case ct.ALPHANUMERIC:vn.decodeAlphanumericSegment(c,f,k,b);break;case ct.BYTE:vn.decodeByteSegment(c,f,k,x,i,s);break;case ct.KANJI:vn.decodeKanjiSegment(c,f,k);break;default:throw new X}break}}while(A!==ct.TERMINATOR)}catch{throw new X}return new it(t,f.toString(),i.length===0?null:i,a===null?null:a.toString(),o,d)}static decodeHanziSegment(t,r,a){if(a*13>t.available())throw new X;const s=new Uint8Array(2*a);let c=0;for(;a>0;){const f=t.readBits(13);let i=f/96<<8&4294967295|f%96;i<959?i+=41377:i+=42657,s[c]=i>>8&255,s[c+1]=i&255,c+=2,a--}try{r.append(Me.decode(s,we.GB2312))}catch(f){throw new X(f)}}static decodeKanjiSegment(t,r,a){if(a*13>t.available())throw new X;const s=new Uint8Array(2*a);let c=0;for(;a>0;){const f=t.readBits(13);let i=f/192<<8&4294967295|f%192;i<7936?i+=33088:i+=49472,s[c]=i>>8,s[c+1]=i,c+=2,a--}try{r.append(Me.decode(s,we.SHIFT_JIS))}catch(f){throw new X(f)}}static decodeByteSegment(t,r,a,s,c,f){if(8*a>t.available())throw new X;const i=new Uint8Array(a);for(let d=0;d<a;d++)i[d]=t.readBits(8);let o;s===null?o=we.guessEncoding(i,f):o=s.getName();try{r.append(Me.decode(i,o))}catch(d){throw new X(d)}c.push(i)}static toAlphaNumericChar(t){if(t>=vn.ALPHANUMERIC_CHARS.length)throw new X;return vn.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,a,s){const c=r.length();for(;a>1;){if(t.available()<11)throw new X;const f=t.readBits(11);r.append(vn.toAlphaNumericChar(Math.floor(f/45))),r.append(vn.toAlphaNumericChar(f%45)),a-=2}if(a===1){if(t.available()<6)throw new X;r.append(vn.toAlphaNumericChar(t.readBits(6)))}if(s)for(let f=c;f<r.length();f++)r.charAt(f)==="%"&&(f<r.length()-1&&r.charAt(f+1)==="%"?r.deleteCharAt(f+1):r.setCharAt(f,""))}static decodeNumericSegment(t,r,a){for(;a>=3;){if(t.available()<10)throw new X;const s=t.readBits(10);if(s>=1e3)throw new X;r.append(vn.toAlphaNumericChar(Math.floor(s/100))),r.append(vn.toAlphaNumericChar(Math.floor(s/10)%10)),r.append(vn.toAlphaNumericChar(s%10)),a-=3}if(a===2){if(t.available()<7)throw new X;const s=t.readBits(7);if(s>=100)throw new X;r.append(vn.toAlphaNumericChar(Math.floor(s/10))),r.append(vn.toAlphaNumericChar(s%10))}else if(a===1){if(t.available()<4)throw new X;const s=t.readBits(4);if(s>=10)throw new X;r.append(vn.toAlphaNumericChar(s))}}static parseECIValue(t){const r=t.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){const a=t.readBits(8);return(r&63)<<8&4294967295|a}if((r&224)===192){const a=t.readBits(16);return(r&31)<<16&4294967295|a}throw new X}}vn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",vn.GB2312_SUBSET=1;class $l{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class Lr{constructor(){this.rsDecoder=new Tr(xt.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(Re.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const a=new Zi(t);let s=null;try{return this.decodeBitMatrixParser(a,r)}catch(c){s=c}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const c=this.decodeBitMatrixParser(a,r);return c.setOther(new $l(!0)),c}catch(c){throw s!==null?s:c}}decodeBitMatrixParser(t,r){const a=t.readVersion(),s=t.readFormatInformation().getErrorCorrectionLevel(),c=t.readCodewords(),f=_l.getDataBlocks(c,a,s);let i=0;for(const x of f)i+=x.getNumDataCodewords();const o=new Uint8Array(i);let d=0;for(const x of f){const b=x.getCodewords(),A=x.getNumDataCodewords();this.correctErrors(b,A);for(let C=0;C<A;C++)o[d++]=b[C]}return vn.decode(o,a,s,r)}correctErrors(t,r){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-r)}catch{throw new K}for(let s=0;s<r;s++)t[s]=a[s]}}class Qr extends Ke{constructor(t,r,a){super(t,r),this.estimatedModuleSize=a}aboutEquals(t,r,a){if(Math.abs(r-this.getY())<=t&&Math.abs(a-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,r,a){const s=(this.getX()+r)/2,c=(this.getY()+t)/2,f=(this.estimatedModuleSize+a)/2;return new Qr(s,c,f)}}class vr{constructor(t,r,a,s,c,f,i){this.image=t,this.startX=r,this.startY=a,this.width=s,this.height=c,this.moduleSize=f,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,a=this.width,s=t+a,c=this.startY+r/2,f=new Int32Array(3),i=this.image;for(let o=0;o<r;o++){const d=c+((o&1)===0?Math.floor((o+1)/2):-Math.floor((o+1)/2));f[0]=0,f[1]=0,f[2]=0;let x=t;for(;x<s&&!i.get(x,d);)x++;let b=0;for(;x<s;){if(i.get(x,d))if(b===1)f[1]++;else if(b===2){if(this.foundPatternCross(f)){const A=this.handlePossibleCenter(f,d,x);if(A!==null)return A}f[0]=f[2],f[1]=1,f[2]=0,b=1}else f[++b]++;else b===1&&b++,f[b]++;x++}if(this.foundPatternCross(f)){const A=this.handlePossibleCenter(f,d,s);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new $}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,a=r/2;for(let s=0;s<3;s++)if(Math.abs(r-t[s])>=a)return!1;return!0}crossCheckVertical(t,r,a,s){const c=this.image,f=c.getHeight(),i=this.crossCheckStateCount;i[0]=0,i[1]=0,i[2]=0;let o=t;for(;o>=0&&c.get(r,o)&&i[1]<=a;)i[1]++,o--;if(o<0||i[1]>a)return NaN;for(;o>=0&&!c.get(r,o)&&i[0]<=a;)i[0]++,o--;if(i[0]>a)return NaN;for(o=t+1;o<f&&c.get(r,o)&&i[1]<=a;)i[1]++,o++;if(o===f||i[1]>a)return NaN;for(;o<f&&!c.get(r,o)&&i[2]<=a;)i[2]++,o++;if(i[2]>a)return NaN;const d=i[0]+i[1]+i[2];return 5*Math.abs(d-s)>=2*s?NaN:this.foundPatternCross(i)?vr.centerFromEnd(i,o):NaN}handlePossibleCenter(t,r,a){const s=t[0]+t[1]+t[2],c=vr.centerFromEnd(t,a),f=this.crossCheckVertical(r,c,2*t[1],s);if(!isNaN(f)){const i=(t[0]+t[1]+t[2])/3;for(const d of this.possibleCenters)if(d.aboutEquals(i,f,c))return d.combineEstimate(f,c,i);const o=new Qr(c,f,i);this.possibleCenters.push(o),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(o)}return null}}class Gr extends Ke{constructor(t,r,a,s){super(t,r),this.estimatedModuleSize=a,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,a){if(Math.abs(r-this.getY())<=t&&Math.abs(a-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,r,a){const s=this.count+1,c=(this.count*this.getX()+r)/s,f=(this.count*this.getY()+t)/s,i=(this.count*this.estimatedModuleSize+a)/s;return new Gr(c,f,i,s)}}class Ha{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Nn{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(he.TRY_HARDER)!==void 0,a=t!=null&&t.get(he.PURE_BARCODE)!==void 0,s=this.image,c=s.getHeight(),f=s.getWidth();let i=Math.floor(3*c/(4*Nn.MAX_MODULES));(i<Nn.MIN_SKIP||r)&&(i=Nn.MIN_SKIP);let o=!1;const d=new Int32Array(5);for(let b=i-1;b<c&&!o;b+=i){d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0;let A=0;for(let C=0;C<f;C++)if(s.get(C,b))(A&1)===1&&A++,d[A]++;else if((A&1)===0)if(A===4)if(Nn.foundPatternCross(d)){if(this.handlePossibleCenter(d,b,C,a)===!0)if(i=2,this.hasSkipped===!0)o=this.haveMultiplyConfirmedCenters();else{const I=this.findRowSkip();I>d[2]&&(b+=I-d[2]-i,C=f-1)}else{d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,A=3;continue}A=0,d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0}else d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,A=3;else d[++A]++;else d[A]++;Nn.foundPatternCross(d)&&this.handlePossibleCenter(d,b,f,a)===!0&&(i=d[0],this.hasSkipped&&(o=this.haveMultiplyConfirmedCenters()))}const x=this.selectBestPatterns();return Ke.orderBestPatterns(x),new Ha(x)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let c=0;c<5;c++){const f=t[c];if(f===0)return!1;r+=f}if(r<7)return!1;const a=r/7,s=a/2;return Math.abs(a-t[0])<s&&Math.abs(a-t[1])<s&&Math.abs(3*a-t[2])<3*s&&Math.abs(a-t[3])<s&&Math.abs(a-t[4])<s}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,a,s){const c=this.getCrossCheckStateCount();let f=0;const i=this.image;for(;t>=f&&r>=f&&i.get(r-f,t-f);)c[2]++,f++;if(t<f||r<f)return!1;for(;t>=f&&r>=f&&!i.get(r-f,t-f)&&c[1]<=a;)c[1]++,f++;if(t<f||r<f||c[1]>a)return!1;for(;t>=f&&r>=f&&i.get(r-f,t-f)&&c[0]<=a;)c[0]++,f++;if(c[0]>a)return!1;const o=i.getHeight(),d=i.getWidth();for(f=1;t+f<o&&r+f<d&&i.get(r+f,t+f);)c[2]++,f++;if(t+f>=o||r+f>=d)return!1;for(;t+f<o&&r+f<d&&!i.get(r+f,t+f)&&c[3]<a;)c[3]++,f++;if(t+f>=o||r+f>=d||c[3]>=a)return!1;for(;t+f<o&&r+f<d&&i.get(r+f,t+f)&&c[4]<a;)c[4]++,f++;if(c[4]>=a)return!1;const x=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(x-s)<2*s&&Nn.foundPatternCross(c)}crossCheckVertical(t,r,a,s){const c=this.image,f=c.getHeight(),i=this.getCrossCheckStateCount();let o=t;for(;o>=0&&c.get(r,o);)i[2]++,o--;if(o<0)return NaN;for(;o>=0&&!c.get(r,o)&&i[1]<=a;)i[1]++,o--;if(o<0||i[1]>a)return NaN;for(;o>=0&&c.get(r,o)&&i[0]<=a;)i[0]++,o--;if(i[0]>a)return NaN;for(o=t+1;o<f&&c.get(r,o);)i[2]++,o++;if(o===f)return NaN;for(;o<f&&!c.get(r,o)&&i[3]<a;)i[3]++,o++;if(o===f||i[3]>=a)return NaN;for(;o<f&&c.get(r,o)&&i[4]<a;)i[4]++,o++;if(i[4]>=a)return NaN;const d=i[0]+i[1]+i[2]+i[3]+i[4];return 5*Math.abs(d-s)>=2*s?NaN:Nn.foundPatternCross(i)?Nn.centerFromEnd(i,o):NaN}crossCheckHorizontal(t,r,a,s){const c=this.image,f=c.getWidth(),i=this.getCrossCheckStateCount();let o=t;for(;o>=0&&c.get(o,r);)i[2]++,o--;if(o<0)return NaN;for(;o>=0&&!c.get(o,r)&&i[1]<=a;)i[1]++,o--;if(o<0||i[1]>a)return NaN;for(;o>=0&&c.get(o,r)&&i[0]<=a;)i[0]++,o--;if(i[0]>a)return NaN;for(o=t+1;o<f&&c.get(o,r);)i[2]++,o++;if(o===f)return NaN;for(;o<f&&!c.get(o,r)&&i[3]<a;)i[3]++,o++;if(o===f||i[3]>=a)return NaN;for(;o<f&&c.get(o,r)&&i[4]<a;)i[4]++,o++;if(i[4]>=a)return NaN;const d=i[0]+i[1]+i[2]+i[3]+i[4];return 5*Math.abs(d-s)>=s?NaN:Nn.foundPatternCross(i)?Nn.centerFromEnd(i,o):NaN}handlePossibleCenter(t,r,a,s){const c=t[0]+t[1]+t[2]+t[3]+t[4];let f=Nn.centerFromEnd(t,a),i=this.crossCheckVertical(r,Math.floor(f),t[2],c);if(!isNaN(i)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(i),t[2],c),!isNaN(f)&&(!s||this.crossCheckDiagonal(Math.floor(i),Math.floor(f),t[2],c)))){const o=c/7;let d=!1;const x=this.possibleCenters;for(let b=0,A=x.length;b<A;b++){const C=x[b];if(C.aboutEquals(o,i,f)){x[b]=C.combineEstimate(i,f,o),d=!0;break}}if(!d){const b=new Gr(f,i,o);x.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const a of this.possibleCenters)if(a.getCount()>=Nn.CENTER_QUORUM)if(r==null)r=a;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-a.getX())-Math.abs(r.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const a=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=Nn.CENTER_QUORUM&&(t++,r+=f.getEstimatedModuleSize());if(t<3)return!1;const s=r/a;let c=0;for(const f of this.possibleCenters)c+=Math.abs(f.getEstimatedModuleSize()-s);return c<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new $;const r=this.possibleCenters;let a;if(t>3){let s=0,c=0;for(const o of this.possibleCenters){const d=o.getEstimatedModuleSize();s+=d,c+=d*d}a=s/t;let f=Math.sqrt(c/t-a*a);r.sort((o,d)=>{const x=Math.abs(d.getEstimatedModuleSize()-a),b=Math.abs(o.getEstimatedModuleSize()-a);return x<b?-1:x>b?1:0});const i=Math.max(.2*a,f);for(let o=0;o<r.length&&r.length>3;o++){const d=r[o];Math.abs(d.getEstimatedModuleSize()-a)>i&&(r.splice(o,1),o--)}}if(r.length>3){let s=0;for(const c of r)s+=c.getEstimatedModuleSize();a=s/r.length,r.sort((c,f)=>{if(f.getCount()===c.getCount()){const i=Math.abs(f.getEstimatedModuleSize()-a),o=Math.abs(c.getEstimatedModuleSize()-a);return i<o?1:i>o?-1:0}else return f.getCount()-c.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}Nn.CENTER_QUORUM=2,Nn.MIN_SKIP=3,Nn.MAX_MODULES=57;class un{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(he.NEED_RESULT_POINT_CALLBACK);const a=new Nn(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(a)}processFinderPatternInfo(t){const r=t.getTopLeft(),a=t.getTopRight(),s=t.getBottomLeft(),c=this.calculateModuleSize(r,a,s);if(c<1)throw new $("No pattern found in proccess finder.");const f=un.computeDimension(r,a,s,c),i=nt.getProvisionalVersionForDimension(f),o=i.getDimensionForVersion()-7;let d=null;if(i.getAlignmentPatternCenters().length>0){const C=a.getX()-r.getX()+s.getX(),N=a.getY()-r.getY()+s.getY(),I=1-3/o,k=Math.floor(r.getX()+I*(C-r.getX())),B=Math.floor(r.getY()+I*(N-r.getY()));for(let z=4;z<=16;z<<=1)try{d=this.findAlignmentInRegion(c,k,B,z);break}catch(P){if(!(P instanceof $))throw P}}const x=un.createTransform(r,a,s,d,f),b=un.sampleGrid(this.image,x,f);let A;return d===null?A=[s,r,a]:A=[s,r,a,d],new ti(b,A)}static createTransform(t,r,a,s,c){const f=c-3.5;let i,o,d,x;return s!==null?(i=s.getX(),o=s.getY(),d=f-3,x=d):(i=r.getX()-t.getX()+a.getX(),o=r.getY()-t.getY()+a.getY(),d=f,x=f),dn.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,d,x,3.5,f,t.getX(),t.getY(),r.getX(),r.getY(),i,o,a.getX(),a.getY())}static sampleGrid(t,r,a){return Xn.getInstance().sampleGridWithTransform(t,a,a,r)}static computeDimension(t,r,a,s){const c=_t.round(Ke.distance(t,r)/s),f=_t.round(Ke.distance(t,a)/s);let i=Math.floor((c+f)/2)+7;switch(i&3){case 0:i++;break;case 2:i--;break;case 3:throw new $("Dimensions could be not found.")}return i}calculateModuleSize(t,r,a){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,a))/2}calculateModuleSizeOneWay(t,r){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(a)?s/7:isNaN(s)?a/7:(a+s)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,a,s){let c=this.sizeOfBlackWhiteBlackRun(t,r,a,s),f=1,i=t-(a-t);i<0?(f=t/(t-i),i=0):i>=this.image.getWidth()&&(f=(this.image.getWidth()-1-t)/(i-t),i=this.image.getWidth()-1);let o=Math.floor(r-(s-r)*f);return f=1,o<0?(f=r/(r-o),o=0):o>=this.image.getHeight()&&(f=(this.image.getHeight()-1-r)/(o-r),o=this.image.getHeight()-1),i=Math.floor(t+(i-t)*f),c+=this.sizeOfBlackWhiteBlackRun(t,r,i,o),c-1}sizeOfBlackWhiteBlackRun(t,r,a,s){const c=Math.abs(s-r)>Math.abs(a-t);if(c){let C=t;t=r,r=C,C=a,a=s,s=C}const f=Math.abs(a-t),i=Math.abs(s-r);let o=-f/2;const d=t<a?1:-1,x=r<s?1:-1;let b=0;const A=a+d;for(let C=t,N=r;C!==A;C+=d){const I=c?N:C,k=c?C:N;if(b===1===this.image.get(I,k)){if(b===2)return _t.distance(C,N,t,r);b++}if(o+=i,o>0){if(N===s)break;N+=x,o-=f}}return b===2?_t.distance(a+d,s,t,r):NaN}findAlignmentInRegion(t,r,a,s){const c=Math.floor(s*t),f=Math.max(0,r-c),i=Math.min(this.image.getWidth()-1,r+c);if(i-f<t*3)throw new $("Alignment top exceeds estimated module size.");const o=Math.max(0,a-c),d=Math.min(this.image.getHeight()-1,a+c);if(d-o<t*3)throw new $("Alignment bottom exceeds estimated module size.");return new vr(this.image,f,o,i-f,d-o,t,this.resultPointCallback).find()}}class $n{constructor(){this.decoder=new Lr}getDecoder(){return this.decoder}decode(t,r){let a,s;if(r!=null&&r.get(he.PURE_BARCODE)!==void 0){const o=$n.extractPureBits(t.getBlackMatrix());a=this.decoder.decodeBitMatrix(o,r),s=$n.NO_POINTS}else{const o=new un(t.getBlackMatrix()).detect(r);a=this.decoder.decodeBitMatrix(o.getBits(),r),s=o.getPoints()}a.getOther()instanceof $l&&a.getOther().applyMirroredCorrection(s);const c=new _e(a.getText(),a.getRawBytes(),void 0,s,Ae.QR_CODE,void 0),f=a.getByteSegments();f!==null&&c.putMetadata(We.BYTE_SEGMENTS,f);const i=a.getECLevel();return i!==null&&c.putMetadata(We.ERROR_CORRECTION_LEVEL,i),a.hasStructuredAppend()&&(c.putMetadata(We.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),c.putMetadata(We.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),c}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(r===null||a===null)throw new $;const s=this.moduleSize(r,t);let c=r[1],f=a[1],i=r[0],o=a[0];if(i>=o||c>=f)throw new $;if(f-c!==o-i&&(o=i+(f-c),o>=t.getWidth()))throw new $;const d=Math.round((o-i+1)/s),x=Math.round((f-c+1)/s);if(d<=0||x<=0)throw new $;if(x!==d)throw new $;const b=Math.floor(s/2);c+=b,i+=b;const A=i+Math.floor((d-1)*s)-o;if(A>0){if(A>b)throw new $;i-=A}const C=c+Math.floor((x-1)*s)-f;if(C>0){if(C>b)throw new $;c-=C}const N=new Re(d,x);for(let I=0;I<x;I++){const k=c+Math.floor(I*s);for(let B=0;B<d;B++)t.get(i+Math.floor(B*s),k)&&N.set(B,I)}return N}static moduleSize(t,r){const a=r.getHeight(),s=r.getWidth();let c=t[0],f=t[1],i=!0,o=0;for(;c<s&&f<a;){if(i!==r.get(c,f)){if(++o===5)break;i=!i}c++,f++}if(c===s||f===a)throw new $;return(c-t[0])/7}}$n.NO_POINTS=new Array;class ut{PDF417Common(){}static getBitCountSum(t){return _t.sum(t)}static toIntArray(t){if(t==null||!t.length)return ut.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let a=0;for(const s of t)r[a++]=s;return r}static getCodeword(t){const r=Ce.binarySearch(ut.SYMBOL_TABLE,t&262143);return r<0?-1:(ut.CODEWORD_TABLE[r]-1)%ut.NUMBER_OF_CODEWORDS}}ut.NUMBER_OF_CODEWORDS=929,ut.MAX_CODEWORDS_IN_BARCODE=ut.NUMBER_OF_CODEWORDS-1,ut.MIN_ROWS_IN_BARCODE=3,ut.MAX_ROWS_IN_BARCODE=90,ut.MODULES_IN_CODEWORD=17,ut.MODULES_IN_STOP_PATTERN=18,ut.BARS_IN_MODULE=8,ut.EMPTY_INT_ARRAY=new Int32Array([]),ut.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ut.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ra{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class yt{static detectMultiple(t,r,a){let s=t.getBlackMatrix(),c=yt.detect(a,s);return c.length||(s=s.clone(),s.rotate180(),c=yt.detect(a,s)),new ra(s,c)}static detect(t,r){const a=new Array;let s=0,c=0,f=!1;for(;s<r.getHeight();){const i=yt.findVertices(r,s,c);if(i[0]==null&&i[3]==null){if(!f)break;f=!1,c=0;for(const o of a)o[1]!=null&&(s=Math.trunc(Math.max(s,o[1].getY()))),o[3]!=null&&(s=Math.max(s,Math.trunc(o[3].getY())));s+=yt.ROW_STEP;continue}if(f=!0,a.push(i),!t)break;i[2]!=null?(c=Math.trunc(i[2].getX()),s=Math.trunc(i[2].getY())):(c=Math.trunc(i[4].getX()),s=Math.trunc(i[4].getY()))}return a}static findVertices(t,r,a){const s=t.getHeight(),c=t.getWidth(),f=new Array(8);return yt.copyToResult(f,yt.findRowsWithPattern(t,s,c,r,a,yt.START_PATTERN),yt.INDEXES_START_PATTERN),f[4]!=null&&(a=Math.trunc(f[4].getX()),r=Math.trunc(f[4].getY())),yt.copyToResult(f,yt.findRowsWithPattern(t,s,c,r,a,yt.STOP_PATTERN),yt.INDEXES_STOP_PATTERN),f}static copyToResult(t,r,a){for(let s=0;s<a.length;s++)t[a[s]]=r[s]}static findRowsWithPattern(t,r,a,s,c,f){const i=new Array(4);let o=!1;const d=new Int32Array(f.length);for(;s<r;s+=yt.ROW_STEP){let b=yt.findGuardPattern(t,c,s,a,!1,f,d);if(b!=null){for(;s>0;){const A=yt.findGuardPattern(t,c,--s,a,!1,f,d);if(A!=null)b=A;else{s++;break}}i[0]=new Ke(b[0],s),i[1]=new Ke(b[1],s),o=!0;break}}let x=s+1;if(o){let b=0,A=Int32Array.from([Math.trunc(i[0].getX()),Math.trunc(i[1].getX())]);for(;x<r;x++){const C=yt.findGuardPattern(t,A[0],x,a,!1,f,d);if(C!=null&&Math.abs(A[0]-C[0])<yt.MAX_PATTERN_DRIFT&&Math.abs(A[1]-C[1])<yt.MAX_PATTERN_DRIFT)A=C,b=0;else{if(b>yt.SKIPPED_ROW_COUNT_MAX)break;b++}}x-=b+1,i[2]=new Ke(A[0],x),i[3]=new Ke(A[1],x)}return x-s<yt.BARCODE_MIN_HEIGHT&&Ce.fill(i,null),i}static findGuardPattern(t,r,a,s,c,f,i){Ce.fillWithin(i,0,i.length,0);let o=r,d=0;for(;t.get(o,a)&&o>0&&d++<yt.MAX_PIXEL_DRIFT;)o--;let x=o,b=0,A=f.length;for(let C=c;x<s;x++)if(t.get(x,a)!==C)i[b]++;else{if(b===A-1){if(yt.patternMatchVariance(i,f,yt.MAX_INDIVIDUAL_VARIANCE)<yt.MAX_AVG_VARIANCE)return new Int32Array([o,x]);o+=i[0]+i[1],le.arraycopy(i,2,i,0,b-1),i[b-1]=0,i[b]=0,b--}else b++;i[b]=1,C=!C}return b===A-1&&yt.patternMatchVariance(i,f,yt.MAX_INDIVIDUAL_VARIANCE)<yt.MAX_AVG_VARIANCE?new Int32Array([o,x-1]):null}static patternMatchVariance(t,r,a){let s=t.length,c=0,f=0;for(let d=0;d<s;d++)c+=t[d],f+=r[d];if(c<f)return 1/0;let i=c/f;a*=i;let o=0;for(let d=0;d<s;d++){let x=t[d],b=r[d]*i,A=x>b?x-b:b-x;if(A>a)return 1/0;o+=A}return o/c}}yt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),yt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),yt.MAX_AVG_VARIANCE=.42,yt.MAX_INDIVIDUAL_VARIANCE=.8,yt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),yt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),yt.MAX_PIXEL_DRIFT=3,yt.MAX_PATTERN_DRIFT=5,yt.SKIPPED_ROW_COUNT_MAX=25,yt.ROW_STEP=5,yt.BARCODE_MIN_HEIGHT=10;class Ht{constructor(t,r){if(r.length===0)throw new L;this.field=t;let a=r.length;if(a>1&&r[0]===0){let s=1;for(;s<a&&r[s]===0;)s++;s===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-s),le.arraycopy(r,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let s=0;for(let c of this.coefficients)s=this.field.add(s,c);return s}let r=this.coefficients[0],a=this.coefficients.length;for(let s=1;s<a;s++)r=this.field.add(this.field.multiply(t,r),this.coefficients[s]);return r}add(t){if(!this.field.equals(t.field))throw new L("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,a=t.coefficients;if(r.length>a.length){let f=r;r=a,a=f}let s=new Int32Array(a.length),c=a.length-r.length;le.arraycopy(a,0,s,0,c);for(let f=c;f<a.length;f++)s[f]=this.field.add(r[f-c],a[f]);return new Ht(this.field,s)}subtract(t){if(!this.field.equals(t.field))throw new L("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Ht?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new L("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Ht(this.field,new Int32Array([0]));let r=this.coefficients,a=r.length,s=t.coefficients,c=s.length,f=new Int32Array(a+c-1);for(let i=0;i<a;i++){let o=r[i];for(let d=0;d<c;d++)f[i+d]=this.field.add(f[i+d],this.field.multiply(o,s[d]))}return new Ht(this.field,f)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let a=0;a<t;a++)r[a]=this.field.subtract(0,this.coefficients[a]);return new Ht(this.field,r)}multiplyScalar(t){if(t===0)return new Ht(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,a=new Int32Array(r);for(let s=0;s<r;s++)a[s]=this.field.multiply(this.coefficients[s],t);return new Ht(this.field,a)}multiplyByMonomial(t,r){if(t<0)throw new L;if(r===0)return new Ht(this.field,new Int32Array([0]));let a=this.coefficients.length,s=new Int32Array(a+t);for(let c=0;c<a;c++)s[c]=this.field.multiply(this.coefficients[c],r);return new Ht(this.field,s)}toString(){let t=new ae;for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);a!==0&&(a<0?(t.append(" - "),a=-a):t.length()>0&&t.append(" + "),(r===0||a!==1)&&t.append(a),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class Nl{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new L;return this.logTable[t]}inverse(t){if(t===0)throw new gt;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class xr extends Nl{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let a=1;for(let s=0;s<t;s++)this.expTable[s]=a,a=a*r%t;for(let s=0;s<t-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new Ht(this,new Int32Array([0])),this.one=new Ht(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new L;if(r===0)return this.zero;let a=new Int32Array(t+1);return a[0]=r,new Ht(this,a)}}xr.PDF417_GF=new xr(ut.NUMBER_OF_CODEWORDS,3);class Wr{constructor(){this.field=xr.PDF417_GF}decode(t,r,a){let s=new Ht(this.field,t),c=new Int32Array(r),f=!1;for(let N=r;N>0;N--){let I=s.evaluateAt(this.field.exp(N));c[r-N]=I,I!==0&&(f=!0)}if(!f)return 0;let i=this.field.getOne();if(a!=null)for(const N of a){let I=this.field.exp(t.length-1-N),k=new Ht(this.field,new Int32Array([this.field.subtract(0,I),1]));i=i.multiply(k)}let o=new Ht(this.field,c),d=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),o,r),x=d[0],b=d[1],A=this.findErrorLocations(x),C=this.findErrorMagnitudes(b,x,A);for(let N=0;N<A.length;N++){let I=t.length-1-this.field.log(A[N]);if(I<0)throw K.getChecksumInstance();t[I]=this.field.subtract(t[I],C[N])}return A.length}runEuclideanAlgorithm(t,r,a){if(t.getDegree()<r.getDegree()){let A=t;t=r,r=A}let s=t,c=r,f=this.field.getZero(),i=this.field.getOne();for(;c.getDegree()>=Math.round(a/2);){let A=s,C=f;if(s=c,f=i,s.isZero())throw K.getChecksumInstance();c=A;let N=this.field.getZero(),I=s.getCoefficient(s.getDegree()),k=this.field.inverse(I);for(;c.getDegree()>=s.getDegree()&&!c.isZero();){let B=c.getDegree()-s.getDegree(),z=this.field.multiply(c.getCoefficient(c.getDegree()),k);N=N.add(this.field.buildMonomial(B,z)),c=c.subtract(s.multiplyByMonomial(B,z))}i=N.multiply(f).subtract(C).negative()}let o=i.getCoefficient(0);if(o===0)throw K.getChecksumInstance();let d=this.field.inverse(o),x=i.multiply(d),b=c.multiply(d);return[x,b]}findErrorLocations(t){let r=t.getDegree(),a=new Int32Array(r),s=0;for(let c=1;c<this.field.getSize()&&s<r;c++)t.evaluateAt(c)===0&&(a[s]=this.field.inverse(c),s++);if(s!==r)throw K.getChecksumInstance();return a}findErrorMagnitudes(t,r,a){let s=r.getDegree(),c=new Int32Array(s);for(let d=1;d<=s;d++)c[s-d]=this.field.multiply(d,r.getCoefficient(d));let f=new Ht(this.field,c),i=a.length,o=new Int32Array(i);for(let d=0;d<i;d++){let x=this.field.inverse(a[d]),b=this.field.subtract(0,t.evaluateAt(x)),A=this.field.inverse(f.evaluateAt(x));o[d]=this.field.multiply(b,A)}return o}}class ai{constructor(t,r,a,s,c){t instanceof ai?this.constructor_2(t):this.constructor_1(t,r,a,s,c)}constructor_1(t,r,a,s,c){const f=r==null||a==null,i=s==null||c==null;if(f&&i)throw new $;f?(r=new Ke(0,s.getY()),a=new Ke(0,c.getY())):i&&(s=new Ke(t.getWidth()-1,r.getY()),c=new Ke(t.getWidth()-1,a.getY())),this.image=t,this.topLeft=r,this.bottomLeft=a,this.topRight=s,this.bottomRight=c,this.minX=Math.trunc(Math.min(r.getX(),a.getX())),this.maxX=Math.trunc(Math.max(s.getX(),c.getX())),this.minY=Math.trunc(Math.min(r.getY(),s.getY())),this.maxY=Math.trunc(Math.max(a.getY(),c.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new ai(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,a){let s=this.topLeft,c=this.bottomLeft,f=this.topRight,i=this.bottomRight;if(t>0){let o=a?this.topLeft:this.topRight,d=Math.trunc(o.getY()-t);d<0&&(d=0);let x=new Ke(o.getX(),d);a?s=x:f=x}if(r>0){let o=a?this.bottomLeft:this.bottomRight,d=Math.trunc(o.getY()+r);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);let x=new Ke(o.getX(),d);a?c=x:i=x}return new ai(this.image,s,c,f,i)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ia{constructor(t,r,a,s){this.columnCount=t,this.errorCorrectionLevel=s,this.rowCountUpperPart=r,this.rowCountLowerPart=a,this.rowCount=r+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class li{constructor(){this.buffer=""}static form(t,r){let a=-1;function s(f,i,o,d,x,b){if(f==="%%")return"%";if(r[++a]===void 0)return;f=d?parseInt(d.substr(1)):void 0;let A=x?parseInt(x.substr(1)):void 0,C;switch(b){case"s":C=r[a];break;case"c":C=r[a][0];break;case"f":C=parseFloat(r[a]).toFixed(f);break;case"p":C=parseFloat(r[a]).toPrecision(f);break;case"e":C=parseFloat(r[a]).toExponential(f);break;case"x":C=parseInt(r[a]).toString(A||16);break;case"d":C=parseFloat(parseInt(r[a],A||10).toPrecision(f)).toFixed(0);break}C=typeof C=="object"?JSON.stringify(C):(+C).toString(A);let N=parseInt(o),I=o&&o[0]+""=="0"?"0":" ";for(;C.length<N;)C=i!==void 0?C+I:I+C;return C}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(c,s)}format(t,...r){this.buffer+=li.form(t,r)}toString(){return this.buffer}}class si{constructor(t){this.boundingBox=new ai(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let a=1;a<si.MAX_NEARBY_DISTANCE;a++){let s=this.imageRowToCodewordIndex(t)-a;if(s>=0&&(r=this.codewords[s],r!=null)||(s=this.imageRowToCodewordIndex(t)+a,s<this.codewords.length&&(r=this.codewords[s],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new li;let r=0;for(const a of this.codewords){if(a==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,a.getRowNumber(),a.getValue())}return t.toString()}}si.MAX_NEARBY_DISTANCE=5;class wi{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[a,s]of this.values.entries()){const c={getKey:()=>a,getValue:()=>s};c.getValue()>t?(t=c.getValue(),r=[],r.push(c.getKey())):c.getValue()===t&&r.push(c.getKey())}return ut.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class Rl extends si{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let a=this.getBoundingBox(),s=this._isLeft?a.getTopLeft():a.getTopRight(),c=this._isLeft?a.getBottomLeft():a.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(s.getY())),i=this.imageRowToCodewordIndex(Math.trunc(c.getY())),o=-1,d=1,x=0;for(let b=f;b<i;b++){if(r[b]==null)continue;let A=r[b],C=A.getRowNumber()-o;if(C===0)x++;else if(C===1)d=Math.max(d,x),x=1,o=A.getRowNumber();else if(C<0||A.getRowNumber()>=t.getRowCount()||C>b)r[b]=null;else{let N;d>2?N=(d-2)*C:N=C;let I=N>=b;for(let k=1;k<=N&&!I;k++)I=r[b-k]!=null;I?r[b]=null:(o=A.getRowNumber(),x=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let a of this.getCodewords())if(a!=null){let s=a.getRowNumber();if(s>=r.length)continue;r[s]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),a=this._isLeft?r.getTopLeft():r.getTopRight(),s=this._isLeft?r.getBottomLeft():r.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.imageRowToCodewordIndex(Math.trunc(s.getY())),i=this.getCodewords(),o=-1;for(let d=c;d<f;d++){if(i[d]==null)continue;let x=i[d];x.setRowNumberAsRowIndicatorColumn();let b=x.getRowNumber()-o;b===0||(b===1?o=x.getRowNumber():x.getRowNumber()>=t.getRowCount()?i[d]=null:o=x.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new wi,a=new wi,s=new wi,c=new wi;for(let i of t){if(i==null)continue;i.setRowNumberAsRowIndicatorColumn();let o=i.getValue()%30,d=i.getRowNumber();switch(this._isLeft||(d+=2),d%3){case 0:a.setValue(o*3+1);break;case 1:c.setValue(o/3),s.setValue(o%3);break;case 2:r.setValue(o+1);break}}if(r.getValue().length===0||a.getValue().length===0||s.getValue().length===0||c.getValue().length===0||r.getValue()[0]<1||a.getValue()[0]+s.getValue()[0]<ut.MIN_ROWS_IN_BARCODE||a.getValue()[0]+s.getValue()[0]>ut.MAX_ROWS_IN_BARCODE)return null;let f=new ia(r.getValue()[0],a.getValue()[0],s.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(t,f),f}removeIncorrectCodewords(t,r){for(let a=0;a<t.length;a++){let s=t[a];if(t[a]==null)continue;let c=s.getValue()%30,f=s.getRowNumber();if(f>r.getRowCount()){t[a]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:c*3+1!==r.getRowCountUpperPart()&&(t[a]=null);break;case 1:(Math.trunc(c/3)!==r.getErrorCorrectionLevel()||c%3!==r.getRowCountLowerPart())&&(t[a]=null);break;case 2:c+1!==r.getColumnCount()&&(t[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Fn{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=ut.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let a=this.detectionResultColumns[r].getCodewords();for(let s=0;s<a.length;s++)a[s]!=null&&(a[s].hasValidRowNumber()||this.adjustRowNumbers(r,s,a))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<t.length;a++)if(t[a]!=null&&r[a]!=null&&t[a].getRowNumber()===r[a].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let c=this.detectionResultColumns[s].getCodewords()[a];c!=null&&(c.setRowNumber(t[a].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<r.length;a++){if(r[a]==null)continue;let s=r[a].getRowNumber(),c=0;for(let f=this.barcodeColumnCount+1;f>0&&c<this.ADJUST_ROW_NUMBER_SKIP;f--){let i=this.detectionResultColumns[f].getCodewords()[a];i!=null&&(c=Fn.adjustRowNumberIfValid(s,c,i),i.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let a=0;a<r.length;a++){if(r[a]==null)continue;let s=r[a].getRowNumber(),c=0;for(let f=1;f<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;f++){let i=this.detectionResultColumns[f].getCodewords()[a];i!=null&&(c=Fn.adjustRowNumberIfValid(s,c,i),i.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(t)?(a.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,a){if(!this.detectionResultColumns[t-1])return;let s=a[r],c=this.detectionResultColumns[t-1].getCodewords(),f=c;this.detectionResultColumns[t+1]!=null&&(f=this.detectionResultColumns[t+1].getCodewords());let i=new Array(14);i[2]=c[r],i[3]=f[r],r>0&&(i[0]=a[r-1],i[4]=c[r-1],i[5]=f[r-1]),r>1&&(i[8]=a[r-2],i[10]=c[r-2],i[11]=f[r-2]),r<a.length-1&&(i[1]=a[r+1],i[6]=c[r+1],i[7]=f[r+1]),r<a.length-2&&(i[9]=a[r+2],i[12]=c[r+2],i[13]=f[r+2]);for(let o of i)if(Fn.adjustRowNumber(s,o))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new li;for(let a=0;a<t.getCodewords().length;a++){r.format("CW %3d:",a);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){r.format("    |   ");continue}let c=this.detectionResultColumns[s].getCodewords()[a];if(c==null){r.format("    |   ");continue}r.format(" %3d|%3d",c.getRowNumber(),c.getValue())}r.format("%n")}return r.toString()}}class Jr{constructor(t,r,a,s){this.rowNumber=Jr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(a),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Jr.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Jr.BARCODE_ROW_UNKNOWN=-1;class sr{static initialize(){for(let t=0;t<ut.SYMBOL_TABLE.length;t++){let r=ut.SYMBOL_TABLE[t],a=r&1;for(let s=0;s<ut.BARS_IN_MODULE;s++){let c=0;for(;(r&1)===a;)c+=1,r>>=1;a=r&1,sr.RATIOS_TABLE[t]||(sr.RATIOS_TABLE[t]=new Array(ut.BARS_IN_MODULE)),sr.RATIOS_TABLE[t][ut.BARS_IN_MODULE-s-1]=Math.fround(c/ut.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=sr.getDecodedCodewordValue(sr.sampleBitCounts(t));return r!==-1?r:sr.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=_t.sum(t),a=new Int32Array(ut.BARS_IN_MODULE),s=0,c=0;for(let f=0;f<ut.MODULES_IN_CODEWORD;f++){let i=r/(2*ut.MODULES_IN_CODEWORD)+f*r/ut.MODULES_IN_CODEWORD;c+t[s]<=i&&(c+=t[s],s++),a[s]++}return a}static getDecodedCodewordValue(t){let r=sr.getBitValue(t);return ut.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let a=0;a<t.length;a++)for(let s=0;s<t[a];s++)r=r<<1|(a%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=_t.sum(t),a=new Array(ut.BARS_IN_MODULE);if(r>1)for(let f=0;f<a.length;f++)a[f]=Math.fround(t[f]/r);let s=ir.MAX_VALUE,c=-1;this.bSymbolTableReady||sr.initialize();for(let f=0;f<sr.RATIOS_TABLE.length;f++){let i=0,o=sr.RATIOS_TABLE[f];for(let d=0;d<ut.BARS_IN_MODULE;d++){let x=Math.fround(o[d]-a[d]);if(i+=Math.fround(x*x),i>=s)break}i<s&&(s=i,c=ut.SYMBOL_TABLE[f])}return c}}sr.bSymbolTableReady=!1,sr.RATIOS_TABLE=new Array(ut.SYMBOL_TABLE.length).map(D=>new Array(ut.BARS_IN_MODULE));class vi{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class pa{static parseLong(t,r=void 0){return parseInt(t,r)}}class aa extends S{}aa.kind="NullPointerException";class Ol{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,a){if(t==null)throw new aa;if(r<0||r>t.length||a<0||r+a>t.length||r+a<0)throw new Se;if(a===0)return;for(let s=0;s<a;s++)this.write(t[r+s])}flush(){}close(){}}class ya extends S{}class Va extends Ol{constructor(t=32){if(super(),this.count=0,t<0)throw new L("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let a=this.buf.length<<1;if(a-t<0&&(a=t),a<0){if(t<0)throw new ya;a=se.MAX_VALUE}this.buf=Ce.copyOfUint8Array(this.buf,a)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,a){if(r<0||r>t.length||a<0||r+a-t.length>0)throw new Se;this.ensureCapacity(this.count+a),le.arraycopy(t,r,this.buf,this.count,a),this.count+=a}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Ce.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Yt;(function(D){D[D.ALPHA=0]="ALPHA",D[D.LOWER=1]="LOWER",D[D.MIXED=2]="MIXED",D[D.PUNCT=3]="PUNCT",D[D.ALPHA_SHIFT=4]="ALPHA_SHIFT",D[D.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Yt||(Yt={}));function Ga(){if(typeof window<"u")return window.BigInt||null;if(typeof wo<"u")return wo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ba;function $r(D){if(typeof ba>"u"&&(ba=Ga()),ba===null)throw new Error("BigInt is not supported!");return ba(D)}function la(){let D=[];D[0]=$r(1);let t=$r(900);D[1]=t;for(let r=2;r<16;r++)D[r]=D[r-1]*t;return D}class ye{static decode(t,r){let a=new ae(""),s=Q.ISO8859_1;a.enableDecoding(s);let c=1,f=t[c++],i=new vi;for(;c<t[0];){switch(f){case ye.TEXT_COMPACTION_MODE_LATCH:c=ye.textCompaction(t,c,a);break;case ye.BYTE_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH_6:c=ye.byteCompaction(f,t,s,c,a);break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[c++]);break;case ye.NUMERIC_COMPACTION_MODE_LATCH:c=ye.numericCompaction(t,c,a);break;case ye.ECI_CHARSET:Q.getCharacterSetECIByValue(t[c++]);break;case ye.ECI_GENERAL_PURPOSE:c+=2;break;case ye.ECI_USER_DEFINED:c++;break;case ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=ye.decodeMacroBlock(t,c,i);break;case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ye.MACRO_PDF417_TERMINATOR:throw new X;default:c--,c=ye.textCompaction(t,c,a);break}if(c<t.length)f=t[c++];else throw X.getFormatInstance()}if(a.length()===0)throw X.getFormatInstance();let o=new it(null,a.toString(),null,r);return o.setOther(i),o}static decodeMacroBlock(t,r,a){if(r+ye.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw X.getFormatInstance();let s=new Int32Array(ye.NUMBER_OF_SEQUENCE_CODEWORDS);for(let i=0;i<ye.NUMBER_OF_SEQUENCE_CODEWORDS;i++,r++)s[i]=t[r];a.setSegmentIndex(se.parseInt(ye.decodeBase900toBase10(s,ye.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new ae;r=ye.textCompaction(t,r,c),a.setFileId(c.toString());let f=-1;for(t[r]===ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=r+1);r<t[0];)switch(t[r]){case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let i=new ae;r=ye.textCompaction(t,r+1,i),a.setFileName(i.toString());break;case ye.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let o=new ae;r=ye.textCompaction(t,r+1,o),a.setSender(o.toString());break;case ye.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let d=new ae;r=ye.textCompaction(t,r+1,d),a.setAddressee(d.toString());break;case ye.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let x=new ae;r=ye.numericCompaction(t,r+1,x),a.setSegmentCount(se.parseInt(x.toString()));break;case ye.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let b=new ae;r=ye.numericCompaction(t,r+1,b),a.setTimestamp(pa.parseLong(b.toString()));break;case ye.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new ae;r=ye.numericCompaction(t,r+1,A),a.setChecksum(se.parseInt(A.toString()));break;case ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let C=new ae;r=ye.numericCompaction(t,r+1,C),a.setFileSize(pa.parseLong(C.toString()));break;default:throw X.getFormatInstance()}break;case ye.MACRO_PDF417_TERMINATOR:r++,a.setLastSegment(!0);break;default:throw X.getFormatInstance()}if(f!==-1){let i=r-f;a.isLastSegment()&&i--,a.setOptionalData(Ce.copyOfRange(t,f,f+i))}return r}static textCompaction(t,r,a){let s=new Int32Array((t[0]-r)*2),c=new Int32Array((t[0]-r)*2),f=0,i=!1;for(;r<t[0]&&!i;){let o=t[r++];if(o<ye.TEXT_COMPACTION_MODE_LATCH)s[f]=o/30,s[f+1]=o%30,f+=2;else switch(o){case ye.TEXT_COMPACTION_MODE_LATCH:s[f++]=ye.TEXT_COMPACTION_MODE_LATCH;break;case ye.BYTE_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH_6:case ye.NUMERIC_COMPACTION_MODE_LATCH:case ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ye.MACRO_PDF417_TERMINATOR:r--,i=!0;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[f]=ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,o=t[r++],c[f]=o,f++;break}}return ye.decodeTextCompaction(s,c,f,a),r}static decodeTextCompaction(t,r,a,s){let c=Yt.ALPHA,f=Yt.ALPHA,i=0;for(;i<a;){let o=t[i],d="";switch(c){case Yt.ALPHA:if(o<26)d=String.fromCharCode(65+o);else switch(o){case 26:d=" ";break;case ye.LL:c=Yt.LOWER;break;case ye.ML:c=Yt.MIXED;break;case ye.PS:f=c,c=Yt.PUNCT_SHIFT;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[i]);break;case ye.TEXT_COMPACTION_MODE_LATCH:c=Yt.ALPHA;break}break;case Yt.LOWER:if(o<26)d=String.fromCharCode(97+o);else switch(o){case 26:d=" ";break;case ye.AS:f=c,c=Yt.ALPHA_SHIFT;break;case ye.ML:c=Yt.MIXED;break;case ye.PS:f=c,c=Yt.PUNCT_SHIFT;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[i]);break;case ye.TEXT_COMPACTION_MODE_LATCH:c=Yt.ALPHA;break}break;case Yt.MIXED:if(o<ye.PL)d=ye.MIXED_CHARS[o];else switch(o){case ye.PL:c=Yt.PUNCT;break;case 26:d=" ";break;case ye.LL:c=Yt.LOWER;break;case ye.AL:c=Yt.ALPHA;break;case ye.PS:f=c,c=Yt.PUNCT_SHIFT;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[i]);break;case ye.TEXT_COMPACTION_MODE_LATCH:c=Yt.ALPHA;break}break;case Yt.PUNCT:if(o<ye.PAL)d=ye.PUNCT_CHARS[o];else switch(o){case ye.PAL:c=Yt.ALPHA;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[i]);break;case ye.TEXT_COMPACTION_MODE_LATCH:c=Yt.ALPHA;break}break;case Yt.ALPHA_SHIFT:if(c=f,o<26)d=String.fromCharCode(65+o);else switch(o){case 26:d=" ";break;case ye.TEXT_COMPACTION_MODE_LATCH:c=Yt.ALPHA;break}break;case Yt.PUNCT_SHIFT:if(c=f,o<ye.PAL)d=ye.PUNCT_CHARS[o];else switch(o){case ye.PAL:c=Yt.ALPHA;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[i]);break;case ye.TEXT_COMPACTION_MODE_LATCH:c=Yt.ALPHA;break}break}d!==""&&s.append(d),i++}}static byteCompaction(t,r,a,s,c){let f=new Va,i=0,o=0,d=!1;switch(t){case ye.BYTE_COMPACTION_MODE_LATCH:let x=new Int32Array(6),b=r[s++];for(;s<r[0]&&!d;)switch(x[i++]=b,o=900*o+b,b=r[s++],b){case ye.TEXT_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH:case ye.NUMERIC_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH_6:case ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ye.MACRO_PDF417_TERMINATOR:s--,d=!0;break;default:if(i%5===0&&i>0){for(let A=0;A<6;++A)f.write(Number($r(o)>>$r(8*(5-A))));o=0,i=0}break}s===r[0]&&b<ye.TEXT_COMPACTION_MODE_LATCH&&(x[i++]=b);for(let A=0;A<i;A++)f.write(x[A]);break;case ye.BYTE_COMPACTION_MODE_LATCH_6:for(;s<r[0]&&!d;){let A=r[s++];if(A<ye.TEXT_COMPACTION_MODE_LATCH)i++,o=900*o+A;else switch(A){case ye.TEXT_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH:case ye.NUMERIC_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH_6:case ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ye.MACRO_PDF417_TERMINATOR:s--,d=!0;break}if(i%5===0&&i>0){for(let C=0;C<6;++C)f.write(Number($r(o)>>$r(8*(5-C))));o=0,i=0}}break}return c.append(Me.decode(f.toByteArray(),a)),s}static numericCompaction(t,r,a){let s=0,c=!1,f=new Int32Array(ye.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!c;){let i=t[r++];if(r===t[0]&&(c=!0),i<ye.TEXT_COMPACTION_MODE_LATCH)f[s]=i,s++;else switch(i){case ye.TEXT_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH_6:case ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ye.MACRO_PDF417_TERMINATOR:r--,c=!0;break}(s%ye.MAX_NUMERIC_CODEWORDS===0||i===ye.NUMERIC_COMPACTION_MODE_LATCH||c)&&s>0&&(a.append(ye.decodeBase900toBase10(f,s)),s=0)}return r}static decodeBase900toBase10(t,r){let a=$r(0);for(let c=0;c<r;c++)a+=ye.EXP900[r-c-1]*$r(t[c]);let s=a.toString();if(s.charAt(0)!=="1")throw new X;return s.substring(1)}}ye.TEXT_COMPACTION_MODE_LATCH=900,ye.BYTE_COMPACTION_MODE_LATCH=901,ye.NUMERIC_COMPACTION_MODE_LATCH=902,ye.BYTE_COMPACTION_MODE_LATCH_6=924,ye.ECI_USER_DEFINED=925,ye.ECI_GENERAL_PURPOSE=926,ye.ECI_CHARSET=927,ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ye.MACRO_PDF417_TERMINATOR=922,ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ye.MAX_NUMERIC_CODEWORDS=15,ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ye.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ye.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ye.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ye.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ye.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ye.PL=25,ye.LL=27,ye.AS=27,ye.ML=28,ye.AL=28,ye.PS=29,ye.PAL=29,ye.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ye.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ye.EXP900=Ga()?la():[],ye.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ct{constructor(){}static decode(t,r,a,s,c,f,i){let o=new ai(t,r,a,s,c),d=null,x=null,b;for(let N=!0;;N=!1){if(r!=null&&(d=Ct.getRowIndicatorColumn(t,o,r,!0,f,i)),s!=null&&(x=Ct.getRowIndicatorColumn(t,o,s,!1,f,i)),b=Ct.merge(d,x),b==null)throw $.getNotFoundInstance();let I=b.getBoundingBox();if(N&&I!=null&&(I.getMinY()<o.getMinY()||I.getMaxY()>o.getMaxY()))o=I;else break}b.setBoundingBox(o);let A=b.getBarcodeColumnCount()+1;b.setDetectionResultColumn(0,d),b.setDetectionResultColumn(A,x);let C=d!=null;for(let N=1;N<=A;N++){let I=C?N:A-N;if(b.getDetectionResultColumn(I)!==void 0)continue;let k;I===0||I===A?k=new Rl(o,I===0):k=new si(o),b.setDetectionResultColumn(I,k);let B=-1,z=B;for(let P=o.getMinY();P<=o.getMaxY();P++){if(B=Ct.getStartColumn(b,I,P,C),B<0||B>o.getMaxX()){if(z===-1)continue;B=z}let U=Ct.detectCodeword(t,o.getMinX(),o.getMaxX(),C,B,P,f,i);U!=null&&(k.setCodeword(P,U),z=B,f=Math.min(f,U.getWidth()),i=Math.max(i,U.getWidth()))}}return Ct.createDecoderResult(b)}static merge(t,r){if(t==null&&r==null)return null;let a=Ct.getBarcodeMetadata(t,r);if(a==null)return null;let s=ai.merge(Ct.adjustBoundingBox(t),Ct.adjustBoundingBox(r));return new Fn(a,s)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let a=Ct.getMax(r),s=0;for(let i of r)if(s+=a-i,i>0)break;let c=t.getCodewords();for(let i=0;s>0&&c[i]==null;i++)s--;let f=0;for(let i=r.length-1;i>=0&&(f+=a-r[i],!(r[i]>0));i--);for(let i=c.length-1;f>0&&c[i]==null;i--)f--;return t.getBoundingBox().addMissingRows(s,f,t.isLeft())}static getMax(t){let r=-1;for(let a of t)r=Math.max(r,a);return r}static getBarcodeMetadata(t,r){let a;if(t==null||(a=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let s;return r==null||(s=r.getBarcodeMetadata())==null?a:a.getColumnCount()!==s.getColumnCount()&&a.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&a.getRowCount()!==s.getRowCount()?null:a}static getRowIndicatorColumn(t,r,a,s,c,f){let i=new Rl(r,s);for(let o=0;o<2;o++){let d=o===0?1:-1,x=Math.trunc(Math.trunc(a.getX()));for(let b=Math.trunc(Math.trunc(a.getY()));b<=r.getMaxY()&&b>=r.getMinY();b+=d){let A=Ct.detectCodeword(t,0,t.getWidth(),s,x,b,c,f);A!=null&&(i.setCodeword(b,A),s?x=A.getStartX():x=A.getEndX())}}return i}static adjustCodewordCount(t,r){let a=r[0][1],s=a.getValue(),c=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Ct.getNumberOfECCodeWords(t.getBarcodeECLevel());if(s.length===0){if(c<1||c>ut.MAX_CODEWORDS_IN_BARCODE)throw $.getNotFoundInstance();a.setValue(c)}else s[0]!==c&&a.setValue(c)}static createDecoderResult(t){let r=Ct.createBarcodeMatrix(t);Ct.adjustCodewordCount(t,r);let a=new Array,s=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),c=[],f=new Array;for(let o=0;o<t.getBarcodeRowCount();o++)for(let d=0;d<t.getBarcodeColumnCount();d++){let x=r[o][d+1].getValue(),b=o*t.getBarcodeColumnCount()+d;x.length===0?a.push(b):x.length===1?s[b]=x[0]:(f.push(b),c.push(x))}let i=new Array(c.length);for(let o=0;o<i.length;o++)i[o]=c[o];return Ct.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),s,ut.toIntArray(a),ut.toIntArray(f),i)}static createDecoderResultFromAmbiguousValues(t,r,a,s,c){let f=new Int32Array(s.length),i=100;for(;i-- >0;){for(let o=0;o<f.length;o++)r[s[o]]=c[o][f[o]];try{return Ct.decodeCodewords(r,t,a)}catch(o){if(!(o instanceof K))throw o}if(f.length===0)throw K.getChecksumInstance();for(let o=0;o<f.length;o++)if(f[o]<c[o].length-1){f[o]++;break}else if(f[o]=0,o===f.length-1)throw K.getChecksumInstance()}throw K.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let s=0;s<r.length;s++)for(let c=0;c<r[s].length;c++)r[s][c]=new wi;let a=0;for(let s of t.getDetectionResultColumns()){if(s!=null){for(let c of s.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=0){if(f>=r.length)continue;r[f][a].setValue(c.getValue())}}}a++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,a,s){let c=s?1:-1,f=null;if(Ct.isValidBarcodeColumn(t,r-c)&&(f=t.getDetectionResultColumn(r-c).getCodeword(a)),f!=null)return s?f.getEndX():f.getStartX();if(f=t.getDetectionResultColumn(r).getCodewordNearby(a),f!=null)return s?f.getStartX():f.getEndX();if(Ct.isValidBarcodeColumn(t,r-c)&&(f=t.getDetectionResultColumn(r-c).getCodewordNearby(a)),f!=null)return s?f.getEndX():f.getStartX();let i=0;for(;Ct.isValidBarcodeColumn(t,r-c);){r-=c;for(let o of t.getDetectionResultColumn(r).getCodewords())if(o!=null)return(s?o.getEndX():o.getStartX())+c*i*(o.getEndX()-o.getStartX());i++}return s?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,a,s,c,f,i,o){c=Ct.adjustCodewordStartColumn(t,r,a,s,c,f);let d=Ct.getModuleBitCount(t,r,a,s,c,f);if(d==null)return null;let x,b=_t.sum(d);if(s)x=c+b;else{for(let N=0;N<d.length/2;N++){let I=d[N];d[N]=d[d.length-1-N],d[d.length-1-N]=I}x=c,c=x-b}if(!Ct.checkCodewordSkew(b,i,o))return null;let A=sr.getDecodedValue(d),C=ut.getCodeword(A);return C===-1?null:new Jr(c,x,Ct.getCodewordBucketNumber(A),C)}static getModuleBitCount(t,r,a,s,c,f){let i=c,o=new Int32Array(8),d=0,x=s?1:-1,b=s;for(;(s?i<a:i>=r)&&d<o.length;)t.get(i,f)===b?(o[d]++,i+=x):(d++,b=!b);return d===o.length||i===(s?a:r)&&d===o.length-1?o:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,a,s,c,f){let i=c,o=s?-1:1;for(let d=0;d<2;d++){for(;(s?i>=r:i<a)&&s===t.get(i,f);){if(Math.abs(c-i)>Ct.CODEWORD_SKEW_SIZE)return c;i+=o}o=-o,s=!s}return i}static checkCodewordSkew(t,r,a){return r-Ct.CODEWORD_SKEW_SIZE<=t&&t<=a+Ct.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,a){if(t.length===0)throw X.getFormatInstance();let s=1<<r+1,c=Ct.correctErrors(t,a,s);Ct.verifyCodewordCount(t,s);let f=ye.decode(t,""+r);return f.setErrorsCorrected(c),f.setErasures(a.length),f}static correctErrors(t,r,a){if(r!=null&&r.length>a/2+Ct.MAX_ERRORS||a<0||a>Ct.MAX_EC_CODEWORDS)throw K.getChecksumInstance();return Ct.errorCorrection.decode(t,a,r)}static verifyCodewordCount(t,r){if(t.length<4)throw X.getFormatInstance();let a=t[0];if(a>t.length)throw X.getFormatInstance();if(a===0)if(r<t.length)t[0]=t.length-r;else throw X.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),a=0,s=r.length-1;for(;!((t&1)!==a&&(a=t&1,s--,s<0));)r[s]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Ct.getCodewordBucketNumber(Ct.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new li;for(let a=0;a<t.length;a++){r.format("Row %2d: ",a);for(let s=0;s<t[a].length;s++){let c=t[a][s];c.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}r.format("%n")}return r.toString()}}Ct.CODEWORD_SKEW_SIZE=2,Ct.MAX_ERRORS=3,Ct.MAX_EC_CODEWORDS=512,Ct.errorCorrection=new Wr;class or{decode(t,r=null){let a=or.decode(t,r,!1);if(a==null||a.length===0||a[0]==null)throw $.getNotFoundInstance();return a[0]}decodeMultiple(t,r=null){try{return or.decode(t,r,!0)}catch(a){throw a instanceof X||a instanceof K?$.getNotFoundInstance():a}}static decode(t,r,a){const s=new Array,c=yt.detectMultiple(t,r,a);for(const f of c.getPoints()){const i=Ct.decode(c.getBits(),f[4],f[5],f[6],f[7],or.getMinCodewordWidth(f),or.getMaxCodewordWidth(f)),o=new _e(i.getText(),i.getRawBytes(),void 0,f,Ae.PDF_417);o.putMetadata(We.ERROR_CORRECTION_LEVEL,i.getECLevel());const d=i.getOther();d!=null&&o.putMetadata(We.PDF417_EXTRA_METADATA,d),s.push(o)}return s.map(f=>f)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?se.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(or.getMaxWidth(t[0],t[4]),or.getMaxWidth(t[6],t[2])*ut.MODULES_IN_CODEWORD/ut.MODULES_IN_STOP_PATTERN),Math.max(or.getMaxWidth(t[1],t[5]),or.getMaxWidth(t[7],t[3])*ut.MODULES_IN_CODEWORD/ut.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(or.getMinWidth(t[0],t[4]),or.getMinWidth(t[6],t[2])*ut.MODULES_IN_CODEWORD/ut.MODULES_IN_STOP_PATTERN),Math.min(or.getMinWidth(t[1],t[5]),or.getMinWidth(t[7],t[3])*ut.MODULES_IN_CODEWORD/ut.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ai extends S{}Ai.kind="ReaderException";class Xa{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!y(t)&&t.get(he.TRY_HARDER)===!0,a=y(t)?null:t.get(he.POSSIBLE_FORMATS),s=new Array;if(!y(a)){const c=a.some(f=>f===Ae.UPC_A||f===Ae.UPC_E||f===Ae.EAN_13||f===Ae.EAN_8||f===Ae.CODABAR||f===Ae.CODE_39||f===Ae.CODE_93||f===Ae.CODE_128||f===Ae.ITF||f===Ae.RSS_14||f===Ae.RSS_EXPANDED);c&&!r&&s.push(new Br(t,this.verbose)),a.includes(Ae.QR_CODE)&&s.push(new $n),a.includes(Ae.DATA_MATRIX)&&s.push(new ri),a.includes(Ae.AZTEC)&&s.push(new hr),a.includes(Ae.PDF_417)&&s.push(new or),c&&r&&s.push(new Br(t,this.verbose))}s.length===0&&(r||s.push(new Br(t,this.verbose)),s.push(new $n),s.push(new ri),s.push(new hr),s.push(new or),r&&s.push(new Br(t,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new Ai("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(a){if(a instanceof Ai)continue}throw new $("No MultiFormat Readers were able to detect the code.")}}class qa extends ze{constructor(t=null,r=500){const a=new Xa;a.setHints(t),super(a,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Dl extends ze{constructor(t=500){super(new or,t)}}class Il extends ze{constructor(t=500){super(new $n,t)}}var er;(function(D){D[D.ERROR_CORRECTION=0]="ERROR_CORRECTION",D[D.CHARACTER_SET=1]="CHARACTER_SET",D[D.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",D[D.MIN_SIZE=3]="MIN_SIZE",D[D.MAX_SIZE=4]="MAX_SIZE",D[D.MARGIN=5]="MARGIN",D[D.PDF417_COMPACT=6]="PDF417_COMPACT",D[D.PDF417_COMPACTION=7]="PDF417_COMPACTION",D[D.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",D[D.AZTEC_LAYERS=9]="AZTEC_LAYERS",D[D.QR_VERSION=10]="QR_VERSION"})(er||(er={}));var Bn=er;class Ei{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new en(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let a=r[r.length-1];const s=this.field;for(let c=r.length;c<=t;c++){const f=a.multiply(new en(s,Int32Array.from([1,s.exp(c-1+s.getGeneratorBase())])));r.push(f),a=f}}return r[t]}encode(t,r){if(r===0)throw new L("No error correction bytes");const a=t.length-r;if(a<=0)throw new L("No data bytes provided");const s=this.buildGenerator(r),c=new Int32Array(a);le.arraycopy(t,0,c,0,a);let f=new en(this.field,c);f=f.multiplyByMonomial(r,1);const o=f.divide(s)[1].getCoefficients(),d=r-o.length;for(let x=0;x<d;x++)t[a+x]=0;le.arraycopy(o,0,t,a+d,o.length)}}class kn{constructor(){}static applyMaskPenaltyRule1(t){return kn.applyMaskPenaltyRule1Internal(t,!0)+kn.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const a=t.getArray(),s=t.getWidth(),c=t.getHeight();for(let f=0;f<c-1;f++){const i=a[f];for(let o=0;o<s-1;o++){const d=i[o];d===i[o+1]&&d===a[f+1][o]&&d===a[f+1][o+1]&&r++}}return kn.N2*r}static applyMaskPenaltyRule3(t){let r=0;const a=t.getArray(),s=t.getWidth(),c=t.getHeight();for(let f=0;f<c;f++)for(let i=0;i<s;i++){const o=a[f];i+6<s&&o[i]===1&&o[i+1]===0&&o[i+2]===1&&o[i+3]===1&&o[i+4]===1&&o[i+5]===0&&o[i+6]===1&&(kn.isWhiteHorizontal(o,i-4,i)||kn.isWhiteHorizontal(o,i+7,i+11))&&r++,f+6<c&&a[f][i]===1&&a[f+1][i]===0&&a[f+2][i]===1&&a[f+3][i]===1&&a[f+4][i]===1&&a[f+5][i]===0&&a[f+6][i]===1&&(kn.isWhiteVertical(a,i,f-4,f)||kn.isWhiteVertical(a,i,f+7,f+11))&&r++}return r*kn.N3}static isWhiteHorizontal(t,r,a){r=Math.max(r,0),a=Math.min(a,t.length);for(let s=r;s<a;s++)if(t[s]===1)return!1;return!0}static isWhiteVertical(t,r,a,s){a=Math.max(a,0),s=Math.min(s,t.length);for(let c=a;c<s;c++)if(t[c][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const a=t.getArray(),s=t.getWidth(),c=t.getHeight();for(let o=0;o<c;o++){const d=a[o];for(let x=0;x<s;x++)d[x]===1&&r++}const f=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-f)*10/f)*kn.N4}static getDataMaskBit(t,r,a){let s,c;switch(t){case 0:s=a+r&1;break;case 1:s=a&1;break;case 2:s=r%3;break;case 3:s=(a+r)%3;break;case 4:s=Math.floor(a/2)+Math.floor(r/3)&1;break;case 5:c=a*r,s=(c&1)+c%3;break;case 6:c=a*r,s=(c&1)+c%3&1;break;case 7:c=a*r,s=c%3+(a+r&1)&1;break;default:throw new L("Invalid mask pattern: "+t)}return s===0}static applyMaskPenaltyRule1Internal(t,r){let a=0;const s=r?t.getHeight():t.getWidth(),c=r?t.getWidth():t.getHeight(),f=t.getArray();for(let i=0;i<s;i++){let o=0,d=-1;for(let x=0;x<c;x++){const b=r?f[i][x]:f[x][i];b===d?o++:(o>=5&&(a+=kn.N1+(o-5)),o=1,d=b)}o>=5&&(a+=kn.N1+(o-5))}return a}}kn.N1=3,kn.N2=3,kn.N3=40,kn.N4=10;class Qi{constructor(t,r){this.width=t,this.height=r;const a=new Array(r);for(let s=0;s!==r;s++)a[s]=new Uint8Array(t);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,a){this.bytes[r][t]=a}setBoolean(t,r,a){this.bytes[r][t]=a?1:0}clear(t){for(const r of this.bytes)Ce.fill(r,t)}equals(t){if(!(t instanceof Qi))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let a=0,s=this.height;a<s;++a){const c=this.bytes[a],f=r.bytes[a];for(let i=0,o=this.width;i<o;++i)if(c[i]!==f[i])return!1}return!0}toString(){const t=new ae;for(let r=0,a=this.height;r<a;++r){const s=this.bytes[r];for(let c=0,f=this.width;c<f;++c)switch(s[c]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class zi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new ae;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<zi.NUM_MASK_PATTERNS}}zi.NUM_MASK_PATTERNS=8;class rn extends S{}rn.kind="WriterException";class ft{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,a,s,c){ft.clearMatrix(c),ft.embedBasicPatterns(a,c),ft.embedTypeInfo(r,s,c),ft.maybeEmbedVersionInfo(a,c),ft.embedDataBits(t,s,c)}static embedBasicPatterns(t,r){ft.embedPositionDetectionPatternsAndSeparators(r),ft.embedDarkDotAtLeftBottomCorner(r),ft.maybeEmbedPositionAdjustmentPatterns(t,r),ft.embedTimingPatterns(r)}static embedTypeInfo(t,r,a){const s=new me;ft.makeTypeInfoBits(t,r,s);for(let c=0,f=s.getSize();c<f;++c){const i=s.get(s.getSize()-1-c),o=ft.TYPE_INFO_COORDINATES[c],d=o[0],x=o[1];if(a.setBoolean(d,x,i),c<8){const b=a.getWidth()-c-1;a.setBoolean(b,8,i)}else{const A=a.getHeight()-7+(c-8);a.setBoolean(8,A,i)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const a=new me;ft.makeVersionInfoBits(t,a);let s=17;for(let c=0;c<6;++c)for(let f=0;f<3;++f){const i=a.get(s);s--,r.setBoolean(c,r.getHeight()-11+f,i),r.setBoolean(r.getHeight()-11+f,c,i)}}static embedDataBits(t,r,a){let s=0,c=-1,f=a.getWidth()-1,i=a.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);i>=0&&i<a.getHeight();){for(let o=0;o<2;++o){const d=f-o;if(!ft.isEmpty(a.get(d,i)))continue;let x;s<t.getSize()?(x=t.get(s),++s):x=!1,r!==255&&kn.getDataMaskBit(r,d,i)&&(x=!x),a.setBoolean(d,i,x)}i+=c}c=-c,i+=c,f-=2}if(s!==t.getSize())throw new rn("Not all bits consumed: "+s+"/"+t.getSize())}static findMSBSet(t){return 32-se.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new L("0 polynomial");const a=ft.findMSBSet(r);for(t<<=a-1;ft.findMSBSet(t)>=a;)t^=r<<ft.findMSBSet(t)-a;return t}static makeTypeInfoBits(t,r,a){if(!zi.isValidMaskPattern(r))throw new rn("Invalid mask pattern");const s=t.getBits()<<3|r;a.appendBits(s,5);const c=ft.calculateBCHCode(s,ft.TYPE_INFO_POLY);a.appendBits(c,10);const f=new me;if(f.appendBits(ft.TYPE_INFO_MASK_PATTERN,15),a.xor(f),a.getSize()!==15)throw new rn("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const a=ft.calculateBCHCode(t.getVersionNumber(),ft.VERSION_INFO_POLY);if(r.appendBits(a,12),r.getSize()!==18)throw new rn("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const a=(r+1)%2;ft.isEmpty(t.get(r,6))&&t.setNumber(r,6,a),ft.isEmpty(t.get(6,r))&&t.setNumber(6,r,a)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new rn;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,a){for(let s=0;s<8;++s){if(!ft.isEmpty(a.get(t+s,r)))throw new rn;a.setNumber(t+s,r,0)}}static embedVerticalSeparationPattern(t,r,a){for(let s=0;s<7;++s){if(!ft.isEmpty(a.get(t,r+s)))throw new rn;a.setNumber(t,r+s,0)}}static embedPositionAdjustmentPattern(t,r,a){for(let s=0;s<5;++s){const c=ft.POSITION_ADJUSTMENT_PATTERN[s];for(let f=0;f<5;++f)a.setNumber(t+f,r+s,c[f])}}static embedPositionDetectionPattern(t,r,a){for(let s=0;s<7;++s){const c=ft.POSITION_DETECTION_PATTERN[s];for(let f=0;f<7;++f)a.setNumber(t+f,r+s,c[f])}}static embedPositionDetectionPatternsAndSeparators(t){const r=ft.POSITION_DETECTION_PATTERN[0].length;ft.embedPositionDetectionPattern(0,0,t),ft.embedPositionDetectionPattern(t.getWidth()-r,0,t),ft.embedPositionDetectionPattern(0,t.getWidth()-r,t);const a=8;ft.embedHorizontalSeparationPattern(0,a-1,t),ft.embedHorizontalSeparationPattern(t.getWidth()-a,a-1,t),ft.embedHorizontalSeparationPattern(0,t.getWidth()-a,t);const s=7;ft.embedVerticalSeparationPattern(s,0,t),ft.embedVerticalSeparationPattern(t.getHeight()-s-1,0,t),ft.embedVerticalSeparationPattern(s,t.getHeight()-s,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const a=t.getVersionNumber()-1,s=ft.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let c=0,f=s.length;c!==f;c++){const i=s[c];if(i>=0)for(let o=0;o!==f;o++){const d=s[o];d>=0&&ft.isEmpty(r.get(d,i))&&ft.embedPositionAdjustmentPattern(d-2,i-2,r)}}}}ft.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ft.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ft.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ft.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ft.VERSION_INFO_POLY=7973,ft.TYPE_INFO_POLY=1335,ft.TYPE_INFO_MASK_PATTERN=21522;class Ml{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Kt{constructor(){}static calculateMaskPenalty(t){return kn.applyMaskPenaltyRule1(t)+kn.applyMaskPenaltyRule2(t)+kn.applyMaskPenaltyRule3(t)+kn.applyMaskPenaltyRule4(t)}static encode(t,r,a=null){let s=Kt.DEFAULT_BYTE_MODE_ENCODING;const c=a!==null&&a.get(Bn.CHARACTER_SET)!==void 0;c&&(s=a.get(Bn.CHARACTER_SET).toString());const f=this.chooseMode(t,s),i=new me;if(f===ct.BYTE&&(c||Kt.DEFAULT_BYTE_MODE_ENCODING!==s)){const P=Q.getCharacterSetECIByName(s);P!==void 0&&this.appendECI(P,i)}this.appendModeInfo(f,i);const o=new me;this.appendBytes(t,f,o,s);let d;if(a!==null&&a.get(Bn.QR_VERSION)!==void 0){const P=Number.parseInt(a.get(Bn.QR_VERSION).toString(),10);d=nt.getVersionForNumber(P);const U=this.calculateBitsNeeded(f,i,o,d);if(!this.willFit(U,d,r))throw new rn("Data too big for requested version")}else d=this.recommendVersion(r,f,i,o);const x=new me;x.appendBitArray(i);const b=f===ct.BYTE?o.getSizeInBytes():t.length;this.appendLengthInfo(b,d,f,x),x.appendBitArray(o);const A=d.getECBlocksForLevel(r),C=d.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(C,x);const N=this.interleaveWithECBytes(x,d.getTotalCodewords(),C,A.getNumBlocks()),I=new zi;I.setECLevel(r),I.setMode(f),I.setVersion(d);const k=d.getDimensionForVersion(),B=new Qi(k,k),z=this.chooseMaskPattern(N,r,d,B);return I.setMaskPattern(z),ft.buildMatrix(N,r,d,z,B),I.setMatrix(B),I}static recommendVersion(t,r,a,s){const c=this.calculateBitsNeeded(r,a,s,nt.getVersionForNumber(1)),f=this.chooseVersion(c,t),i=this.calculateBitsNeeded(r,a,s,f);return this.chooseVersion(i,t)}static calculateBitsNeeded(t,r,a,s){return r.getSize()+t.getCharacterCountBits(s)+a.getSize()}static getAlphanumericCode(t){return t<Kt.ALPHANUMERIC_TABLE.length?Kt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(Q.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return ct.KANJI;let a=!1,s=!1;for(let c=0,f=t.length;c<f;++c){const i=t.charAt(c);if(Kt.isDigit(i))a=!0;else if(this.getAlphanumericCode(i.charCodeAt(0))!==-1)s=!0;else return ct.BYTE}return s?ct.ALPHANUMERIC:a?ct.NUMERIC:ct.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=Me.encode(t,Q.SJIS)}catch{return!1}const a=r.length;if(a%2!==0)return!1;for(let s=0;s<a;s+=2){const c=r[s]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(t,r,a,s){let c=Number.MAX_SAFE_INTEGER,f=-1;for(let i=0;i<zi.NUM_MASK_PATTERNS;i++){ft.buildMatrix(t,r,a,i,s);let o=this.calculateMaskPenalty(s);o<c&&(c=o,f=i)}return f}static chooseVersion(t,r){for(let a=1;a<=40;a++){const s=nt.getVersionForNumber(a);if(Kt.willFit(t,s,r))return s}throw new rn("Data too big")}static willFit(t,r,a){const s=r.getTotalCodewords(),f=r.getECBlocksForLevel(a).getTotalECCodewords(),i=s-f,o=(t+7)/8;return i>=o}static terminateBits(t,r){const a=t*8;if(r.getSize()>a)throw new rn("data bits cannot fit in the QR Code"+r.getSize()+" > "+a);for(let f=0;f<4&&r.getSize()<a;++f)r.appendBit(!1);const s=r.getSize()&7;if(s>0)for(let f=s;f<8;f++)r.appendBit(!1);const c=t-r.getSizeInBytes();for(let f=0;f<c;++f)r.appendBits((f&1)===0?236:17,8);if(r.getSize()!==a)throw new rn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,a,s,c,f){if(s>=a)throw new rn("Block ID too large");const i=t%a,o=a-i,d=Math.floor(t/a),x=d+1,b=Math.floor(r/a),A=b+1,C=d-b,N=x-A;if(C!==N)throw new rn("EC bytes mismatch");if(a!==o+i)throw new rn("RS blocks mismatch");if(t!==(b+C)*o+(A+N)*i)throw new rn("Total bytes mismatch");s<o?(c[0]=b,f[0]=C):(c[0]=A,f[0]=N)}static interleaveWithECBytes(t,r,a,s){if(t.getSizeInBytes()!==a)throw new rn("Number of bits and data bytes does not match");let c=0,f=0,i=0;const o=new Array;for(let x=0;x<s;++x){const b=new Int32Array(1),A=new Int32Array(1);Kt.getNumDataBytesAndNumECBytesForBlockID(r,a,s,x,b,A);const C=b[0],N=new Uint8Array(C);t.toBytes(8*c,N,0,C);const I=Kt.generateECBytes(N,A[0]);o.push(new Ml(N,I)),f=Math.max(f,C),i=Math.max(i,I.length),c+=b[0]}if(a!==c)throw new rn("Data bytes does not match offset");const d=new me;for(let x=0;x<f;++x)for(const b of o){const A=b.getDataBytes();x<A.length&&d.appendBits(A[x],8)}for(let x=0;x<i;++x)for(const b of o){const A=b.getErrorCorrectionBytes();x<A.length&&d.appendBits(A[x],8)}if(r!==d.getSizeInBytes())throw new rn("Interleaving error: "+r+" and "+d.getSizeInBytes()+" differ.");return d}static generateECBytes(t,r){const a=t.length,s=new Int32Array(a+r);for(let f=0;f<a;f++)s[f]=t[f]&255;new Ei(xt.QR_CODE_FIELD_256).encode(s,r);const c=new Uint8Array(r);for(let f=0;f<r;f++)c[f]=s[a+f];return c}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,a,s){const c=a.getCharacterCountBits(r);if(t>=1<<c)throw new rn(t+" is bigger than "+((1<<c)-1));s.appendBits(t,c)}static appendBytes(t,r,a,s){switch(r){case ct.NUMERIC:Kt.appendNumericBytes(t,a);break;case ct.ALPHANUMERIC:Kt.appendAlphanumericBytes(t,a);break;case ct.BYTE:Kt.append8BitBytes(t,a,s);break;case ct.KANJI:Kt.appendKanjiBytes(t,a);break;default:throw new rn("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=Kt.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const a=t.length;let s=0;for(;s<a;){const c=Kt.getDigit(t.charAt(s));if(s+2<a){const f=Kt.getDigit(t.charAt(s+1)),i=Kt.getDigit(t.charAt(s+2));r.appendBits(c*100+f*10+i,10),s+=3}else if(s+1<a){const f=Kt.getDigit(t.charAt(s+1));r.appendBits(c*10+f,7),s+=2}else r.appendBits(c,4),s++}}static appendAlphanumericBytes(t,r){const a=t.length;let s=0;for(;s<a;){const c=Kt.getAlphanumericCode(t.charCodeAt(s));if(c===-1)throw new rn;if(s+1<a){const f=Kt.getAlphanumericCode(t.charCodeAt(s+1));if(f===-1)throw new rn;r.appendBits(c*45+f,11),s+=2}else r.appendBits(c,6),s++}}static append8BitBytes(t,r,a){let s;try{s=Me.encode(t,a)}catch(c){throw new rn(c)}for(let c=0,f=s.length;c!==f;c++){const i=s[c];r.appendBits(i,8)}}static appendKanjiBytes(t,r){let a;try{a=Me.encode(t,Q.SJIS)}catch(c){throw new rn(c)}const s=a.length;for(let c=0;c<s;c+=2){const f=a[c]&255,i=a[c+1]&255,o=f<<8&4294967295|i;let d=-1;if(o>=33088&&o<=40956?d=o-33088:o>=57408&&o<=60351&&(d=o-49472),d===-1)throw new rn("Invalid byte sequence");const x=(d>>8)*192+(d&255);r.appendBits(x,13)}}static appendECI(t,r){r.appendBits(ct.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}Kt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Kt.DEFAULT_BYTE_MODE_ENCODING=Q.UTF8.getName();class Ci{write(t,r,a,s=null){if(t.length===0)throw new L("Found empty contents");if(r<0||a<0)throw new L("Requested dimensions are too small: "+r+"x"+a);let c=At.L,f=Ci.QUIET_ZONE_SIZE;s!==null&&(s.get(Bn.ERROR_CORRECTION)!==void 0&&(c=At.fromString(s.get(Bn.ERROR_CORRECTION).toString())),s.get(Bn.MARGIN)!==void 0&&(f=Number.parseInt(s.get(Bn.MARGIN).toString(),10)));const i=Kt.encode(t,c,s);return this.renderResult(i,r,a,f)}writeToDom(t,r,a,s,c=null){typeof t=="string"&&(t=document.querySelector(t));const f=this.write(r,a,s,c);t&&t.appendChild(f)}renderResult(t,r,a,s){const c=t.getMatrix();if(c===null)throw new pn;const f=c.getWidth(),i=c.getHeight(),o=f+s*2,d=i+s*2,x=Math.max(r,o),b=Math.max(a,d),A=Math.min(Math.floor(x/o),Math.floor(b/d)),C=Math.floor((x-f*A)/2),N=Math.floor((b-i*A)/2),I=this.createSVGElement(x,b);for(let k=0,B=N;k<i;k++,B+=A)for(let z=0,P=C;z<f;z++,P+=A)if(c.get(z,k)===1){const U=this.createSvgRectElement(P,B,A,A);I.appendChild(U)}return I}createSVGElement(t,r){const a=document.createElementNS(Ci.SVG_NS,"svg");return a.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width",r.toString()),a}createSvgRectElement(t,r,a,s){const c=document.createElementNS(Ci.SVG_NS,"rect");return c.setAttributeNS(null,"x",t.toString()),c.setAttributeNS(null,"y",r.toString()),c.setAttributeNS(null,"height",a.toString()),c.setAttributeNS(null,"width",s.toString()),c.setAttributeNS(null,"fill","#000000"),c}}Ci.QUIET_ZONE_SIZE=4,Ci.SVG_NS="http://www.w3.org/2000/svg";class Ui{encode(t,r,a,s,c){if(t.length===0)throw new L("Found empty contents");if(r!==Ae.QR_CODE)throw new L("Can only encode QR_CODE, but got "+r);if(a<0||s<0)throw new L(`Requested dimensions are too small: ${a}x${s}`);let f=At.L,i=Ui.QUIET_ZONE_SIZE;c!==null&&(c.get(Bn.ERROR_CORRECTION)!==void 0&&(f=At.fromString(c.get(Bn.ERROR_CORRECTION).toString())),c.get(Bn.MARGIN)!==void 0&&(i=Number.parseInt(c.get(Bn.MARGIN).toString(),10)));const o=Kt.encode(t,f,c);return Ui.renderResult(o,a,s,i)}static renderResult(t,r,a,s){const c=t.getMatrix();if(c===null)throw new pn;const f=c.getWidth(),i=c.getHeight(),o=f+s*2,d=i+s*2,x=Math.max(r,o),b=Math.max(a,d),A=Math.min(Math.floor(x/o),Math.floor(b/d)),C=Math.floor((x-f*A)/2),N=Math.floor((b-i*A)/2),I=new Re(x,b);for(let k=0,B=N;k<i;k++,B+=A)for(let z=0,P=C;z<f;z++,P+=A)c.get(z,k)===1&&I.setRegion(P,B,A,A);return I}}Ui.QUIET_ZONE_SIZE=4;class Ya{encode(t,r,a,s,c){let f;if(r===Ae.QR_CODE)f=new Ui;else throw new L("No encoder available for format "+r);return f.encode(t,r,a,s,c)}}class Xr extends qe{constructor(t,r,a,s,c,f,i,o){if(super(f,i),this.yuvData=t,this.dataWidth=r,this.dataHeight=a,this.left=s,this.top=c,s+f>r||c+i>a)throw new L("Crop rectangle does not fit within image data.");o&&this.reverseHorizontal(f,i)}getRow(t,r){if(t<0||t>=this.getHeight())throw new L("Requested row is outside the image: "+t);const a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));const s=(t+this.top)*this.dataWidth+this.left;return le.arraycopy(this.yuvData,s,r,0,a),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const a=t*r,s=new Uint8ClampedArray(a);let c=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return le.arraycopy(this.yuvData,c,s,0,a),s;for(let f=0;f<r;f++){const i=f*t;le.arraycopy(this.yuvData,c,s,i,t),c+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,r,a,s){return new Xr(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,a,s,!1)}renderThumbnail(){const t=this.getWidth()/Xr.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Xr.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(t*r),s=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let f=0;f<r;f++){const i=f*t;for(let o=0;o<t;o++){const d=s[c+o*Xr.THUMBNAIL_SCALE_FACTOR]&255;a[i+o]=4278190080|d*65793}c+=this.dataWidth*Xr.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/Xr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Xr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const a=this.yuvData;for(let s=0,c=this.top*this.dataWidth+this.left;s<r;s++,c+=this.dataWidth){const f=c+t/2;for(let i=c,o=c+t-1;i<f;i++,o--){const d=a[i];a[i]=a[o],a[o]=d}}}invert(){return new tt(this)}}Xr.THUMBNAIL_SCALE_FACTOR=2;class Ka extends qe{constructor(t,r,a,s,c,f,i){if(super(r,a),this.dataWidth=s,this.dataHeight=c,this.left=f,this.top=i,t.BYTES_PER_ELEMENT===4){const o=r*a,d=new Uint8ClampedArray(o);for(let x=0;x<o;x++){const b=t[x],A=b>>16&255,C=b>>7&510,N=b&255;d[x]=(A+C+N)/4&255}this.luminances=d}else this.luminances=t;if(s===void 0&&(this.dataWidth=r),c===void 0&&(this.dataHeight=a),f===void 0&&(this.left=0),i===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+a>this.dataHeight)throw new L("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new L("Requested row is outside the image: "+t);const a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));const s=(t+this.top)*this.dataWidth+this.left;return le.arraycopy(this.luminances,s,r,0,a),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const a=t*r,s=new Uint8ClampedArray(a);let c=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return le.arraycopy(this.luminances,c,s,0,a),s;for(let f=0;f<r;f++){const i=f*t;le.arraycopy(this.luminances,c,s,i,t),c+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,r,a,s){return new Ka(this.luminances,a,s,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new tt(this)}}class es extends Q{static forName(t){return this.getCharacterSetECIByName(t)}}class Wi{}Wi.ISO_8859_1=Q.ISO8859_1;class Si{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class ts{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class Za{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Ti extends Za{constructor(t,r,a){super(t),this.value=r,this.bitCount=a}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new Ti(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ti(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+se.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Qa extends Ti{constructor(t,r,a){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=a}appendTo(t,r){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):a===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+a],8)}addBinaryShift(t,r){return new Qa(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Bl(D,t,r){return new Qa(D,t,r)}function sa(D,t,r){return new Ti(D,t,r)}const Ji=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],_i=0,Wa=1,zr=2,wa=3,qr=4,oa=new Ti(null,0,0),$i=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ls(D){for(let t of D)Ce.fill(t,-1);return D[_i][qr]=0,D[Wa][qr]=0,D[Wa][_i]=28,D[wa][qr]=0,D[zr][qr]=0,D[zr][_i]=15,D}const va=Ls(Ce.createInt32Array(6,6));class Rr{constructor(t,r,a,s){this.token=t,this.mode=r,this.binaryShiftByteCount=a,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let a=this.bitCount,s=this.token;if(t!==this.mode){let f=$i[this.mode][t];s=sa(s,f&65535,f>>16),a+=f>>16}let c=t===zr?4:5;return s=sa(s,r,c),new Rr(s,t,0,a+c)}shiftAndAppend(t,r){let a=this.token,s=this.mode===zr?4:5;return a=sa(a,va[this.mode][t],s),a=sa(a,r,5),new Rr(a,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(t){let r=this.token,a=this.mode,s=this.bitCount;if(this.mode===qr||this.mode===zr){let i=$i[a][_i];r=sa(r,i&65535,i>>16),s+=i>>16,a=_i}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new Rr(r,a,this.binaryShiftByteCount+1,s+c);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(t+1)),f}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Bl(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Rr(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+($i[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=Rr.calculateBinaryShiftCost(t)-Rr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let s=this.endBinaryShift(t.length).token;s!==null;s=s.getPrevious())r.unshift(s);let a=new me;for(const s of r)s.appendTo(a,t);return a}toString(){return we.format("%s bits=%d bytes=%d",Ji[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Rr.INITIAL_STATE=new Rr(oa,_i,0,0);function oi(D){const t=we.getCharCode(" "),r=we.getCharCode("."),a=we.getCharCode(",");D[_i][t]=1;const s=we.getCharCode("Z"),c=we.getCharCode("A");for(let A=c;A<=s;A++)D[_i][A]=A-c+2;D[Wa][t]=1;const f=we.getCharCode("z"),i=we.getCharCode("a");for(let A=i;A<=f;A++)D[Wa][A]=A-i+2;D[zr][t]=1;const o=we.getCharCode("9"),d=we.getCharCode("0");for(let A=d;A<=o;A++)D[zr][A]=A-d+2;D[zr][a]=12,D[zr][r]=13;const x=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let A=0;A<x.length;A++)D[wa][we.getCharCode(x[A])]=A;const b=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<b.length;A++)we.getCharCode(b[A])>0&&(D[qr][we.getCharCode(b[A])]=A);return D}const An=oi(Ce.createInt32Array(5,256));class ci{constructor(t){this.text=t}encode(){const t=we.getCharCode(" "),r=we.getCharCode(`
`);let a=ts.singletonList(Rr.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let f,i=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case we.getCharCode("\r"):f=i===r?2:0;break;case we.getCharCode("."):f=i===t?3:0;break;case we.getCharCode(","):f=i===t?4:0;break;case we.getCharCode(":"):f=i===t?5:0;break;default:f=0}f>0?(a=ci.updateStateListForPair(a,c,f),c++):a=this.updateStateListForChar(a,c)}return ts.min(a,(c,f)=>c.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const a=[];for(let s of t)this.updateStateForChar(s,r,a);return ci.simplifyStates(a)}updateStateForChar(t,r,a){let s=this.text[r]&255,c=An[t.getMode()][s]>0,f=null;for(let i=0;i<=qr;i++){let o=An[i][s];if(o>0){if(f==null&&(f=t.endBinaryShift(r)),!c||i===t.getMode()||i===zr){const d=f.latchAndAppend(i,o);a.push(d)}if(!c&&va[t.getMode()][i]>=0){const d=f.shiftAndAppend(i,o);a.push(d)}}}if(t.getBinaryShiftByteCount()>0||An[t.getMode()][s]===0){let i=t.addBinaryShiftChar(r);a.push(i)}}static updateStateListForPair(t,r,a){const s=[];for(let c of t)this.updateStateForPair(c,r,a,s);return this.simplifyStates(s)}static updateStateForPair(t,r,a,s){let c=t.endBinaryShift(r);if(s.push(c.latchAndAppend(qr,a)),t.getMode()!==qr&&s.push(c.shiftAndAppend(qr,a)),a===3||a===4){let f=c.latchAndAppend(zr,16-a).latchAndAppend(zr,1);s.push(f)}if(t.getBinaryShiftByteCount()>0){let f=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);s.push(f)}}static simplifyStates(t){let r=[];for(const a of t){let s=!0;for(const c of r){if(c.isBetterThanOrEqualTo(a)){s=!1;break}a.isBetterThanOrEqualTo(c)&&(r=r.filter(f=>f!==c))}s&&r.push(a)}return r}}class Nt{constructor(){}static encodeBytes(t){return Nt.encode(t,Nt.DEFAULT_EC_PERCENT,Nt.DEFAULT_AZTEC_LAYERS)}static encode(t,r,a){let s=new ci(t).encode(),c=se.truncDivision(s.getSize()*r,100)+11,f=s.getSize()+c,i,o,d,x,b;if(a!==Nt.DEFAULT_AZTEC_LAYERS){if(i=a<0,o=Math.abs(a),o>(i?Nt.MAX_NB_BITS_COMPACT:Nt.MAX_NB_BITS))throw new L(we.format("Illegal value %s for layers",a));d=Nt.totalBitsInLayer(o,i),x=Nt.WORD_SIZE[o];let U=d-d%x;if(b=Nt.stuffBits(s,x),b.getSize()+c>U)throw new L("Data to large for user specified layer");if(i&&b.getSize()>x*64)throw new L("Data to large for user specified layer")}else{x=0,b=null;for(let U=0;;U++){if(U>Nt.MAX_NB_BITS)throw new L("Data too large for an Aztec code");if(i=U<=3,o=i?U+1:U,d=Nt.totalBitsInLayer(o,i),f>d)continue;(b==null||x!==Nt.WORD_SIZE[o])&&(x=Nt.WORD_SIZE[o],b=Nt.stuffBits(s,x));let G=d-d%x;if(!(i&&b.getSize()>x*64)&&b.getSize()+c<=G)break}}let A=Nt.generateCheckWords(b,d,x),C=b.getSize()/x,N=Nt.generateModeMessage(i,o,C),I=(i?11:14)+o*4,k=new Int32Array(I),B;if(i){B=I;for(let U=0;U<k.length;U++)k[U]=U}else{B=I+1+2*se.truncDivision(se.truncDivision(I,2)-1,15);let U=se.truncDivision(I,2),G=se.truncDivision(B,2);for(let V=0;V<U;V++){let ne=V+se.truncDivision(V,15);k[U-V-1]=G-ne-1,k[U+V]=G+ne+1}}let z=new Re(B);for(let U=0,G=0;U<o;U++){let V=(o-U)*4+(i?9:12);for(let ne=0;ne<V;ne++){let ce=ne*2;for(let te=0;te<2;te++)A.get(G+ce+te)&&z.set(k[U*2+te],k[U*2+ne]),A.get(G+V*2+ce+te)&&z.set(k[U*2+ne],k[I-1-U*2-te]),A.get(G+V*4+ce+te)&&z.set(k[I-1-U*2-te],k[I-1-U*2-ne]),A.get(G+V*6+ce+te)&&z.set(k[I-1-U*2-ne],k[U*2+te])}G+=V*8}if(Nt.drawModeMessage(z,i,B,N),i)Nt.drawBullsEye(z,se.truncDivision(B,2),5);else{Nt.drawBullsEye(z,se.truncDivision(B,2),7);for(let U=0,G=0;U<se.truncDivision(I,2)-1;U+=15,G+=16)for(let V=se.truncDivision(B,2)&1;V<B;V+=2)z.set(se.truncDivision(B,2)-G,V),z.set(se.truncDivision(B,2)+G,V),z.set(V,se.truncDivision(B,2)-G),z.set(V,se.truncDivision(B,2)+G)}let P=new Si;return P.setCompact(i),P.setSize(B),P.setLayers(o),P.setCodeWords(C),P.setMatrix(z),P}static drawBullsEye(t,r,a){for(let s=0;s<a;s+=2)for(let c=r-s;c<=r+s;c++)t.set(c,r-s),t.set(c,r+s),t.set(r-s,c),t.set(r+s,c);t.set(r-a,r-a),t.set(r-a+1,r-a),t.set(r-a,r-a+1),t.set(r+a,r-a),t.set(r+a,r-a+1),t.set(r+a,r+a-1)}static generateModeMessage(t,r,a){let s=new me;return t?(s.appendBits(r-1,2),s.appendBits(a-1,6),s=Nt.generateCheckWords(s,28,4)):(s.appendBits(r-1,5),s.appendBits(a-1,11),s=Nt.generateCheckWords(s,40,4)),s}static drawModeMessage(t,r,a,s){let c=se.truncDivision(a,2);if(r)for(let f=0;f<7;f++){let i=c-3+f;s.get(f)&&t.set(i,c-5),s.get(f+7)&&t.set(c+5,i),s.get(20-f)&&t.set(i,c+5),s.get(27-f)&&t.set(c-5,i)}else for(let f=0;f<10;f++){let i=c-5+f+se.truncDivision(f,5);s.get(f)&&t.set(i,c-7),s.get(f+10)&&t.set(c+7,i),s.get(29-f)&&t.set(i,c+7),s.get(39-f)&&t.set(c-7,i)}}static generateCheckWords(t,r,a){let s=t.getSize()/a,c=new Ei(Nt.getGF(a)),f=se.truncDivision(r,a),i=Nt.bitsToWords(t,a,f);c.encode(i,f-s);let o=r%a,d=new me;d.appendBits(0,o);for(const x of Array.from(i))d.appendBits(x,a);return d}static bitsToWords(t,r,a){let s=new Int32Array(a),c,f;for(c=0,f=t.getSize()/r;c<f;c++){let i=0;for(let o=0;o<r;o++)i|=t.get(c*r+o)?1<<r-o-1:0;s[c]=i}return s}static getGF(t){switch(t){case 4:return xt.AZTEC_PARAM;case 6:return xt.AZTEC_DATA_6;case 8:return xt.AZTEC_DATA_8;case 10:return xt.AZTEC_DATA_10;case 12:return xt.AZTEC_DATA_12;default:throw new L("Unsupported word size "+t)}}static stuffBits(t,r){let a=new me,s=t.getSize(),c=(1<<r)-2;for(let f=0;f<s;f+=r){let i=0;for(let o=0;o<r;o++)(f+o>=s||t.get(f+o))&&(i|=1<<r-1-o);(i&c)===c?(a.appendBits(i&c,r),f--):(i&c)===0?(a.appendBits(i|1,r),f--):a.appendBits(i,r)}return a}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Nt.DEFAULT_EC_PERCENT=33,Nt.DEFAULT_AZTEC_LAYERS=0,Nt.MAX_NB_BITS=32,Nt.MAX_NB_BITS_COMPACT=4,Nt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Aa{encode(t,r,a,s){return this.encodeWithHints(t,r,a,s,null)}encodeWithHints(t,r,a,s,c){let f=Wi.ISO_8859_1,i=Nt.DEFAULT_EC_PERCENT,o=Nt.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(Bn.CHARACTER_SET)&&(f=es.forName(c.get(Bn.CHARACTER_SET).toString())),c.has(Bn.ERROR_CORRECTION)&&(i=se.parseInt(c.get(Bn.ERROR_CORRECTION).toString())),c.has(Bn.AZTEC_LAYERS)&&(o=se.parseInt(c.get(Bn.AZTEC_LAYERS).toString()))),Aa.encodeLayers(t,r,a,s,f,i,o)}static encodeLayers(t,r,a,s,c,f,i){if(r!==Ae.AZTEC)throw new L("Can only encode AZTEC, but got "+r);let o=Nt.encode(we.getBytes(t,c),f,i);return Aa.renderResult(o,a,s)}static renderResult(t,r,a){let s=t.getMatrix();if(s==null)throw new pn;let c=s.getWidth(),f=s.getHeight(),i=Math.max(r,c),o=Math.max(a,f),d=Math.min(i/c,o/f),x=(i-c*d)/2,b=(o-f*d)/2,A=new Re(i,o);for(let C=0,N=b;C<f;C++,N+=d)for(let I=0,k=x;I<c;I++,k+=d)s.get(I,C)&&A.setRegion(k,N,d,d);return A}}m.AbstractExpandedDecoder=gn,m.ArgumentException=j,m.ArithmeticException=gt,m.AztecCode=Si,m.AztecCodeReader=hr,m.AztecCodeWriter=Aa,m.AztecDecoder=Wt,m.AztecDetector=ki,m.AztecDetectorResult=pi,m.AztecEncoder=Nt,m.AztecHighLevelEncoder=ci,m.AztecPoint=bn,m.BarcodeFormat=Ae,m.Binarizer=Ee,m.BinaryBitmap=W,m.BitArray=me,m.BitMatrix=Re,m.BitSource=Vr,m.BrowserAztecCodeReader=ni,m.BrowserBarcodeReader=Yi,m.BrowserCodeReader=ze,m.BrowserDatamatrixCodeReader=nn,m.BrowserMultiFormatReader=qa,m.BrowserPDF417Reader=Dl,m.BrowserQRCodeReader=Il,m.BrowserQRCodeSvgWriter=Ci,m.CharacterSetECI=Q,m.ChecksumException=K,m.Code128Reader=Fe,m.Code39Reader=Dt,m.DataMatrixDecodedBitStreamParser=kr,m.DataMatrixReader=ri,m.DecodeHintType=he,m.DecoderResult=it,m.DefaultGridSampler=dr,m.DetectorResult=ti,m.EAN13Reader=ln,m.EncodeHintType=Bn,m.Exception=S,m.FormatException=X,m.GenericGF=xt,m.GenericGFPoly=en,m.GlobalHistogramBinarizer=re,m.GridSampler=yi,m.GridSamplerInstance=Xn,m.HTMLCanvasElementLuminanceSource=be,m.HybridBinarizer=pe,m.ITFReader=Le,m.IllegalArgumentException=L,m.IllegalStateException=pn,m.InvertedLuminanceSource=tt,m.LuminanceSource=qe,m.MathUtils=_t,m.MultiFormatOneDReader=Br,m.MultiFormatReader=Xa,m.MultiFormatWriter=Ya,m.NotFoundException=$,m.OneDReader=tn,m.PDF417DecodedBitStreamParser=ye,m.PDF417DecoderErrorCorrection=Wr,m.PDF417Reader=or,m.PDF417ResultMetadata=vi,m.PerspectiveTransform=dn,m.PlanarYUVLuminanceSource=Xr,m.QRCodeByteMatrix=Qi,m.QRCodeDataMask=mr,m.QRCodeDecodedBitStreamParser=vn,m.QRCodeDecoderErrorCorrectionLevel=At,m.QRCodeDecoderFormatInformation=Mn,m.QRCodeEncoder=Kt,m.QRCodeEncoderQRCode=zi,m.QRCodeMaskUtil=kn,m.QRCodeMatrixUtil=ft,m.QRCodeMode=ct,m.QRCodeReader=$n,m.QRCodeVersion=nt,m.QRCodeWriter=Ui,m.RGBLuminanceSource=Ka,m.RSS14Reader=$t,m.RSSExpandedReader=Ie,m.ReaderException=Ai,m.ReedSolomonDecoder=Tr,m.ReedSolomonEncoder=Ei,m.ReedSolomonException=cn,m.Result=_e,m.ResultMetadataType=We,m.ResultPoint=Ke,m.StringUtils=we,m.UnsupportedOperationException=je,m.VideoInputDevice=Y,m.WhiteRectangleDetector=yn,m.WriterException=rn,m.ZXingArrays=Ce,m.ZXingCharset=es,m.ZXingInteger=se,m.ZXingStandardCharsets=Wi,m.ZXingStringBuilder=ae,m.ZXingStringEncoding=Me,m.ZXingSystem=le,m.createAbstractExpandedDecoder=Hr,Object.defineProperty(m,"__esModule",{value:!0})}))})(vo,vo.exports)),vo.exports}var Qn=o3();const c3=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var g2=(function(){function h(g,m,y){if(this.formatMap=new Map([[rt.QR_CODE,Qn.BarcodeFormat.QR_CODE],[rt.AZTEC,Qn.BarcodeFormat.AZTEC],[rt.CODABAR,Qn.BarcodeFormat.CODABAR],[rt.CODE_39,Qn.BarcodeFormat.CODE_39],[rt.CODE_93,Qn.BarcodeFormat.CODE_93],[rt.CODE_128,Qn.BarcodeFormat.CODE_128],[rt.DATA_MATRIX,Qn.BarcodeFormat.DATA_MATRIX],[rt.MAXICODE,Qn.BarcodeFormat.MAXICODE],[rt.ITF,Qn.BarcodeFormat.ITF],[rt.EAN_13,Qn.BarcodeFormat.EAN_13],[rt.EAN_8,Qn.BarcodeFormat.EAN_8],[rt.PDF_417,Qn.BarcodeFormat.PDF_417],[rt.RSS_14,Qn.BarcodeFormat.RSS_14],[rt.RSS_EXPANDED,Qn.BarcodeFormat.RSS_EXPANDED],[rt.UPC_A,Qn.BarcodeFormat.UPC_A],[rt.UPC_E,Qn.BarcodeFormat.UPC_E],[rt.UPC_EAN_EXTENSION,Qn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!c3)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=m,this.logger=y;var E=this.createZXingFormats(g),v=new Map;v.set(Qn.DecodeHintType.POSSIBLE_FORMATS,E),v.set(Qn.DecodeHintType.TRY_HARDER,!1),this.hints=v}return h.prototype.decodeAsync=function(g){var m=this;return new Promise(function(y,E){try{y(m.decode(g))}catch(v){E(v)}})},h.prototype.decode=function(g){var m=new Qn.MultiFormatReader(this.verbose,this.hints),y=new Qn.HTMLCanvasElementLuminanceSource(g),E=new Qn.BinaryBitmap(new Qn.HybridBinarizer(y)),v=m.decode(E);return{text:v.text,format:bm.create(this.toHtml5QrcodeSupportedFormats(v.format)),debugData:this.createDebugData()}},h.prototype.createReverseFormatMap=function(){var g=new Map;return this.formatMap.forEach(function(m,y,E){g.set(m,y)}),g},h.prototype.toHtml5QrcodeSupportedFormats=function(g){if(!this.reverseFormatMap.has(g))throw"reverseFormatMap doesn't have ".concat(g);return this.reverseFormatMap.get(g)},h.prototype.createZXingFormats=function(g){for(var m=[],y=0,E=g;y<E.length;y++){var v=E[y];this.formatMap.has(v)?m.push(this.formatMap.get(v)):this.logger.logError("".concat(v," is not supported by")+"ZXingHtml5QrcodeShim")}return m},h.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},h})(),u3=function(h,g,m,y){function E(v){return v instanceof m?v:new m(function(T){T(v)})}return new(m||(m=Promise))(function(v,T){function O(j){try{S(y.next(j))}catch(L){T(L)}}function R(j){try{S(y.throw(j))}catch(L){T(L)}}function S(j){j.done?v(j.value):E(j.value).then(O,R)}S((y=y.apply(h,g||[])).next())})},f3=function(h,g){var m={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},y,E,v,T;return T={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function O(S){return function(j){return R([S,j])}}function R(S){if(y)throw new TypeError("Generator is already executing.");for(;T&&(T=0,S[0]&&(m=0)),m;)try{if(y=1,E&&(v=S[0]&2?E.return:S[0]?E.throw||((v=E.return)&&v.call(E),0):E.next)&&!(v=v.call(E,S[1])).done)return v;switch(E=0,v&&(S=[S[0]&2,v.value]),S[0]){case 0:case 1:v=S;break;case 4:return m.label++,{value:S[1],done:!1};case 5:m.label++,E=S[1],S=[0];continue;case 7:S=m.ops.pop(),m.trys.pop();continue;default:if(v=m.trys,!(v=v.length>0&&v[v.length-1])&&(S[0]===6||S[0]===2)){m=0;continue}if(S[0]===3&&(!v||S[1]>v[0]&&S[1]<v[3])){m.label=S[1];break}if(S[0]===6&&m.label<v[1]){m.label=v[1],v=S;break}if(v&&m.label<v[2]){m.label=v[2],m.ops.push(S);break}v[2]&&m.ops.pop(),m.trys.pop();continue}S=g.call(h,m)}catch(j){S=[6,j],E=0}finally{y=v=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},m2=(function(){function h(g,m,y){if(this.formatMap=new Map([[rt.QR_CODE,"qr_code"],[rt.AZTEC,"aztec"],[rt.CODABAR,"codabar"],[rt.CODE_39,"code_39"],[rt.CODE_93,"code_93"],[rt.CODE_128,"code_128"],[rt.DATA_MATRIX,"data_matrix"],[rt.ITF,"itf"],[rt.EAN_13,"ean_13"],[rt.EAN_8,"ean_8"],[rt.PDF_417,"pdf417"],[rt.UPC_A,"upc_a"],[rt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!h.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=m,this.logger=y;var E=this.createBarcodeDetectorFormats(g);if(this.detector=new BarcodeDetector(E),!this.detector)throw"BarcodeDetector detector not supported"}return h.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var g=new BarcodeDetector({formats:["qr_code"]});return typeof g<"u"},h.prototype.decodeAsync=function(g){return u3(this,void 0,void 0,function(){var m,y;return f3(this,function(E){switch(E.label){case 0:return[4,this.detector.detect(g)];case 1:if(m=E.sent(),!m||m.length===0)throw"No barcode or QR code detected.";return y=this.selectLargestBarcode(m),[2,{text:y.rawValue,format:bm.create(this.toHtml5QrcodeSupportedFormats(y.format)),debugData:this.createDebugData()}]}})})},h.prototype.selectLargestBarcode=function(g){for(var m=null,y=0,E=0,v=g;E<v.length;E++){var T=v[E],O=T.boundingBox.width*T.boundingBox.height;O>y&&(y=O,m=T)}if(!m)throw"No largest barcode found";return m},h.prototype.createBarcodeDetectorFormats=function(g){for(var m=[],y=0,E=g;y<E.length;y++){var v=E[y];this.formatMap.has(v)?m.push(this.formatMap.get(v)):this.logger.warn("".concat(v," is not supported by")+"BarcodeDetectorDelegate")}return{formats:m}},h.prototype.toHtml5QrcodeSupportedFormats=function(g){if(!this.reverseFormatMap.has(g))throw"reverseFormatMap doesn't have ".concat(g);return this.reverseFormatMap.get(g)},h.prototype.createReverseFormatMap=function(){var g=new Map;return this.formatMap.forEach(function(m,y,E){g.set(m,y)}),g},h.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},h})(),x2=function(h,g,m,y){function E(v){return v instanceof m?v:new m(function(T){T(v)})}return new(m||(m=Promise))(function(v,T){function O(j){try{S(y.next(j))}catch(L){T(L)}}function R(j){try{S(y.throw(j))}catch(L){T(L)}}function S(j){j.done?v(j.value):E(j.value).then(O,R)}S((y=y.apply(h,g||[])).next())})},p2=function(h,g){var m={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},y,E,v,T;return T={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function O(S){return function(j){return R([S,j])}}function R(S){if(y)throw new TypeError("Generator is already executing.");for(;T&&(T=0,S[0]&&(m=0)),m;)try{if(y=1,E&&(v=S[0]&2?E.return:S[0]?E.throw||((v=E.return)&&v.call(E),0):E.next)&&!(v=v.call(E,S[1])).done)return v;switch(E=0,v&&(S=[S[0]&2,v.value]),S[0]){case 0:case 1:v=S;break;case 4:return m.label++,{value:S[1],done:!1};case 5:m.label++,E=S[1],S=[0];continue;case 7:S=m.ops.pop(),m.trys.pop();continue;default:if(v=m.trys,!(v=v.length>0&&v[v.length-1])&&(S[0]===6||S[0]===2)){m=0;continue}if(S[0]===3&&(!v||S[1]>v[0]&&S[1]<v[3])){m.label=S[1];break}if(S[0]===6&&m.label<v[1]){m.label=v[1],v=S;break}if(v&&m.label<v[2]){m.label=v[2],m.ops.push(S);break}v[2]&&m.ops.pop(),m.trys.pop();continue}S=g.call(h,m)}catch(j){S=[6,j],E=0}finally{y=v=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},d3=(function(){function h(g,m,y,E){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=y,m&&m2.isSupported()?(this.primaryDecoder=new m2(g,y,E),this.secondaryDecoder=new g2(g,y,E)):this.primaryDecoder=new g2(g,y,E)}return h.prototype.decodeAsync=function(g){return x2(this,void 0,void 0,function(){var m;return p2(this,function(y){switch(y.label){case 0:m=performance.now(),y.label=1;case 1:return y.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(g)];case 2:return[2,y.sent()];case 3:return this.possiblyLogPerformance(m),[7];case 4:return[2]}})})},h.prototype.decodeRobustlyAsync=function(g){return x2(this,void 0,void 0,function(){var m,y;return p2(this,function(E){switch(E.label){case 0:m=performance.now(),E.label=1;case 1:return E.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(g)];case 2:return[2,E.sent()];case 3:if(y=E.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(g)];throw y;case 4:return this.possiblyLogPerformance(m),[7];case 5:return[2]}})})},h.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},h.prototype.possiblyLogPerformance=function(g){if(this.verbose){var m=performance.now()-g;this.executionResults.push(m),this.executions++,this.possiblyFlushPerformanceReport()}},h.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var g=0,m=0,y=this.executionResults;m<y.length;m++){var E=y[m];g+=E}var v=g/this.executionResults.length;console.log("".concat(v," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},h})(),K0=(function(){var h=function(g,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,E){y.__proto__=E}||function(y,E){for(var v in E)Object.prototype.hasOwnProperty.call(E,v)&&(y[v]=E[v])},h(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");h(g,m);function y(){this.constructor=g}g.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}})(),Xc=function(h,g,m,y){function E(v){return v instanceof m?v:new m(function(T){T(v)})}return new(m||(m=Promise))(function(v,T){function O(j){try{S(y.next(j))}catch(L){T(L)}}function R(j){try{S(y.throw(j))}catch(L){T(L)}}function S(j){j.done?v(j.value):E(j.value).then(O,R)}S((y=y.apply(h,g||[])).next())})},qc=function(h,g){var m={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},y,E,v,T;return T={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function O(S){return function(j){return R([S,j])}}function R(S){if(y)throw new TypeError("Generator is already executing.");for(;T&&(T=0,S[0]&&(m=0)),m;)try{if(y=1,E&&(v=S[0]&2?E.return:S[0]?E.throw||((v=E.return)&&v.call(E),0):E.next)&&!(v=v.call(E,S[1])).done)return v;switch(E=0,v&&(S=[S[0]&2,v.value]),S[0]){case 0:case 1:v=S;break;case 4:return m.label++,{value:S[1],done:!1};case 5:m.label++,E=S[1],S=[0];continue;case 7:S=m.ops.pop(),m.trys.pop();continue;default:if(v=m.trys,!(v=v.length>0&&v[v.length-1])&&(S[0]===6||S[0]===2)){m=0;continue}if(S[0]===3&&(!v||S[1]>v[0]&&S[1]<v[3])){m.label=S[1];break}if(S[0]===6&&m.label<v[1]){m.label=v[1],v=S;break}if(v&&m.label<v[2]){m.label=v[2],m.ops.push(S);break}v[2]&&m.ops.pop(),m.trys.pop();continue}S=g.call(h,m)}catch(j){S=[6,j],E=0}finally{y=v=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},vm=(function(){function h(g,m){this.name=g,this.track=m}return h.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},h.prototype.apply=function(g){var m={};m[this.name]=g;var y={advanced:[m]};return this.track.applyConstraints(y)},h.prototype.value=function(){var g=this.track.getSettings();if(this.name in g){var m=g[this.name];return m}return null},h})(),h3=(function(h){K0(g,h);function g(m,y){return h.call(this,m,y)||this}return g.prototype.min=function(){return this.getCapabilities().min},g.prototype.max=function(){return this.getCapabilities().max},g.prototype.step=function(){return this.getCapabilities().step},g.prototype.apply=function(m){var y={};y[this.name]=m;var E={advanced:[y]};return this.track.applyConstraints(E)},g.prototype.getCapabilities=function(){this.failIfNotSupported();var m=this.track.getCapabilities(),y=m[this.name];return{min:y.min,max:y.max,step:y.step}},g.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},g})(vm),g3=(function(h){K0(g,h);function g(m){return h.call(this,"zoom",m)||this}return g})(h3),m3=(function(h){K0(g,h);function g(m){return h.call(this,"torch",m)||this}return g})(vm),x3=(function(){function h(g){this.track=g}return h.prototype.zoomFeature=function(){return new g3(this.track)},h.prototype.torchFeature=function(){return new m3(this.track)},h})(),p3=(function(){function h(g,m,y){this.isClosed=!1,this.parentElement=g,this.mediaStream=m,this.callbacks=y,this.surface=this.createVideoElement(this.parentElement.clientWidth),g.append(this.surface)}return h.prototype.createVideoElement=function(g){var m=document.createElement("video");return m.style.width="".concat(g,"px"),m.style.display="block",m.muted=!0,m.setAttribute("muted","true"),m.playsInline=!0,m},h.prototype.setupSurface=function(){var g=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var m=function(){var y=g.surface.clientWidth,E=g.surface.clientHeight;g.callbacks.onRenderSurfaceReady(y,E),g.surface.removeEventListener("playing",m)};this.surface.addEventListener("playing",m),this.surface.srcObject=this.mediaStream,this.surface.play()},h.create=function(g,m,y,E){return Xc(this,void 0,void 0,function(){var v,T;return qc(this,function(O){switch(O.label){case 0:return v=new h(g,m,E),y.aspectRatio?(T={aspectRatio:y.aspectRatio},[4,v.getFirstTrackOrFail().applyConstraints(T)]):[3,2];case 1:O.sent(),O.label=2;case 2:return v.setupSurface(),[2,v]}})})},h.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},h.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},h.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},h.prototype.resume=function(g){this.failIfClosed();var m=this,y=function(){setTimeout(g,200),m.surface.removeEventListener("playing",y)};this.surface.addEventListener("playing",y),this.surface.play()},h.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},h.prototype.getSurface=function(){return this.failIfClosed(),this.surface},h.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},h.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},h.prototype.applyVideoConstraints=function(g){return Xc(this,void 0,void 0,function(){return qc(this,function(m){if("aspectRatio"in g)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(g)]})})},h.prototype.close=function(){if(this.isClosed)return Promise.resolve();var g=this;return new Promise(function(m,y){var E=g.mediaStream.getVideoTracks(),v=E.length,T=0;g.mediaStream.getVideoTracks().forEach(function(O){g.mediaStream.removeTrack(O),O.stop(),++T,T>=v&&(g.isClosed=!0,g.parentElement.removeChild(g.surface),m())})})},h.prototype.getCapabilities=function(){return new x3(this.getFirstTrackOrFail())},h})(),y3=(function(){function h(g){this.mediaStream=g}return h.prototype.render=function(g,m,y){return Xc(this,void 0,void 0,function(){return qc(this,function(E){return[2,p3.create(g,this.mediaStream,m,y)]})})},h.create=function(g){return Xc(this,void 0,void 0,function(){var m,y;return qc(this,function(E){switch(E.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return m={audio:!1,video:g},[4,navigator.mediaDevices.getUserMedia(m)];case 1:return y=E.sent(),[2,new h(y)]}})})},h})(),y2=function(h,g,m,y){function E(v){return v instanceof m?v:new m(function(T){T(v)})}return new(m||(m=Promise))(function(v,T){function O(j){try{S(y.next(j))}catch(L){T(L)}}function R(j){try{S(y.throw(j))}catch(L){T(L)}}function S(j){j.done?v(j.value):E(j.value).then(O,R)}S((y=y.apply(h,g||[])).next())})},b2=function(h,g){var m={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},y,E,v,T;return T={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function O(S){return function(j){return R([S,j])}}function R(S){if(y)throw new TypeError("Generator is already executing.");for(;T&&(T=0,S[0]&&(m=0)),m;)try{if(y=1,E&&(v=S[0]&2?E.return:S[0]?E.throw||((v=E.return)&&v.call(E),0):E.next)&&!(v=v.call(E,S[1])).done)return v;switch(E=0,v&&(S=[S[0]&2,v.value]),S[0]){case 0:case 1:v=S;break;case 4:return m.label++,{value:S[1],done:!1};case 5:m.label++,E=S[1],S=[0];continue;case 7:S=m.ops.pop(),m.trys.pop();continue;default:if(v=m.trys,!(v=v.length>0&&v[v.length-1])&&(S[0]===6||S[0]===2)){m=0;continue}if(S[0]===3&&(!v||S[1]>v[0]&&S[1]<v[3])){m.label=S[1];break}if(S[0]===6&&m.label<v[1]){m.label=v[1],v=S;break}if(v&&m.label<v[2]){m.label=v[2],m.ops.push(S);break}v[2]&&m.ops.pop(),m.trys.pop();continue}S=g.call(h,m)}catch(j){S=[6,j],E=0}finally{y=v=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},b3=(function(){function h(){}return h.failIfNotSupported=function(){return y2(this,void 0,void 0,function(){return b2(this,function(g){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new h]})})},h.prototype.create=function(g){return y2(this,void 0,void 0,function(){return b2(this,function(m){return[2,y3.create(g)]})})},h})(),w3=function(h,g,m,y){function E(v){return v instanceof m?v:new m(function(T){T(v)})}return new(m||(m=Promise))(function(v,T){function O(j){try{S(y.next(j))}catch(L){T(L)}}function R(j){try{S(y.throw(j))}catch(L){T(L)}}function S(j){j.done?v(j.value):E(j.value).then(O,R)}S((y=y.apply(h,g||[])).next())})},v3=function(h,g){var m={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},y,E,v,T;return T={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function O(S){return function(j){return R([S,j])}}function R(S){if(y)throw new TypeError("Generator is already executing.");for(;T&&(T=0,S[0]&&(m=0)),m;)try{if(y=1,E&&(v=S[0]&2?E.return:S[0]?E.throw||((v=E.return)&&v.call(E),0):E.next)&&!(v=v.call(E,S[1])).done)return v;switch(E=0,v&&(S=[S[0]&2,v.value]),S[0]){case 0:case 1:v=S;break;case 4:return m.label++,{value:S[1],done:!1};case 5:m.label++,E=S[1],S=[0];continue;case 7:S=m.ops.pop(),m.trys.pop();continue;default:if(v=m.trys,!(v=v.length>0&&v[v.length-1])&&(S[0]===6||S[0]===2)){m=0;continue}if(S[0]===3&&(!v||S[1]>v[0]&&S[1]<v[3])){m.label=S[1];break}if(S[0]===6&&m.label<v[1]){m.label=v[1],v=S;break}if(v&&m.label<v[2]){m.label=v[2],m.ops.push(S);break}v[2]&&m.ops.pop(),m.trys.pop();continue}S=g.call(h,m)}catch(j){S=[6,j],E=0}finally{y=v=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},A3=(function(){function h(){}return h.retrieve=function(){if(navigator.mediaDevices)return h.getCamerasFromMediaDevices();var g=MediaStreamTrack;return MediaStreamTrack&&g.getSources?h.getCamerasFromMediaStreamTrack():h.rejectWithError()},h.rejectWithError=function(){var g=Ds.unableToQuerySupportedDevices();return h.isHttpsOrLocalhost()||(g=Ds.insecureContextCameraQueryError()),Promise.reject(g)},h.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var g=location.host.split(":")[0];return g==="127.0.0.1"||g==="localhost"},h.getCamerasFromMediaDevices=function(){return w3(this,void 0,void 0,function(){var g,m,y,E,v,T,O;return v3(this,function(R){switch(R.label){case 0:return g=function(S){for(var j=S.getVideoTracks(),L=0,W=j;L<W.length;L++){var K=W[L];K.enabled=!1,K.stop(),S.removeTrack(K)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return m=R.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(y=R.sent(),E=[],v=0,T=y;v<T.length;v++)O=T[v],O.kind==="videoinput"&&E.push({id:O.deviceId,label:O.label});return g(m),[2,E]}})})},h.getCamerasFromMediaStreamTrack=function(){return new Promise(function(g,m){var y=function(v){for(var T=[],O=0,R=v;O<R.length;O++){var S=R[O];S.kind==="video"&&T.push({id:S.id,label:S.label})}g(T)},E=MediaStreamTrack;E.getSources(y)})},h})(),rr;(function(h){h[h.UNKNOWN=0]="UNKNOWN",h[h.NOT_STARTED=1]="NOT_STARTED",h[h.SCANNING=2]="SCANNING",h[h.PAUSED=3]="PAUSED"})(rr||(rr={}));var E3=(function(){function h(){this.state=rr.NOT_STARTED,this.onGoingTransactionNewState=rr.UNKNOWN}return h.prototype.directTransition=function(g){this.failIfTransitionOngoing(),this.validateTransition(g),this.state=g},h.prototype.startTransition=function(g){return this.failIfTransitionOngoing(),this.validateTransition(g),this.onGoingTransactionNewState=g,this},h.prototype.execute=function(){if(this.onGoingTransactionNewState===rr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var g=this.onGoingTransactionNewState;this.onGoingTransactionNewState=rr.UNKNOWN,this.directTransition(g)},h.prototype.cancel=function(){if(this.onGoingTransactionNewState===rr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=rr.UNKNOWN},h.prototype.getState=function(){return this.state},h.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==rr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},h.prototype.validateTransition=function(g){switch(this.state){case rr.UNKNOWN:throw"Transition from unknown is not allowed";case rr.NOT_STARTED:this.failIfNewStateIs(g,[rr.PAUSED]);break;case rr.SCANNING:break;case rr.PAUSED:break}},h.prototype.failIfNewStateIs=function(g,m){for(var y=0,E=m;y<E.length;y++){var v=E[y];if(g===v)throw"Cannot transition from ".concat(this.state," to ").concat(g)}},h})(),C3=(function(){function h(g){this.stateManager=g}return h.prototype.startTransition=function(g){return this.stateManager.startTransition(g)},h.prototype.directTransition=function(g){this.stateManager.directTransition(g)},h.prototype.getState=function(){return this.stateManager.getState()},h.prototype.canScanFile=function(){return this.stateManager.getState()===rr.NOT_STARTED},h.prototype.isScanning=function(){return this.stateManager.getState()!==rr.NOT_STARTED},h.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===rr.SCANNING},h.prototype.isPaused=function(){return this.stateManager.getState()===rr.PAUSED},h})(),S3=(function(){function h(){}return h.create=function(){return new C3(new E3)},h})(),T3=(function(){var h=function(g,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,E){y.__proto__=E}||function(y,E){for(var v in E)Object.prototype.hasOwnProperty.call(E,v)&&(y[v]=E[v])},h(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");h(g,m);function y(){this.constructor=g}g.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}})(),Bi=(function(h){T3(g,h);function g(){return h!==null&&h.apply(this,arguments)||this}return g.DEFAULT_WIDTH=300,g.DEFAULT_WIDTH_OFFSET=2,g.FILE_SCAN_MIN_HEIGHT=300,g.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,g.MIN_QR_BOX_SIZE=50,g.SHADED_LEFT=1,g.SHADED_RIGHT=2,g.SHADED_TOP=3,g.SHADED_BOTTOM=4,g.SHADED_REGION_ELEMENT_ID="qr-shaded-region",g.VERBOSE=!1,g.BORDER_SHADER_DEFAULT_COLOR="#ffffff",g.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",g})(i3),_3=(function(){function h(g,m){this.logger=m,this.fps=Bi.SCAN_DEFAULT_FPS,g?(g.fps&&(this.fps=g.fps),this.disableFlip=g.disableFlip===!0,this.qrbox=g.qrbox,this.aspectRatio=g.aspectRatio,this.videoConstraints=g.videoConstraints):this.disableFlip=Bi.DEFAULT_DISABLE_FLIP}return h.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?wm.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},h.prototype.isShadedBoxEnabled=function(){return!Fa(this.qrbox)},h.create=function(g,m){return new h(g,m)},h})(),b0=(function(){function h(g,m){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(g))throw"HTML Element with id=".concat(g," not found");this.elementId=g,this.verbose=!1;var y;typeof m=="boolean"?this.verbose=m===!0:m&&(y=m,this.verbose=y.verbose===!0,y.experimentalFeatures),this.logger=new l3(this.verbose),this.qrcode=new d3(this.getSupportedFormats(m),this.getUseBarCodeDetectorIfSupported(y),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=S3.create()}return h.prototype.start=function(g,m,y,E){var v=this;if(!g)throw"cameraIdOrConfig is required";if(!y||typeof y!="function")throw"qrCodeSuccessCallback is required and should be a function.";var T;E?T=E:T=this.verbose?this.logger.log:function(){};var O=_3.create(m,this.logger);this.clearElement();var R=!1;O.videoConstraints&&(O.isMediaStreamConstraintsValid()?R=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var S=R,j=document.getElementById(this.elementId);j.clientWidth?j.clientWidth:Bi.DEFAULT_WIDTH,j.style.position="relative",this.shouldScan=!0,this.element=j;var L=this,W=this.stateManagerProxy.startTransition(rr.SCANNING);return new Promise(function(K,Ee){var le=S?O.videoConstraints:L.createVideoConstraints(g);if(!le){W.cancel(),Ee("videoConstraints should be defined");return}var Se={};(!S||O.aspectRatio)&&(Se.aspectRatio=O.aspectRatio);var Te={onRenderSurfaceReady:function(Ce,se){L.setupUi(Ce,se,O),L.isScanning=!0,L.foreverScan(O,y,T)}};b3.failIfNotSupported().then(function(Ce){Ce.create(le).then(function(se){return se.render(v.element,Se,Te).then(function(me){L.renderedCamera=me,W.execute(),K(null)}).catch(function(me){W.cancel(),Ee(me)})}).catch(function(se){W.cancel(),Ee(Ds.errorGettingUserMedia(se))})}).catch(function(Ce){W.cancel(),Ee(Ds.cameraStreamingNotSupported())})})},h.prototype.pause=function(g){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(rr.PAUSED),this.showPausedState(),(Fa(g)||g!==!0)&&(g=!1),g&&this.renderedCamera&&this.renderedCamera.pause()},h.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var g=this,m=function(){g.stateManagerProxy.directTransition(rr.SCANNING),g.hidePausedState()};if(!this.renderedCamera.isPaused()){m();return}this.renderedCamera.resume(function(){m()})},h.prototype.getState=function(){return this.stateManagerProxy.getState()},h.prototype.stop=function(){var g=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var m=this.stateManagerProxy.startTransition(rr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var y=function(){if(g.element){var v=document.getElementById(Bi.SHADED_REGION_ELEMENT_ID);v&&g.element.removeChild(v)}},E=this;return this.renderedCamera.close().then(function(){return E.renderedCamera=null,E.element&&(E.element.removeChild(E.canvasElement),E.canvasElement=null),y(),E.qrRegion&&(E.qrRegion=null),E.context&&(E.context=null),m.execute(),E.hidePausedState(),E.isScanning=!1,Promise.resolve()})},h.prototype.scanFile=function(g,m){return this.scanFileV2(g,m).then(function(y){return y.decodedText})},h.prototype.scanFileV2=function(g,m){var y=this;if(!g||!(g instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Fa(m)&&(m=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(E,v){y.possiblyCloseLastScanImageFile(),y.clearElement(),y.lastScanImageFile=URL.createObjectURL(g);var T=new Image;T.onload=function(){var O=T.width,R=T.height,S=document.getElementById(y.elementId),j=S.clientWidth?S.clientWidth:Bi.DEFAULT_WIDTH,L=Math.max(S.clientHeight?S.clientHeight:R,Bi.FILE_SCAN_MIN_HEIGHT),W=y.computeCanvasDrawConfig(O,R,j,L);if(m){var K=y.createCanvasElement(j,L,"qr-canvas-visible");K.style.display="inline-block",S.appendChild(K);var Ee=K.getContext("2d");if(!Ee)throw"Unable to get 2d context from canvas";Ee.canvas.width=j,Ee.canvas.height=L,Ee.drawImage(T,0,0,O,R,W.x,W.y,W.width,W.height)}var le=Bi.FILE_SCAN_HIDDEN_CANVAS_PADDING,Se=Math.max(T.width,W.width),Te=Math.max(T.height,W.height),Ce=Se+2*le,se=Te+2*le,me=y.createCanvasElement(Ce,se);S.appendChild(me);var Xe=me.getContext("2d");if(!Xe)throw"Unable to get 2d context from canvas";Xe.canvas.width=Ce,Xe.canvas.height=se,Xe.drawImage(T,0,0,O,R,le,le,Se,Te);try{y.qrcode.decodeRobustlyAsync(me).then(function(he){E(d2.createFromQrcodeResult(he))}).catch(v)}catch(he){v("QR code parse error, error = ".concat(he))}},T.onerror=v,T.onabort=v,T.onstalled=v,T.onsuspend=v,T.src=URL.createObjectURL(g)})},h.prototype.clear=function(){this.clearElement()},h.getCameras=function(){return A3.retrieve()},h.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},h.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},h.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},h.prototype.applyVideoConstraints=function(g){if(g){if(!wm.isMediaStreamConstraintsValid(g,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(g)},h.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},h.prototype.getSupportedFormats=function(g){var m=[rt.QR_CODE,rt.AZTEC,rt.CODABAR,rt.CODE_39,rt.CODE_93,rt.CODE_128,rt.DATA_MATRIX,rt.MAXICODE,rt.ITF,rt.EAN_13,rt.EAN_8,rt.PDF_417,rt.RSS_14,rt.RSS_EXPANDED,rt.UPC_A,rt.UPC_E,rt.UPC_EAN_EXTENSION];if(!g||typeof g=="boolean"||!g.formatsToSupport)return m;if(!Array.isArray(g.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(g.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var y=[],E=0,v=g.formatsToSupport;E<v.length;E++){var T=v[E];r3(T)?y.push(T):this.logger.warn("Invalid format: ".concat(T," passed in config, ignoring."))}if(y.length===0)throw"None of formatsToSupport match supported values.";return y},h.prototype.getUseBarCodeDetectorIfSupported=function(g){if(Fa(g))return!0;if(!Fa(g.useBarCodeDetectorIfSupported))return g.useBarCodeDetectorIfSupported!==!1;if(Fa(g.experimentalFeatures))return!0;var m=g.experimentalFeatures;return Fa(m.useBarCodeDetectorIfSupported)?!0:m.useBarCodeDetectorIfSupported!==!1},h.prototype.validateQrboxSize=function(g,m,y){var E=this,v=y.qrbox;this.validateQrboxConfig(v);var T=this.toQrdimensions(g,m,v),O=function(S){if(S<Bi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Bi.MIN_QR_BOX_SIZE,"px.")},R=function(S){return S>g&&(E.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),S=g),S};O(T.width),O(T.height),T.width=R(T.width)},h.prototype.validateQrboxConfig=function(g){if(typeof g!="number"&&typeof g!="function"&&(g.width===void 0||g.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},h.prototype.toQrdimensions=function(g,m,y){if(typeof y=="number")return{width:y,height:y};if(typeof y=="function")try{return y(g,m)}catch(E){throw new Error("qrbox config was passed as a function but it failed with unknown error"+E)}return y},h.prototype.setupUi=function(g,m,y){y.isShadedBoxEnabled()&&this.validateQrboxSize(g,m,y);var E=Fa(y.qrbox)?{width:g,height:m}:y.qrbox;this.validateQrboxConfig(E);var v=this.toQrdimensions(g,m,E);v.height>m&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var T=y.isShadedBoxEnabled()&&v.height<=m,O={x:0,y:0,width:g,height:m},R=T?this.getShadedRegionBounds(g,m,v):O,S=this.createCanvasElement(R.width,R.height),j={willReadFrequently:!0},L=S.getContext("2d",j);L.canvas.width=R.width,L.canvas.height=R.height,this.element.append(S),T&&this.possiblyInsertShadingElement(this.element,g,m,v),this.createScannerPausedUiElement(this.element),this.qrRegion=R,this.context=L,this.canvasElement=S},h.prototype.createScannerPausedUiElement=function(g){var m=document.createElement("div");m.innerText=Ds.scannerPaused(),m.style.display="none",m.style.position="absolute",m.style.top="0px",m.style.zIndex="1",m.style.background="rgba(9, 9, 9, 0.46)",m.style.color="#FFECEC",m.style.textAlign="center",m.style.width="100%",g.appendChild(m),this.scannerPausedUiElement=m},h.prototype.scanContext=function(g,m){var y=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(E){return g(E.text,d2.createFromQrcodeResult(E)),y.possiblyUpdateShaders(!0),!0}).catch(function(E){y.possiblyUpdateShaders(!1);var v=Ds.codeParseError(E);return m(v,a3.createFrom(v)),!1})},h.prototype.foreverScan=function(g,m,y){var E=this;if(this.shouldScan&&this.renderedCamera){var v=this.renderedCamera.getSurface(),T=v.videoWidth/v.clientWidth,O=v.videoHeight/v.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var R=this.qrRegion.width*T,S=this.qrRegion.height*O,j=this.qrRegion.x*T,L=this.qrRegion.y*O;this.context.drawImage(v,j,L,R,S,0,0,this.qrRegion.width,this.qrRegion.height);var W=function(){E.foreverScanTimeout=setTimeout(function(){E.foreverScan(g,m,y)},E.getTimeoutFps(g.fps))};this.scanContext(m,y).then(function(K){!K&&g.disableFlip!==!0?(E.context.translate(E.context.canvas.width,0),E.context.scale(-1,1),E.scanContext(m,y).finally(function(){W()})):W()}).catch(function(K){E.logger.logError("Error happend while scanning context",K),W()})}},h.prototype.createVideoConstraints=function(g){if(typeof g=="string")return{deviceId:{exact:g}};if(typeof g=="object"){var m="facingMode",y="deviceId",E={user:!0,environment:!0},v="exact",T=function(Ee){if(Ee in E)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(Ee,"'")},O=Object.keys(g);if(O.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(O.length," keys");var R=Object.keys(g)[0];if(R!==m&&R!==y)throw"Only '".concat(m,"' and '").concat(y,"' ")+" are supported for 'cameraIdOrConfig'";if(R===m){var S=g.facingMode;if(typeof S=="string"){if(T(S))return{facingMode:S}}else if(typeof S=="object")if(v in S){if(T(S["".concat(v)]))return{facingMode:{exact:S["".concat(v)]}}}else throw"'facingMode' should be string or object with"+" ".concat(v," as key.");else{var j=typeof S;throw"Invalid type of 'facingMode' = ".concat(j)}}else{var L=g.deviceId;if(typeof L=="string")return{deviceId:L};if(typeof L=="object"){if(v in L)return{deviceId:{exact:L["".concat(v)]}};throw"'deviceId' should be string or object with"+" ".concat(v," as key.")}else{var W=typeof L;throw"Invalid type of 'deviceId' = ".concat(W)}}}var K=typeof g;throw"Invalid type of 'cameraIdOrConfig' = ".concat(K)},h.prototype.computeCanvasDrawConfig=function(g,m,y,E){if(g<=y&&m<=E){var v=(y-g)/2,T=(E-m)/2;return{x:v,y:T,width:g,height:m}}else{var O=g,R=m;return g>y&&(m=y/g*m,g=y),m>E&&(g=E/m*g,m=E),this.logger.log("Image downsampled from "+"".concat(O,"X").concat(R)+" to ".concat(g,"X").concat(m,".")),this.computeCanvasDrawConfig(g,m,y,E)}},h.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var g=document.getElementById(this.elementId);g&&(g.innerHTML="")},h.prototype.possiblyUpdateShaders=function(g){this.qrMatch!==g&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(m){m.style.backgroundColor=g?Bi.BORDER_SHADER_MATCH_COLOR:Bi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=g)},h.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},h.prototype.createCanvasElement=function(g,m,y){var E=g,v=m,T=document.createElement("canvas");return T.style.width="".concat(E,"px"),T.style.height="".concat(v,"px"),T.style.display="none",T.id=Fa(y)?"qr-canvas":y,T},h.prototype.getShadedRegionBounds=function(g,m,y){if(y.width>g||y.height>m)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(g-y.width)/2,y:(m-y.height)/2,width:y.width,height:y.height}},h.prototype.possiblyInsertShadingElement=function(g,m,y,E){if(!(m-E.width<1||y-E.height<1)){var v=document.createElement("div");v.style.position="absolute";var T=(m-E.width)/2,O=(y-E.height)/2;if(v.style.borderLeft="".concat(T,"px solid rgba(0, 0, 0, 0.48)"),v.style.borderRight="".concat(T,"px solid rgba(0, 0, 0, 0.48)"),v.style.borderTop="".concat(O,"px solid rgba(0, 0, 0, 0.48)"),v.style.borderBottom="".concat(O,"px solid rgba(0, 0, 0, 0.48)"),v.style.boxSizing="border-box",v.style.top="0px",v.style.bottom="0px",v.style.left="0px",v.style.right="0px",v.id="".concat(Bi.SHADED_REGION_ELEMENT_ID),m-E.width<11||y-E.height<11)this.hasBorderShaders=!1;else{var R=5,S=40;this.insertShaderBorders(v,S,R,-R,null,0,!0),this.insertShaderBorders(v,S,R,-R,null,0,!1),this.insertShaderBorders(v,S,R,null,-R,0,!0),this.insertShaderBorders(v,S,R,null,-R,0,!1),this.insertShaderBorders(v,R,S+R,-R,null,-R,!0),this.insertShaderBorders(v,R,S+R,null,-R,-R,!0),this.insertShaderBorders(v,R,S+R,-R,null,-R,!1),this.insertShaderBorders(v,R,S+R,null,-R,-R,!1),this.hasBorderShaders=!0}g.append(v)}},h.prototype.insertShaderBorders=function(g,m,y,E,v,T,O){var R=document.createElement("div");R.style.position="absolute",R.style.backgroundColor=Bi.BORDER_SHADER_DEFAULT_COLOR,R.style.width="".concat(m,"px"),R.style.height="".concat(y,"px"),E!==null&&(R.style.top="".concat(E,"px")),v!==null&&(R.style.bottom="".concat(v,"px")),O?R.style.left="".concat(T,"px"):R.style.right="".concat(T,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(R),g.appendChild(R)},h.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},h.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},h.prototype.getTimeoutFps=function(g){return 1e3/g},h})(),w2;(function(h){h[h.STATUS_DEFAULT=0]="STATUS_DEFAULT",h[h.STATUS_SUCCESS=1]="STATUS_SUCCESS",h[h.STATUS_WARNING=2]="STATUS_WARNING",h[h.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(w2||(w2={}));function N3({onBack:h,onRestored:g}){const[m,y]=J.useState(null),[E,v]=J.useState(""),[T,O]=J.useState(null),[R,S]=J.useState(null),[j,L]=J.useState(!1),[W,K]=J.useState(!1),[Ee,le]=J.useState(!1),[Se,Te]=J.useState("camera"),[Ce,se]=J.useState([]),[me,Xe]=J.useState(0),[he,X]=J.useState(!1),[ee,Q]=J.useState(!1),je=J.useRef(null),Me=J.useRef(null),[we,ae]=J.useState(null),[Re,$]=J.useState(1);J.useEffect(()=>{X0().then(K)},[]);const re=J.useCallback(_e=>{try{const He=JSON.parse(_e);He.d&&He.t?(y(He),je.current?.isScanning&&(je.current.stop().catch(()=>{}),Q(!1))):O("QR")}catch{O("QR")}},[]),pe=J.useCallback(async()=>{if(je.current){try{je.current.isScanning&&await je.current.stop()}catch{}je.current=null}Q(!1),ae(null),$(1)},[]),qe=J.useCallback(async _e=>{X(!0),O(null);try{await pe(),await new Promise(Je=>setTimeout(Je,100));const He=document.getElementById("qr-reader-region");He&&(He.innerHTML="");const Ae=new b0("qr-reader-region");je.current=Ae,await Ae.start(_e,{fps:15,qrbox:{width:250,height:250}},re,()=>{}),Q(!0);try{const We=Ae.getRunningTrackCapabilities().zoom;We?(ae({min:We.min,max:We.max,step:We.step||.1}),$(We.min)):ae(null)}catch{ae(null)}}catch(He){O(""),console.error(He)}finally{X(!1)}},[re,pe]);J.useEffect(()=>(b0.getCameras().then(_e=>{if(_e.length>0){const He=_e.map(We=>({id:We.id,label:We.label||""}));se(He);const Ae=He.findIndex(We=>We.label.toLowerCase().includes("back")||We.label.toLowerCase().includes("rear")||We.label.includes("")),Je=Ae>=0?Ae:0;Xe(Je),qe(He[Je].id)}}).catch(()=>{Te("file")}),()=>{je.current&&je.current.isScanning&&je.current.stop().catch(()=>{})}),[]);const tt=async _e=>{_e!==Se&&(O(null),_e==="file"?(await pe(),Te(_e)):_e==="camera"&&Ce.length>0&&(Te(_e),setTimeout(()=>{qe(Ce[me].id)},150)))},be=async()=>{if(Ce.length<=1)return;const _e=(me+1)%Ce.length;Xe(_e),await qe(Ce[_e].id)},Y=async _e=>{const He=_e.target.files?.[0];if(He){O(null);try{const Ae=document.getElementById("qr-reader-region");Ae&&(Ae.innerHTML="");const Je=new b0("qr-reader-region"),We=await Je.scanFile(He,!1);Je.clear(),re(We)}catch{O("QR")}Me.current&&(Me.current.value="")}};J.useEffect(()=>{if(R){const _e=setTimeout(()=>S(null),12e4);return()=>clearTimeout(_e)}},[R]);const ue=async _e=>{_e.preventDefault(),O(null);try{const He=await R0(m.d,E);S(He)}catch(He){O(He.message||"")}},ze=async()=>{if(!(!m||!R)){L(!0);try{const _e=crypto.randomUUID();Ee&&await q0(E,_e,m.t||"Restored Seed"),await fr.vault_items.add({id:_e,title:m.t||"Restored Seed",category:m.c||"",encryptedData:m.d,createdAt:new Date().toISOString(),hasBiometrics:Ee}),g()}catch(_e){O(_e.message||"")}finally{L(!1)}}};return H.jsxs("div",{className:"space-y-6",children:[H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsx("button",{onClick:h,className:"p-2 hover:bg-zinc-800 rounded-xl transition-colors",children:H.jsx(k0,{className:"w-5 h-5 text-zinc-400"})}),H.jsx("h2",{className:"text-lg font-bold",style:{fontFamily:"var(--font-display)"},children:"QR"})]}),m?R?H.jsxs("div",{className:"space-y-4",children:[H.jsx(Pa,{children:H.jsxs("div",{className:"p-5 space-y-4",children:[H.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:""}),H.jsx("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl p-4 font-mono text-center break-all leading-relaxed select-all",children:R})]})}),H.jsx("div",{className:"bg-blue-900/20 border border-blue-800/50 rounded-xl p-4 text-sm text-blue-300/80",children:"DB"}),W&&H.jsxs("button",{onClick:()=>le(!Ee),className:Sr("w-full flex items-center justify-between p-4 rounded-xl border transition-all",Ee?"bg-blue-600/10 border-blue-500 text-blue-400":"bg-zinc-950 border-zinc-800 text-zinc-500 hover:border-zinc-700"),children:[H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsx(So,{className:"w-5 h-5"}),H.jsx("span",{className:"text-sm font-medium",children:""})]}),H.jsx("div",{className:Sr("w-10 h-6 rounded-full relative transition-colors",Ee?"bg-blue-600":"bg-zinc-800"),children:H.jsx("div",{className:Sr("absolute top-1 w-4 h-4 rounded-full bg-white transition-all",Ee?"left-5":"left-1")})})]}),H.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[H.jsx(Ir,{variant:"ghost",onClick:g,className:"w-full",children:""}),H.jsxs(Ir,{onClick:ze,className:"w-full",size:"lg",disabled:j,children:[H.jsx(F2,{className:"w-4 h-4"}),""]})]})]}):H.jsx(Pa,{children:H.jsxs("div",{className:"p-5 space-y-5",children:[H.jsxs("div",{className:"flex items-center gap-3 bg-emerald-900/20 border border-emerald-800/50 rounded-xl p-3",children:[H.jsx(iy,{className:"w-5 h-5 text-emerald-400 shrink-0"}),H.jsxs("p",{className:"text-sm text-emerald-300",children:["QR: ",H.jsx("strong",{children:m.t})]})]}),H.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[H.jsx(Rs,{label:"",type:"password",placeholder:"",autoFocus:!0,value:E,onChange:_e=>v(_e.target.value),required:!0}),T&&H.jsxs("div",{className:"bg-red-900/20 border border-red-800/50 rounded-xl p-3 flex gap-3 text-red-400 text-sm",children:[H.jsx(A0,{className:"w-4 h-4 shrink-0 mt-0.5"}),T]}),H.jsx(Ir,{type:"submit",size:"lg",className:"w-full",children:""})]})]})}):H.jsxs("div",{className:"space-y-4",children:[H.jsxs("div",{className:"flex gap-2 p-1 bg-zinc-900 rounded-2xl",children:[H.jsxs("button",{onClick:()=>tt("camera"),className:Sr("flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-sm font-semibold transition-all",Se==="camera"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-zinc-400 hover:text-zinc-200"),children:[H.jsx(Zp,{className:"w-4 h-4"}),""]}),H.jsxs("button",{onClick:()=>tt("file"),className:Sr("flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-sm font-semibold transition-all",Se==="file"?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-zinc-400 hover:text-zinc-200"),children:[H.jsx(mg,{className:"w-4 h-4"}),""]})]}),H.jsxs(Pa,{className:Se==="camera"?"":"hidden",children:[H.jsxs("div",{className:"relative overflow-hidden rounded-xl",children:[H.jsx("div",{id:"qr-reader-region",className:"w-full min-h-[300px] bg-black"}),he&&H.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/80 z-10",children:[H.jsx(xy,{className:"w-8 h-8 text-blue-400 animate-spin mb-3"}),H.jsx("p",{className:"text-sm text-zinc-400",children:"..."})]}),Ce.length>1&&ee&&H.jsx("div",{className:"absolute bottom-3 right-3 z-20",children:H.jsx("button",{onClick:be,className:"p-3 bg-black/60 backdrop-blur-md rounded-full text-white hover:bg-black/80 transition-all active:scale-90 border border-white/10",title:Ce[(me+1)%Ce.length]?.label,children:H.jsx(My,{className:"w-5 h-5"})})})]}),ee&&we&&H.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[H.jsx(Vy,{className:"w-4 h-4 text-zinc-500 shrink-0"}),H.jsx("input",{type:"range",min:we.min,max:we.max,step:we.step,value:Re,onChange:_e=>{const He=parseFloat(_e.target.value);if($(He),je.current?.isScanning)try{const Ae=document.querySelector("#qr-reader-region video");if(Ae?.srcObject){const Je=Ae.srcObject.getVideoTracks();Je[0]&&Je[0].applyConstraints({advanced:[{zoom:He}]})}}catch{}},className:`flex-1 h-1 rounded-full appearance-none bg-zinc-700 accent-blue-500 cursor-pointer
                    [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:rounded-full
                    [&::-webkit-slider-thumb]:bg-blue-500 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:shadow-lg`}),H.jsx(jy,{className:"w-4 h-4 text-zinc-500 shrink-0"}),H.jsxs("span",{className:"text-[11px] text-zinc-500 w-8 text-right",children:[Re.toFixed(1),"x"]})]}),Ce.length>0&&H.jsx("p",{className:"text-center text-[11px] text-zinc-600 py-2 px-4 truncate",children:Ce[me]?.label})]}),Se==="file"&&H.jsx(Pa,{children:H.jsxs("div",{className:"p-8",children:[H.jsx("input",{ref:Me,type:"file",accept:"image/*",onChange:Y,className:"hidden",id:"qr-file-input"}),H.jsxs("label",{htmlFor:"qr-file-input",className:"flex flex-col items-center justify-center gap-4 p-8 border-2 border-dashed border-zinc-700 hover:border-blue-500 rounded-2xl cursor-pointer transition-all group",children:[H.jsx("div",{className:"w-16 h-16 bg-zinc-800 group-hover:bg-blue-600/20 rounded-2xl flex items-center justify-center transition-all",children:H.jsx(mg,{className:"w-8 h-8 text-zinc-500 group-hover:text-blue-400 transition-colors"})}),H.jsxs("div",{className:"text-center",children:[H.jsx("p",{className:"text-sm font-semibold text-zinc-300 group-hover:text-blue-300 transition-colors",children:"QR"}),H.jsx("p",{className:"text-xs text-zinc-600 mt-1",children:"PNG, JPG, WEBP "})]})]})]})}),T&&H.jsxs("div",{className:"bg-red-900/20 border border-red-800/50 rounded-xl p-3 flex gap-3 text-red-400 text-sm",children:[H.jsx(A0,{className:"w-4 h-4 shrink-0 mt-0.5"}),T]})]})]})}function R3({item:h,onBack:g,onItemUpdated:m}){const[y,E]=J.useState(""),[v,T]=J.useState(null),[O,R]=J.useState(null),[S,j]=J.useState(!1),[L,W]=J.useState(!1),[K,Ee]=J.useState(!1),[le,Se]=J.useState(null),[Te,Ce]=J.useState(!1),[se,me]=J.useState(!1),[Xe,he]=J.useState(h.title),[X,ee]=J.useState(h.title),[Q,je]=J.useState(h.category),[Me,we]=J.useState([]),ae=J.useRef(null);J.useEffect(()=>{X0().then(Ce),fr.categories.orderBy("order").toArray().then(be=>{const Y=be.map(ue=>ue.name);we([...new Set([...Kl,...Y])])})},[]),J.useEffect(()=>{se&&ae.current&&(ae.current.focus(),ae.current.select())},[se]);const Re=async()=>{const be=Xe.trim();if(!be||be===X){he(X),me(!1);return}await fr.vault_items.update(h.id,{title:be}),ee(be),me(!1),m?.({...h,title:be,category:Q})},$=async be=>{be!==Q&&(await fr.vault_items.update(h.id,{category:be}),je(be),m?.({...h,title:X,category:be}))};J.useEffect(()=>{if(v){const be=setTimeout(()=>{T(null),Ee(!1)},12e4);return()=>{clearTimeout(be),T(null),Ee(!1)}}},[v]),J.useEffect(()=>{if(K&&!le){const be=JSON.stringify({v:1,t:h.title,c:h.category,d:h.encryptedData});ym.toDataURL(be,{width:400,margin:2,color:{dark:"#000000",light:"#ffffff"}}).then(Se)}},[K,h,le]);const re=async be=>{be.preventDefault(),R(null);try{const Y=await R0(h.encryptedData,y);T(Y)}catch(Y){R(Y.message||"")}},pe=async()=>{W(!0),R(null);try{const be=await Mw(h.id),Y=await R0(h.encryptedData,be);T(Y)}catch{R("")}finally{W(!1)}},qe=async()=>{R(null);try{await q0(y,h.id,X),await fr.vault_items.update(h.id,{hasBiometrics:!0}),alert(""),g()}catch(be){R(be.message||"")}},tt=()=>{v&&(navigator.clipboard.writeText(v),j(!0),setTimeout(()=>j(!1),2e3))};return H.jsxs("div",{className:"space-y-6",children:[H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsx("button",{onClick:g,className:"p-2 hover:bg-zinc-800 rounded-xl transition-colors",children:H.jsx(k0,{className:"w-5 h-5 text-zinc-400"})}),H.jsxs("div",{className:"flex-1 min-w-0",children:[H.jsxs("div",{className:"flex items-center gap-2",children:[se?H.jsx("input",{ref:ae,type:"text",value:Xe,onChange:be=>he(be.target.value),onBlur:Re,onKeyDown:be=>{be.key==="Enter"&&Re(),be.key==="Escape"&&(he(X),me(!1))},className:"text-lg font-bold bg-zinc-800 border border-blue-500 rounded-lg px-2 py-0.5 focus:outline-none focus:ring-2 focus:ring-blue-500/30 w-full transition-all",style:{fontFamily:"var(--font-display)"}}):H.jsx("h2",{className:"text-lg font-bold truncate",style:{fontFamily:"var(--font-display)"},children:X}),H.jsx("button",{onClick:()=>{he(X),me(!se)},className:Sr("p-1.5 rounded-lg transition-all shrink-0",se?"text-blue-400 bg-blue-500/10":"text-zinc-600 hover:text-zinc-400 hover:bg-zinc-800"),title:"",children:H.jsx(by,{className:"w-3.5 h-3.5"})})]}),H.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[H.jsx("select",{value:Q,onChange:be=>$(be.target.value),className:"text-xs bg-transparent border border-transparent hover:border-zinc-700 text-zinc-500 rounded-md px-1 py-0.5 focus:outline-none focus:border-blue-500 transition-all cursor-pointer appearance-none",style:{backgroundImage:"none"},children:Me.map(be=>H.jsx("option",{value:be,children:be},be))}),H.jsx("span",{className:"text-xs text-zinc-600",children:""}),H.jsx("p",{className:"text-xs text-zinc-500",children:new Date(h.createdAt).toLocaleString()})]})]})]}),v?H.jsxs("div",{className:"space-y-4",children:[H.jsx(Pa,{children:H.jsxs("div",{className:"p-5 space-y-4",children:[H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsx("label",{className:"text-sm font-medium text-zinc-400",children:""}),H.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[H.jsxs("button",{onClick:()=>Ee(!K),className:Sr("flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors",K?"bg-blue-600 text-white":"bg-zinc-800 hover:bg-zinc-700 text-zinc-300"),children:[H.jsx(U2,{className:"w-3.5 h-3.5"}),K?"QR":"QR"]}),H.jsx("button",{onClick:tt,className:"flex items-center gap-1.5 px-3 py-1.5 bg-zinc-800 hover:bg-zinc-700 rounded-lg text-xs font-medium transition-colors text-zinc-300",children:S?H.jsxs(H.Fragment,{children:[H.jsx(Wp,{className:"w-3.5 h-3.5 text-emerald-400"})," "]}):H.jsxs(H.Fragment,{children:[H.jsx(ly,{className:"w-3.5 h-3.5"})," "]})}),H.jsxs("button",{onClick:()=>T(null),className:"flex items-center gap-1.5 px-3 py-1.5 bg-zinc-800 hover:bg-red-900/50 rounded-lg text-xs font-medium transition-colors text-zinc-400 hover:text-red-400",children:[H.jsx(oy,{className:"w-3.5 h-3.5"}),""]})]})]}),K?H.jsx("div",{className:"p-4 bg-white rounded-xl flex justify-center animate-in zoom-in-95 duration-200",children:le?H.jsx("img",{src:le,alt:"Vault Item QR",className:"w-full max-w-[240px]"}):H.jsx("div",{className:"w-[240px] h-[240px] bg-zinc-100 animate-pulse rounded-lg"})}):H.jsx("div",{className:"bg-zinc-950 border border-zinc-800 rounded-xl p-5 font-mono text-center text-lg break-all leading-loose select-all animate-in fade-in duration-300",children:v})]})}),H.jsx("div",{className:"bg-amber-900/20 border border-amber-800/50 rounded-xl p-3 text-xs text-amber-400/80 text-center",children:" 2"}),H.jsx(Ir,{variant:"ghost",onClick:g,className:"w-full",children:" "})]}):H.jsx(Pa,{children:H.jsxs("div",{className:"p-5 space-y-5",children:[H.jsx("p",{className:"text-sm text-zinc-400 text-center py-2",children:""}),H.jsxs("form",{onSubmit:re,className:"space-y-4",children:[H.jsx(Rs,{label:"",type:"password",placeholder:"",value:y,onChange:be=>E(be.target.value),required:!0}),H.jsxs(Ir,{type:"submit",size:"lg",className:"w-full",children:[H.jsx(gy,{className:"w-4 h-4"}),""]})]}),h.hasBiometrics?H.jsxs(H.Fragment,{children:[H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsx("div",{className:"flex-1 h-px bg-zinc-800"}),H.jsx("span",{className:"text-xs text-zinc-600",children:""}),H.jsx("div",{className:"flex-1 h-px bg-zinc-800"})]}),H.jsxs(Ir,{variant:"secondary",size:"lg",className:"w-full",onClick:pe,disabled:L,children:[H.jsx(So,{className:"w-4 h-4"}),L?"...":""]})]}):Te&&H.jsxs("div",{className:"pt-2",children:[H.jsxs(Ir,{variant:"ghost",size:"sm",className:"w-full text-blue-400 hover:text-blue-300 gap-1.5",onClick:qe,disabled:!y||y.length<8,children:[H.jsx(So,{className:"w-4 h-4"}),""]}),H.jsx("p",{className:"text-[10px] text-zinc-600 text-center mt-2",children:""})]}),O&&H.jsxs("div",{className:"bg-red-900/20 border border-red-800/50 rounded-xl p-3 flex gap-3 text-red-400 text-sm",children:[H.jsx(A0,{className:"w-4 h-4 shrink-0 mt-0.5"}),O]})]})})]})}function O3(){const[h,g]=J.useState("dashboard"),[m,y]=J.useState(null),[E,v]=J.useState(0),T=(R,S=null)=>{y(S),g(R),window.scrollTo({top:0,behavior:"smooth"})},O=R=>{y(R),v(S=>S+1)};return H.jsxs("div",{className:"min-h-screen bg-zinc-950 text-zinc-100",children:[H.jsx("header",{className:"sticky top-0 z-50 bg-zinc-950/80 backdrop-blur-md border-b border-zinc-800/50",children:H.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[H.jsxs("button",{onClick:()=>T("dashboard"),className:"flex items-center gap-3 group",children:[H.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center group-hover:bg-blue-500 transition-colors",children:H.jsx(Dy,{className:"w-5 h-5 text-white"})}),H.jsxs("div",{children:[H.jsx("h1",{className:"text-lg font-bold tracking-tight leading-none",style:{fontFamily:"var(--font-display)"},children:"Seed Vault"}),H.jsx("p",{className:"text-[10px] text-zinc-500 font-medium",children:"Encrypted  Offline  Local"})]})]}),H.jsx("a",{href:"https://github.com/dma-cmyk/LensKey-Vault",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-zinc-500 hover:text-zinc-300 transition-colors",children:"GitHub "})]})}),H.jsxs("main",{className:"max-w-2xl mx-auto px-4 py-6 pb-24",children:[h==="dashboard"&&H.jsx(Nw,{onAddNew:()=>T("create"),onScan:()=>T("scan"),onSelectItem:R=>T("view",R)},E),h==="create"&&H.jsx(n3,{onBack:()=>T("dashboard"),onSuccess:()=>T("dashboard")}),h==="scan"&&H.jsx(N3,{onBack:()=>T("dashboard"),onRestored:()=>T("dashboard")}),h==="view"&&m&&H.jsx(R3,{item:m,onBack:()=>T("dashboard"),onItemUpdated:O})]}),H.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-zinc-950/90 backdrop-blur-md border-t border-zinc-800/50 py-3",children:H.jsx("p",{className:"text-center text-[10px] text-zinc-600",children:"IndexedDB"})})]})}Yx.createRoot(document.getElementById("root")).render(H.jsx(J.StrictMode,{children:H.jsx(O3,{})}));
